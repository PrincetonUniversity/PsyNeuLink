


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Composition &mdash; PsyNeuLink 0.16.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://princetonuniversity.github.io/PsyNeuLink/"></a>
<!--      <a class="header-logo"></a>-->
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/PrincetonUniversity/PsyNeuLink">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="psyneulink-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="psyneulink-left-menu" id="psyneulink-left-menu">
      <div class="psyneulink-side-scroll">
        <div class="psyneulink-menu psyneulink-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="psyneulink-left-menu-search">
            

            
              
              
                <div class="version">
                  0.16.0.0
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome to PsyNeuLink </a></li>
<li class="toctree-l1"><a class="reference internal" href="BasicsAndPrimer.html">Basics and Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickReference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="Core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="Library.html">Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="ContributorsGuide.html">Contributors Guide</a></li>
</ul>

            
          
          <div class="psyneulink-dev-mode-toggle">
          </div>
        </div>
      </div>
    </nav>
    <div class="psyneulink-container">
      <div class="psyneulink-page-level-bar" id="psyneulink-page-level-bar">
        <div class="psyneulink-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="psyneulink-breadcrumbs">
    
      <li>
        <a href="index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>Composition</li>
    
  </ul>

  
</div>
        </div>

        <div class="psyneulink-shortcuts-wrapper" id="psyneulink-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="psyneulink-content-wrap" class="psyneulink-content-wrap">
        <div class="psyneulink-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="psyneulink-article" class="psyneulink-article">
              
  <section id="composition">
<h1>Composition<a class="headerlink" href="#composition" title="Permalink to this headline">¶</a></h1>
<div class="subclasses docutils container">
<p><em>Subclasses</em></p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="AutodiffComposition.html">AutodiffComposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="CompositionFunctionApproximator.html">CompositionFunctionApproximator</a></li>
<li class="toctree-l1"><a class="reference internal" href="ParameterEstimationComposition.html">ParameterEstimationComposition</a></li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="related docutils container">
<p><em>Related</em></p>
<ul class="simple">
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a></p></li>
</ul>
<div class="toctree-wrapper compound">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Pathway.html">Pathway</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="CompositionInterfaceMechanism.html">CompositionInterfaceMechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptimizationControlMechanism.html">OptimizationControlMechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scheduling.html">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Report.html">Reporting</a></li>
</ul>
</div>
</div>
<span class="target" id="module-psyneulink.core.compositions.composition"></span><section id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-overview"><span class="std std-ref">Overview</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-creation"><span class="std std-ref">Creating a Composition</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-constructor"><span class="std std-ref">Using the Constructor</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-addition-methods"><span class="std std-ref">Adding Components and Pathways</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-component-addition-methods"><span class="std std-ref">Adding Components</span></a></p></li>
<li><p><a class="reference internal" href="#composition-pathway-addition-methods"><span class="std std-ref">Adding Pathways</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-add-nested"><span class="std std-ref">Adding Nested Compositions</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-structure"><span class="std std-ref">Composition Structure</span></a></dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-graph"><span class="std std-ref">Graph</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-acyclic-cyclic"><span class="std std-ref">Acyclic and Cyclic Graphs</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-bias-nodes"><span class="std std-ref">BIAS Nodes</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-nested"><span class="std std-ref">Nested Compositions</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-probes"><span class="std std-ref">Probes</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-cims"><span class="std std-ref">CompositionInterfaceMechanisms</span></a></p></li>
<li><p><a class="reference internal" href="#composition-projections"><span class="std std-ref">Projections</span></a></p></li>
<li><p><a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-controller"><span class="std std-ref">Controlling a Composition</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-controller-assignment"><span class="std std-ref">Assigning a Controller</span></a></p></li>
<li><p><a class="reference internal" href="#composition-controller-execution"><span class="std std-ref">Controller Execution</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-learning"><span class="std std-ref">Learning in a Composition</span></a></dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-learning-standard"><span class="std std-ref">Learning Using PsyNeuLink Components</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-learning-unsupervised"><span class="std std-ref">Unsupervised Learning</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-learning-supervised"><span class="std std-ref">Supervised Learning</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">Supervised Learning Methods</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-components"><span class="std std-ref">Supervised Learning Components</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-execution"><span class="std std-ref">Execution of Supervised Learning</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-learning-autodiffcomposition"><span class="std std-ref">Learning Using AutodiffCompositon</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-udf"><span class="std std-ref">Learning Using UserDefinedFunctions</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-execution"><span class="std std-ref">Executing a Composition</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">Execution Methods</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">Composition Inputs</span></a></dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-input-formats"><span class="std std-ref">Input formats (including targets for learning)</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">Input Dictionary</span></a></p></li>
<li><p><a class="reference internal" href="#composition-programmatic-inputs"><span class="std std-ref">Specifying Inputs Programmatically</span></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-execution-factors"><span class="std std-ref">Execution Factors</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-runtime-params"><span class="std std-ref">Runtime Parameters</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-cycles-and-feedback"><span class="std std-ref">Cycles and Feedback</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-cycle"><span class="std std-ref">Cycles and Synchronous Execution</span></a></p></li>
<li><p><a class="reference internal" href="#composition-feedback"><span class="std std-ref">Feedback and Sequential Execution</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-execution-context"><span class="std std-ref">Execution Contexts</span></a></p></li>
<li><p><a class="reference internal" href="#composition-timing"><span class="std std-ref">Timing</span></a></p></li>
<li><p><a class="reference internal" href="#composition-reset"><span class="std std-ref">Resetting Stateful Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#composition-compilation"><span class="std std-ref">Compilation</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-execution-results-and-reporting"><span class="std std-ref">Results, Reporting and Logging</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-visualization"><span class="std std-ref">Visualizing a Composition</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-examples"><span class="std std-ref">Composition Examples</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-examples-creation"><span class="std std-ref">Creating a Composition</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-run"><span class="std std-ref">Run Composition</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-learning"><span class="std std-ref">Learning</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-input"><span class="std std-ref">Input Formats</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-runtime-params"><span class="std std-ref">Runtime Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-cycles-feedback"><span class="std std-ref">Cycles and Feedback</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-execution-context"><span class="std std-ref">Execution Contexts</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-reset"><span class="std std-ref">Reset Paramters of Stateful Functions</span></a></p></li>
<li><p><a class="reference internal" href="Visualization.html#showgraph-examples-visualization"><span class="std std-ref">Examples</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-class-reference"><span class="std std-ref">Class Reference</span></a></p></li>
</ul>
</div></blockquote>
</section>
<section id="overview">
<span id="composition-overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Composition is the base class for objects that combine PsyNeuLink <a class="reference internal" href="Component.html"><span class="doc">Components</span></a> into an executable model.
It defines a common set of attributes possessed, and methods used by all Composition objects.</p>
<p>Composition <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> are <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> and/or nested <a class="reference internal" href="#"><span class="doc">Compositions</span></a>.
<a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> connect pairs of Nodes. The Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.graph" title="psyneulink.core.compositions.composition.Composition.graph"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">graph</span></code></a> stores the
structural relationships among the Nodes of a Composition and the Projections that connect them.  The Composition’s
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.scheduler" title="psyneulink.core.compositions.composition.Composition.scheduler"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">scheduler</span></code></a> generates an execution queue based on these structural dependencies, allowing for
other user-specified scheduling and termination conditions to be specified.</p>
</section>
<section id="creating-a-composition">
<span id="composition-creation"></span><h2>Creating a Composition<a class="headerlink" href="#creating-a-composition" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-constructor"><span class="std std-ref">Using the Constructor</span></a></p></li>
<li><p><a class="reference internal" href="#composition-addition-methods"><span class="std std-ref">Adding Components and Pathways</span></a></p></li>
<li><p><a class="reference internal" href="#composition-add-nested"><span class="std std-ref">Adding Nested Compositions</span></a></p></li>
</ul>
</div></blockquote>
<p>A Composition can be created by calling the constructor and specifying <a class="reference internal" href="Component.html"><span class="doc">Components</span></a> to be added, using
either arguments of the constructor and/or methods that allow Components to be added once it has been constructed.</p>
<blockquote>
<div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Although Components (Nodes and Projections) can be added individually to a Composition, it is often easier
to use <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a> to construct a Composition, which in many cases can automaticially
construct the Projections needed without having to specify those explicitly.</p>
</div>
</div></blockquote>
<section id="using-the-constructor">
<span id="composition-constructor"></span><h3><em>Using the Constructor</em><a class="headerlink" href="#using-the-constructor" title="Permalink to this headline">¶</a></h3>
<p>The following arguments of the Composition’s constructor can be used to add Compnents when it is constructed:</p>
<blockquote>
<div><blockquote id="composition-pathways-arg">
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>pathways</strong></dt><dd><p>adds one or more <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a> to the Composition; this is equivalent to constructing
the Composition and then calling its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_pathways" title="psyneulink.core.compositions.composition.Composition.add_pathways"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_pathways</span></code></a> method, and can use the
same forms of specification as the <strong>pathways</strong> argument of that method (see <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">Pathway Specification</span></a> for
additonal details). If any <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathways</span></a> are included, then the
constructor’s <strong>disable_learning</strong> argument can be used to disable learning on those by default (though it
will still allow learning to occur on any other Compositions, either nested within the current one,
or within which the current one is nested (see <a class="reference internal" href="#composition-learning"><span class="std std-ref">Learning in a Composition</span></a> for a full description).</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<blockquote id="composition-nodes-arg">
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>nodes</strong></dt><dd><p>adds the specified <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> to the Composition;  this is equivalent to constructing the
Composition and then calling its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_nodes" title="psyneulink.core.compositions.composition.Composition.add_nodes"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_nodes</span></code></a> method, and takes the same values as the
<strong>nodes</strong> argument of that method (note that this does <em>not</em> construct <a class="reference internal" href="Pathway.html"><span class="doc">Pathways</span></a> for the specified
nodes; the <strong>pathways</strong> arg or  <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_pathways" title="psyneulink.core.compositions.composition.Composition.add_pathways"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_pathways</span></code></a> method must be used to do so).</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<blockquote id="composition-projections-arg">
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>projections</strong></dt><dd><p>adds the specified <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> to the Composition;  this is equivalent to constructing the
Composition and then calling its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_projections" title="psyneulink.core.compositions.composition.Composition.add_projections"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_projections</span></code></a> method, and takes the same
values as the <strong>projections</strong> argument of that method.  In general, this is not neded – default Projections
are created for Pathways and/or Nodes added to the Composition using the methods described above; however
it can be useful for custom configurations, including the implementation of specific Projection <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrices</span></code></a>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<blockquote id="composition-controller-arg">
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>controller</strong></dt><dd><p>adds the specified <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a> (typically an <a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a>) as the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> of the Composition, that can be used to simulate and optimize performance of the
Composition. If this is specified, then the <strong>enable_controller</strong>, <strong>controller_mode</strong>,
<strong>controller_condition</strong> and <strong>retain_old_simulation_data</strong> can be used to configure the controller’s operation
(see <a class="reference internal" href="#composition-controller"><span class="std std-ref">Controlling a Composition</span></a> for full description).</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div></blockquote>
</section>
<section id="adding-components-and-pathways">
<span id="composition-addition-methods"></span><h3><em>Adding Components and Pathways</em><a class="headerlink" href="#adding-components-and-pathways" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-component-addition-methods"><span class="std std-ref">Adding Components</span></a></p></li>
<li><p><a class="reference internal" href="#composition-pathway-addition-methods"><span class="std std-ref">Adding Pathways</span></a></p></li>
</ul>
</div></blockquote>
<p>The methods used for adding individual Components and <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a> to a Composition are described
briefly below.  Examples of their their use are provided in <a class="reference internal" href="#composition-examples-creation"><span class="std std-ref">Creating a Composition</span></a>.</p>
<p id="composition-component-addition-methods">The following methods can be used to add individual Components to an existing Composition:</p>
<blockquote>
<div><ul>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_node" title="psyneulink.core.compositions.composition.Composition.add_node"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_node</span></code></a></p>
<blockquote>
<div><p>adds a <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> to the Composition.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_nodes" title="psyneulink.core.compositions.composition.Composition.add_nodes"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_nodes</span></code></a></p>
<blockquote>
<div><p>adds mutiple <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> to the Composition.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_projection" title="psyneulink.core.compositions.composition.Composition.add_projection"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_projection</span></code></a></p>
<blockquote>
<div><p>adds a <a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> between a pair of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the Composition.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_projections" title="psyneulink.core.compositions.composition.Composition.add_projections"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_projections</span></code></a></p>
<blockquote>
<div><p>adds <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> between multiple pairs of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the Composition.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p id="composition-pathway-addition-methods">These methods can be used to add <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a> to an existing Composition:</p>
<blockquote>
<div><ul>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_pathways" title="psyneulink.core.compositions.composition.Composition.add_pathways"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_pathways</span></code></a></p>
<blockquote>
<div><p>adds one or more Pathways to the Composition; this a convenience method, that determines the type of
each Pathway, and calls the relevant ones of the following methods for each Pathway.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_processing_pathway</span></code></a></p>
<blockquote>
<div><p>adds and a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> to the Composition, inserting
a default Projection between any adjacent set(s) of Nodes for which a Projection is not otherwise specified
(see method documentation and <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">Pathway Specification</span></a> for additonal details); returns the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> added to
the Composition.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_learning_pathway</span></code></a></p>
<blockquote>
<div><p>adds a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> to implement a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathway</span></a>, including the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a>
needed to implement the algorithm specified in its <strong>learning_function</strong> argument;
returns the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> added to the Composition.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_reinforcement_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_reinforcement_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_reinforcement_learning_pathway</span></code></a></p>
<blockquote>
<div><p>adds a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>, including the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a> needed to implement <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.Reinforcement" title="psyneulink.core.components.functions.learningfunctions.Reinforcement"><code class="xref any py py-class docutils literal notranslate"><span class="pre">reinforcement</span> <span class="pre">learning</span></code></a> in the
specified pathway; returns the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> added to the Composition.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_td_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_td_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_td_learning_pathway</span></code></a></p>
<blockquote>
<div><p>adds a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>, including the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a> needed to implement <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.TDLearning" title="psyneulink.core.components.functions.learningfunctions.TDLearning"><code class="xref any py py-class docutils literal notranslate"><span class="pre">temporal</span> <span class="pre">differences</span></code></a> method of
reinforcement learning` in the specified pathway; returns the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>
added to the Composition.</p>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_backpropagation_learning_pathway</span></code></a></p>
<blockquote>
<div><p>adds a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>, including the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a> needed to implement the <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.BackPropagation" title="psyneulink.core.components.functions.learningfunctions.BackPropagation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">backpropagation</span> <span class="pre">learning</span> <span class="pre">algorithm</span></code></a> in the specified pathway; returns the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>
added to the Composition.</p>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only Mechanisms and Projections added to a Composition using the methods above belong to a Composition, even if
other Mechanism and/or Projections are constructed in the same Python script.</p>
</div>
</div></blockquote>
<p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> can be removed from a Composition using the <code class="xref any docutils literal notranslate"><span class="pre">remove_node</span></code> method.</p>
</section>
<section id="adding-nested-compositions">
<span id="composition-add-nested"></span><h3><em>Adding Nested Compositions</em><a class="headerlink" href="#adding-nested-compositions" title="Permalink to this headline">¶</a></h3>
<p>A Composition can be used as a <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of another Composition, either in the <strong>nodes</strong> argument
of its consructor, in a <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> specified in its <strong>pathways</strong> argument, or in one of the Composition’s <a class="reference internal" href="#composition-addition-methods"><span class="std std-ref">addition
methods</span></a>.  Projections can be specifed to and from the nested composition (or
created automatically if specified in a Pathway) just as for any other Node.</p>
</section>
</section>
<section id="composition-structure">
<span id="id1"></span><h2>Composition Structure<a class="headerlink" href="#composition-structure" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-graph"><span class="std std-ref">Graph</span></a></p></li>
<li><p><a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a></p></li>
<li><p><a class="reference internal" href="#composition-nested"><span class="std std-ref">Nested Compositions</span></a></p></li>
<li><p><a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a></p></li>
</ul>
</div></blockquote>
<p>This section provides an overview of the structure of a Composition and its <a class="reference internal" href="Component.html"><span class="doc">Components</span></a>. Later sections
describe these in greater detail, and how they are used to implement various forms of Composition.</p>
<section id="graph">
<span id="composition-graph"></span><h3><em>Graph</em><a class="headerlink" href="#graph" title="Permalink to this headline">¶</a></h3>
<p>The structure of a Composition is a computational graph, the <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of which are <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> and/or <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition(s)</span></a> that carry out computations; and the edges of which
can be thought of as Composition’s <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>, that transmit the computational results from one Node
to another Node (though see <a class="reference internal" href="#composition-projections"><span class="std std-ref">below</span></a> for a fuller description). The information about a
Composition’s structure is stored in its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.graph" title="psyneulink.core.compositions.composition.Composition.graph"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">graph</span></code></a> attribute, that is a <a class="reference internal" href="#psyneulink.core.compositions.composition.Graph" title="psyneulink.core.compositions.composition.Graph"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> object describing
its Nodes and the dependencies determined by its Projections.  There are no restrictions on the structure of the
graph, which can be <a class="reference internal" href="#composition-acyclic-cyclic"><span class="std std-ref">acyclic or cyclic</span></a>, and/or hierarchical (i.e., contain one or more
<a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Compositions</span></a>) as described below. A Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.graph" title="psyneulink.core.compositions.composition.Composition.graph"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">graph</span></code></a> can be
displayed using the Composition’s <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a> method (see <a class="reference internal" href="Visualization.html#showgraph-show-graph-method"><span class="std std-ref">Use of the show_graph Method</span></a>).</p>
<section id="acyclic-and-cyclic-graphs">
<span id="composition-acyclic-cyclic"></span><h4><em>Acyclic and Cyclic Graphs</em><a class="headerlink" href="#acyclic-and-cyclic-graphs" title="Permalink to this headline">¶</a></h4>
<p>Projections are always directed (that is, information is transimtted in only one direction).  Therefore, if the
Projections among the Nodes of the Composition never form a loop, then it is a <a class="reference external" href="https://en.wikipedia.org/wiki/Acyclic_graph">directed acyclic graph (DAG)</a>, and the order in which its Nodes are executed can be determined by
the structure of the graph itself.  However if the Composition contains loops, then its structure is a <a class="reference external" href="https://en.wikipedia.org/wiki/Cyclic_graph">cyclic graph</a>, and how the Nodes in the loop are initialized and the order in which
they execute must be determined in order to execute the graph.  PsyNeuLink has procedures both for automatically
detecting handling such cycles, and also for allowing the user to specify how this is done (see
<a class="reference internal" href="#composition-cycles-and-feedback"><span class="std std-ref">Cycles and Feedback</span></a>).</p>
</section>
</section>
<section id="nodes">
<span id="composition-nodes"></span><h3><em>Nodes</em><a class="headerlink" href="#nodes" title="Permalink to this headline">¶</a></h3>
<p>Every <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in a Composition’s graph must be either a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>. The Nodes of a Composition’s graph are listed in its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.nodes" title="psyneulink.core.compositions.composition.Composition.nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">nodes</span></code></a> attribute.
Each Node is assigned one or more <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> that designate its status in the graph.  Nodes are assigned
one or more <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> automatically when a Composition is constructed, and when Nodes or <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a> are added to it or new <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> are assigned to it. However, some of these
can be explicitly assigned by specifying the desired <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> in any of the following places:</p>
<blockquote id="composition-node-role-assignment">
<div><ul class="simple">
<li><p>the <strong>required_roles</strong> argument of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_node" title="psyneulink.core.compositions.composition.Composition.add_node"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_node</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_nodes" title="psyneulink.core.compositions.composition.Composition.add_nodes"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_nodes</span></code></a> methods;</p></li>
<li><p>a tuple specifying the Node in the <strong>pathways</strong> argument of the Composition’s constructor, a <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>'s
constructor, or in one of the methods used to add a <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathway</span></a> to the Composition
(see <a class="reference internal" href="#composition-creation"><span class="std std-ref">Creating a Composition</span></a>);  the Node must be the first item of the tuple, and the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> its 2nd item.</p></li>
<li><p>the <strong>roles</strong> argument of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.require_node_roles" title="psyneulink.core.compositions.composition.Composition.require_node_roles"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">require_node_roles</span></code></a> called for an existing Node.</p></li>
</ul>
</div></blockquote>
<p>For example, by default, the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> Nodes of a Composition are assigned as its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> nodes (that is, ones that
receive the <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">external input</span></a> when it is <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>), and similarly its
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Nodes are assigned as its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes (the values of which are reported as the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> of running the Composition). However, any other Nodes can be specified as the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> or
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes using the methods above, in addition to those assigned by default.  It is also possible to exclude some
roles from being assigned by default, using the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.exclude_node_roles" title="psyneulink.core.compositions.composition.Composition.exclude_node_roles"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">exclude_node_roles</span></code></a> method.  The
description of each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> indicates whether it is modifiable using these methods.  All of the roles assigned
to a particular Node can be listed using the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_roles_by_node" title="psyneulink.core.compositions.composition.Composition.get_roles_by_node"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_roles_by_node</span></code></a> method, and all of the
nodes assigned a particular role can be listed using the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_nodes_by_role" title="psyneulink.core.compositions.composition.Composition.get_nodes_by_role"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_nodes_by_role</span></code></a> method.
The <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_required_roles_by_node" title="psyneulink.core.compositions.composition.Composition.get_required_roles_by_node"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_required_roles_by_node</span></code></a> method lists the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> that have been assigned to a Node using the
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.require_node_roles" title="psyneulink.core.compositions.composition.Composition.require_node_roles"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">require_node_roles</span></code></a> method.</p>
<section id="bias-nodes">
<span id="composition-bias-nodes"></span><h4><em>BIAS Nodes</em><a class="headerlink" href="#bias-nodes" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.BIAS" title="psyneulink.core.compositions.composition.NodeRole.BIAS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">BIAS</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> can be used to implement BIAS Nodes, which add a bias (constant value) to the input of another
Node, that can also be modified by <a class="reference internal" href="#composition-learning"><span class="std std-ref">learning</span></a>. A BIAS Node is implemented by adding a
<a class="reference internal" href="ProcessingMechanism.html"><span class="doc">ProcessingMechanism</span></a> to the Composition and requiring it to have the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.BIAS" title="psyneulink.core.compositions.composition.NodeRole.BIAS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">BIAS</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>. This can be done using
any of the methods described <a class="reference internal" href="#composition-nodes"><span class="std std-ref">above</span></a> for assigning <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> tp a Node. The
ProcessingMechanism cannot have any afferent Projections, and should project to the <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of the Node with
the values to be biased. If the bias is to be learned, the <code class="xref any docutils literal notranslate"><span class="pre">learnable</span></code> attribute of
the MappingProjeciton should be set to True. The value of the bias, and how it is applied to the values being biased
are specified as described below:</p>
<blockquote>
<div><p><em>Single bias value</em>. To apply a single scalar bias value to all elements of the array being biased, the
<a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a> of the BIAS Node should be specified as a scalar value, and the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the MappingProjection should be assigned <em>FULL_CONNECTIVITY_MATRIX</em>;
this will use the value for all elements of the bias vector.</p>
<p><em>Array of bias values</em>. To apply a different bias value to each element of the array being biased, the
<a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a> of the BIAS Node should be specified as an array conatining the bias
values, and the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the MappingProjection should be assigned
<em>IDENTITY_MATRIX</em>; this will use the value of each element of the bias vector to multiply the corresponding
element of the array being biased.</p>
<p><em>Multiple bias arrays</em>. A single BIAS Node can be used to bias multiple arrays by specifying the
<a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a> of the BIAS Node as a 2d array, with each array in the outer
dimension containing the bias values for a different array; this will generate an <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> for each
bias array, which can be assigned a MappingProjeciton to do different Node to be biased.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Bias signals can be <a class="reference internal" href="ModulatorySignal.html#modulatorysignal-modulation"><span class="std std-ref">modulated</span></a> by a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a>, by including
a <a class="reference internal" href="ControlSignal.html#controlsignal-specification"><span class="std std-ref">ControlSignal</span></a> for the <a class="reference internal" href="TransferFunctions.html#psyneulink.core.components.functions.nonstateful.transferfunctions.Linear.slope" title="psyneulink.core.components.functions.nonstateful.transferfunctions.Linear.slope"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">slope</span></code></a> Parameter of a BIAS Node’s
<a class="reference internal" href="TransferFunctions.html#psyneulink.core.components.functions.nonstateful.transferfunctions.Linear" title="psyneulink.core.components.functions.nonstateful.transferfunctions.Linear"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Linear</span></code></a> Function.</p>
</div>
</div></blockquote>
</section>
</section>
<section id="nested-compositions">
<span id="composition-nested"></span><h3><em>Nested Compositions</em><a class="headerlink" href="#nested-compositions" title="Permalink to this headline">¶</a></h3>
<p>A nested Composition is one that is a <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> within another Composition.  When the outer
Composition is <a class="reference internal" href="#composition-execution"><span class="std std-ref">executed</span></a>, the nested Composition is executed when its Node in the outer
is called to execute by the outer Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.scheduler" title="psyneulink.core.compositions.composition.Composition.scheduler"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">scheduler</span></code></a>. Any depth of nesting of
Compositions withinothers is allowed.</p>
<p><em>Projections to Nodes in a nested Composition.</em> Any Node within an outer Composition can send a <a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> to any <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node of any Composition that is enclosed within it (i.e., at any level
of nesting).  In addition, a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a> within an outer Composition can modulate the parameter (i.e.,
send a <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a> to the <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPort</span></a>) of <em>any</em> <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> in a Composition nested within it,
not just its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes.</p>
<p><em>Projections from Nodes in a nested Composition.</em>  The nodes of an outer Composition can also <em>receive</em> Projections
from Nodes within a nested Composition.  This is true for any <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> of the nested Composition,
and it is also true for any of its other Nodes if <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.allow_probes" title="psyneulink.core.compositions.composition.Composition.allow_probes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">allow_probes</span></code></a> is True (the default);
if it is <em>CONTROL</em>, then only the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> of a Composition can receive Projections
from Nodes in a nested Composition that are not <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes.</p>
<blockquote>
<div></div></blockquote>
<ul id="composition-probes">
<li><p><em>Probes</em> – Nodes that are not <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> of a nested Composition, but project to ones in an
outer Composition, are assigned <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> in addition to their other <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">roles</span></code></a> in the
nested Composition. The only difference between <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes
is whether their output is included in the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attributes of the <em>outermost</em> Composition to which they project; this is determined by the
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> attribute of the latter. If
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> is False (the default), then the output of any
<a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes are <em>not</em> included in the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> for the outermost Composition to which they project (although they <em>are</em> still included
in those attributes of the nested Compositions; see note below). In this respect, they can be thought of as
“probing” - that is, providing access to “latent variables” of – the nested Composition to which they belong –
the values of which are not otherwise reported as part of the outermost Composition’s output or results. If
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> is True, then any <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes
of any nested Compositions are treated the same as <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes: their outputs are included in
the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> of the outermost Composition.
<a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes can be visualized, along with any Projections treated differently from those of
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes (i.e., when <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> is
False), using the Composition’s <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a> method, which displays them in their own color
(pink by default).</p>
<blockquote>
<div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<blockquote>
<div><p><a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes are useful for <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-model-based"><span class="std std-ref">model-based optimization using an</span></a>, in which the value of one or more Nodes in a nested Composition
may need to be <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-monitor-for-control"><span class="std std-ref">monitored</span></a> without being considered as</p>
</div></blockquote>
<p>part of the output or results of the Composition being optimized.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The specification of <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> only applies to a
Composition that is not nested in another.  At present, specification of the attribute for nested
Compositions is not supported:  the <strong>include_probes_in_output</strong> argument in the constructor
for nested Compositions is ignored, and the attribute is automatically set to True.</p>
<blockquote>
<div><div class="technical-note docutils container">
<p>This is because Compositions require access to the values of all of the output_CIM of any Compositions
nested within them (see <a class="reference internal" href="#composition-projections-to-cims"><span class="std std-ref">below</span></a>).</p>
</div>
</div></blockquote>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Node can be both a <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> and an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node of a nested Composition,
if it has some <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_ports</span></code></a> that project only to Nodes in the outer
Composition (those are treated the same was as Projections from an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node),
as well as other(s) that project to Nodes both within the nested Composition and to the outer Composition
(those are treated in the same way as <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes).</p>
</div>
</div></blockquote>
</li>
</ul>
<p id="composition-nested-external-input-ports"><em>Inputs for nested Compositions</em>.  If a nested Composition is an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node of all of the Compositions within
which it is nested, including the outermost one, then when the latter is <a class="reference internal" href="#composition-execution"><span class="std std-ref">executed</span></a>,
the <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">inputs specified</span></a> to its <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution method</span></a> must
include the InputPorts of the nested Composition.  These can be accessed using the Composition’s
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes" title="psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports_of_all_input_nodes</span></code></a> attribute.</p>
<p id="composition-nested-results"><em>Results from nested Compositions.</em> If a nested Composition is an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node of all of the Compositions within
which it is nested, including the outermost one, then when the latter is <a class="reference internal" href="#composition-execution"><span class="std std-ref">executed</span></a>,
both the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> of the nested Composition
are also included in those attributes of any intervening and the outermost Composition.  If <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.allow_probes" title="psyneulink.core.compositions.composition.Composition.allow_probes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">allow_probes</span></code></a> is set (which it is by default), then the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> attribute determines whether their values are also included in the
<a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> of the outermost Composition
(see <a class="reference internal" href="#composition-probes"><span class="std std-ref">above</span></a>).</p>
<p id="composition-nested-learning"><em>Learning in nested Compositions.</em> A nested Composition can also contain one or more <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathways</span></a>, however a learning Pathway may not extend from an enclosing Composition
to one nested within it or vice versa.  The learning Pathways within a nested Composition are executed
when that Composition is run, just like any other (see <a class="reference internal" href="#composition-learning-execution"><span class="std std-ref">Execution of Supervised Learning</span></a>).</p>
</section>
<section id="compositioninterfacemechanisms">
<span id="composition-cims"></span><h3><em>CompositionInterfaceMechanisms</em><a class="headerlink" href="#compositioninterfacemechanisms" title="Permalink to this headline">¶</a></h3>
<p>Every Composition has three <a class="reference internal" href="CompositionInterfaceMechanism.html"><span class="doc">CompositionInterfaceMechanisms</span></a>, described below,
that act as interfaces between it and the environment, or other Components if it is <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested</span></a>
within another Composition.  The CompositionInterfaceMechanisms of a Composition are created and assigned to it
automatically when the Composition is constructed, and executed automatically when it executes (they should never
be constructed or executed on their own).</p>
<ul class="simple" id="composition-input-cim">
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a> - this is assigned an <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> and <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> for every <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition to which it belongs. The InputPorts receive input
from either the environment or a Composition within which it is nested. If the Composition is itself an
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node of an enclosing Composition, then its input must be included in the <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">inputs</span></a> to that Composition when it is <a class="reference internal" href="#composition-execution"><span class="std std-ref">executed</span></a>. Every InputPort
of an input_CIM is associated with an OutputPort that projects to a corresponding <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node
of the Composition.</p></li>
</ul>
<ul id="composition-parameter-cim">
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM" title="psyneulink.core.compositions.composition.Composition.parameter_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">parameter_CIM</span></code></a> - this is assigned an <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> and <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> for every
<a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter" title="psyneulink.core.globals.parameters.Parameter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> of every <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition that is <a class="reference internal" href="ModulatorySignal.html#modulatorysignal-modulation"><span class="std std-ref">modulated</span></a>
by a <a class="reference internal" href="ModulatoryMechanism.html"><span class="doc">ModulatoryMechanism</span></a> (usually a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a>) outside of the Composition (i.e., from an enclosing
Composition within which it is <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested</span></a>).  The InputPort receives a Projection from a
<a class="reference internal" href="ModulatorySignal.html"><span class="doc">ModulatorySignal</span></a> on the ModulatoryMechanism, and the paired OutputPort of the parameter_CIM conveys this via
ModulatoryProjection to the <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPort</span></a> for the Paremeter of the Mechanism to be modulated.</p>
<div class="technical-note docutils container">
<p>The Projection from a ModulatoryMechanism to the InputPort of a parameter_CIM is the only instance in which a
MappingProjection is used as an <a class="reference internal" href="Mechanism.html#id9" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.efferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">efferent</span> <span class="pre">projection</span></code></a> of a ModulatoryMechanism.</p>
</div>
</li>
</ul>
<ul class="simple" id="composition-output-cim">
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a> - this is assigned an <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> and <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> for every <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition to which it belongs. Each InputPort receives input
from an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node of the Composition, and its <a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.value" title="psyneulink.core.components.ports.inputport.InputPort.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> is assigned as the
<a class="reference internal" href="OutputPort.html#psyneulink.core.components.ports.outputport.OutputPort.value" title="psyneulink.core.components.ports.outputport.OutputPort.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> of a corresponding OutputPort.  The latter are assigned to the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attributes of the Composition.  If the Composition
is <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested</span></a> within another, then the output_CIM’s <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_ports</span></code></a>
send Projections to Components of the Composition within which it is nested.  If it is an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>
Node of the enclosing Composition, then its OutputPorts project the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a> of the
enclosing Composition, its <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> are included in those of the enclosing
Composition.  If the Composition has an <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes, then they too project to the Composition’s
output_CIM.  If the Composition is nested in another, then the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">values</span></code></a> of the <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes are also included in the Composition’s <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a>;  if it
is an outer Composition (i.e. not nested in any other), then the Compositions’ <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> attribute determines whether their values are included in its <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attributes (see <a class="reference internal" href="#composition-probes"><span class="std std-ref">Probes</span></a> for
additional details).</p></li>
</ul>
</section>
<section id="projections">
<span id="composition-projections"></span><h3><em>Projections</em><a class="headerlink" href="#projections" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> can be thought of as directed edges of the Composition’s <a class="reference internal" href="#composition-graph"><span class="std std-ref">graph</span></a>,
insofar as they are always from one Node to a single other Node, and serve to convey the results of the sender’s
computation as input to the receiver. However, they are not edges in the strictest senese, for two reasons:
First, they too can carry out (restricted) computations, such as matrix transformation by a <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>.
Second, they can be the receiver of a Projection, as in the case of a MappingProjection that receives a
<a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a> used to modify its <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter.  Nevertheless, since they
define the connections and therefore dependencies among the Composition’s Nodes, they determine the structure of its
graph.  Subsets of Nodes connected by Projections can be defined as a <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> as decribed under
<a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathways</span></a> below).</p>
<div class="technical-note docutils container" id="composition-graph-projection-vertices">
<p>Because Projections are not strictly edges, they are assigned to <a class="reference internal" href="#psyneulink.core.compositions.composition.Graph.vertices" title="psyneulink.core.compositions.composition.Graph.vertices"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">vertices</span></code></a> in the Composition’s
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.graph" title="psyneulink.core.compositions.composition.Composition.graph"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">graph</span></code></a>, along with its Nodes.  The actual edges are implicit in the dependencies determined
by the Projections, and listed in the graph’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Graph.dependency_dict" title="psyneulink.core.compositions.composition.Graph.dependency_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">dependency_dict</span></code></a>.</p>
</div>
<p>Although individual Projections are directed, pairs of Nodes can be connected with Projections in each direction
(forming a local <a class="reference internal" href="#composition-cycle"><span class="std std-ref">cycle</span></a>), and the <a class="reference internal" href="AutoAssociativeProjection.html"><span class="doc">AutoAssociativeProjection</span></a> class of Projection can even
connect a Node with itself.  Projections can also connect the Node(s) of a Composition to one(s) <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested within
it</span></a>.  In general, these are to the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes and from the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes of a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>, but if the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.allow_probes" title="psyneulink.core.compositions.composition.Composition.allow_probes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">allow_probes</span></code></a> attribute is not False, then Projections can be received from any Nodes within a nested
Composition (see <a class="reference internal" href="#composition-probes"><span class="std std-ref">Probes</span></a> for additional details). A  ControlMechanism can also control (i.e.,
send a <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a>) to any Node within a nested Composition.</p>
<p>Projections can be specified between <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> before they are added to a Composition.  If both
Mechanisms are later added to the same Composition, and the Projection between them is legal for the Composition,
then the Projection between them is added to it and is used during its <a class="reference internal" href="#composition-execution"><span class="std std-ref">execution</span></a>.
However, if the Projection is not legal for the Composition (e.g., the Mechanisms are not assigned as <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INTERNAL" title="psyneulink.core.compositions.composition.NodeRole.INTERNAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INTERNAL</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of two different <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Compositions</span></a>),
the Projection will still be associated with the two Mechanisms (i.e., listed in their <a class="reference internal" href="Mechanism.html#id8" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.afferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">afferents</span></code></a> and <a class="reference internal" href="Mechanism.html#id9" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.efferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">efferents</span></code></a> attributes, respectively), but it is not
added to the Composition and not used during its execution.</p>
<blockquote>
<div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Projections that are associated with the <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of a Composition but are not in the
Composition itself (and, accordingly, <em>not</em> listed it is <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.projections" title="psyneulink.core.compositions.composition.Composition.projections"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">projections</span></code></a> attribute)
can still be visualized using the Composition’s <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a> method, by specifying its
<strong>show_projections_not_in_composition</strong> argument as True; Projections not in the Composition appear in red.</p>
</div>
</div></blockquote>
<div class="technical-note docutils container">
<p id="composition-projections-to-cims">Although Projections can be specified to and from Nodes within a nested Composition, these are actually
implemented as Projections to or from the nested Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a>,
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM" title="psyneulink.core.compositions.composition.Composition.parameter_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">parameter_CIM</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>, respectively;
those, in turn, send or receive Projections to or from the specified Nodes within the nested Composition.
<a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes of a nested Composition, like <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes,
project to the Node of an enclosing Composition via the nested Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>, and those of any intervening Compositions if it is nested more than one level deep.
The outputs of <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes are included in the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> of such intervening Compositions (since those values are derived from the
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_ports</span></code></a> of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>.
Specifying <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="psyneulink.core.compositions.composition.Composition.include_probes_in_output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">include_probes_in_output</span></code></a> has no effect on this behavior
for intervening Compositions;  it only applies to the outermost Composition to which a PROBE Node projects
(see <a class="reference internal" href="#composition-probes"><span class="std std-ref">Probes</span></a> for additional details).</p>
</div>
</section>
<section id="pathways">
<span id="composition-pathways"></span><h3><em>Pathways</em><a class="headerlink" href="#pathways" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> is an alternating sequence of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> in a Composition.
Although a Composition is not required to have any Pathways, these are useful for constructing Compositions, and are
required for implementing <a class="reference internal" href="#composition-learning"><span class="std std-ref">learning</span></a> in a Composition. Pathways can be specified in the
<strong>pathways</strong> argument of the Composition’s constructor, or using one of its <a class="reference internal" href="#composition-pathway-addition-methods"><span class="std std-ref">Pathway addition methods</span></a>.  Pathways must be linear (that is, the cannot have branches), but they can be
continguous, overlapping, intersecting, or disjoint, and can have one degree of converging and/or diverging branches
(meaning that their branches can’t branch). Each Pathway has a name (that can be assigned when it is constructed) and
a set of attributes, including a <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.pathway" title="psyneulink.core.compositions.pathway.Pathway.pathway"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">pathway</span></code></a> attribute that lists the Nodes and Projections in the
Pathway, a <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.roles" title="psyneulink.core.compositions.pathway.Pathway.roles"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">roles</span></code></a> attribute that lists the <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.PathwayRole" title="psyneulink.core.compositions.pathway.PathwayRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PathwayRoles</span></code></a> assigned to it (based on
the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> assigned to its Nodes), and attributes for particular types of nodes (e.g., <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> and
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>) if the Pathway includes nodes assigned the corresponding <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a>. If a Pathway does not have
a particular type of Node, then its attribute returns None. There are
two types of Pathways: processing Pathways and <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathways</span></a>.  Processing
Pathways are ones not configured for learning; learning Pathways are described under <a class="reference internal" href="#composition-learning"><span class="std std-ref">Learning in a Composition</span></a>. All
of the Pathways in a Composition are listed in its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.pathways" title="psyneulink.core.compositions.composition.Composition.pathways"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">pathways</span></code></a> attribute.</p>
</section>
</section>
<section id="controlling-a-composition">
<span id="composition-controller"></span><h2>Controlling a Composition<a class="headerlink" href="#controlling-a-composition" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-controller-assignment"><span class="std std-ref">Assigning a Controller</span></a></p></li>
<li><p><a class="reference internal" href="#composition-controller-execution"><span class="std std-ref">Controller Execution</span></a></p></li>
</ul>
</div></blockquote>
<p>A Composition can be assigned a <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a>.  This must be an <a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a>,
or a subclass of one, that modulates the parameters of Components within the Composition (including Components of
nested Compositions). It typically does this based on the output of an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> that evaluates the value
of other Mechanisms in the Composition, and provides the result to the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a>.</p>
<section id="assigning-a-controller">
<span id="composition-controller-assignment"></span><h3><em>Assigning a Controller</em><a class="headerlink" href="#assigning-a-controller" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> can be assigned either by specifying it in the <strong>controller</strong> argument of the
Composition’s constructor, or using its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_controller" title="psyneulink.core.compositions.composition.Composition.add_controller"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_controller</span></code></a> method.</p>
</section>
<section id="controller-execution">
<span id="composition-controller-execution"></span><h3><em>Controller Execution</em><a class="headerlink" href="#controller-execution" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed only if the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.enable_controller" title="psyneulink.core.compositions.composition.Composition.enable_controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">enable_controller</span></code></a> attribute is True.  This is generally done automatically when the controller is
is <a class="reference internal" href="#composition-controller-assignment"><span class="std std-ref">assigned</span></a>.  If <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.enable_controller" title="psyneulink.core.compositions.composition.Composition.enable_controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">enabled</span></code></a>, the controller is
executed either before or after all of the other Components in the Composition have been executed at a given
<a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale" title="psyneulink.core.scheduling.time.TimeScale"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TimeScale</span></code></a>, and if its specified <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_condition" title="psyneulink.core.compositions.composition.Composition.controller_condition"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">Condition</span></code></a> has been met, as determined by the
Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_mode" title="psyneulink.core.compositions.composition.Composition.controller_mode"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_mode</span></code></a>, <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_time_scale" title="psyneulink.core.compositions.composition.Composition.controller_time_scale"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_time_scale</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_condition" title="psyneulink.core.compositions.composition.Composition.controller_condition"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_condition</span></code></a> attributes. By
default, a controller is enabled, and executes after the rest of the Composition (<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_mode" title="psyneulink.core.compositions.composition.Composition.controller_mode"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_mode</span></code></a>= <em>AFTER</em>) at the end of every trial (<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_time_scale" title="psyneulink.core.compositions.composition.Composition.controller_time_scale"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_time_scale</span></code></a>= <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TimeScale.TRIAL</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_condition" title="psyneulink.core.compositions.composition.Composition.controller_condition"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_condition</span></code></a>
= <a class="reference internal" href="Condition.html#psyneulink.core.scheduling.condition.Always" title="psyneulink.core.scheduling.condition.Always"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Always()</span></code></a>). However, <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_mode" title="psyneulink.core.compositions.composition.Composition.controller_mode"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_mode</span></code></a> can be used to specify execution of the
controller before the Composition; <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_time_scale" title="psyneulink.core.compositions.composition.Composition.controller_time_scale"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_time_scale</span></code></a> can be used to specify
execution at a particular <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale" title="psyneulink.core.scheduling.time.TimeScale"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TimeScale</span></code></a> (that is at the beginning or end of every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a>,
<code class="xref any docutils literal notranslate"><span class="pre">PASS</span></code>); and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_condition" title="psyneulink.core.compositions.composition.Composition.controller_condition"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_condition</span></code></a> can
be used to specify a particular <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> that must be satisified for the controller to execute.  Arguments for all
three of these attributes can be specified in the Composition’s constructor, or programmatically after it is
constructed by assigning the desired value to the corresponding attribute.</p>
</section>
</section>
<section id="learning-in-a-composition">
<span id="composition-learning"></span><h2>Learning in a Composition<a class="headerlink" href="#learning-in-a-composition" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-learning-standard"><span class="std std-ref">Learning Using PsyNeuLink Components</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-learning-unsupervised"><span class="std std-ref">Unsupervised Learning</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-learning-supervised"><span class="std std-ref">Supervised Learning</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">Supervised Learning Methods</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-components"><span class="std std-ref">Supervised Learning Components</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-execution"><span class="std std-ref">Execution of Supervised Learning</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-learning-autodiffcomposition"><span class="std std-ref">Learning Using AutodiffCompositon</span></a></p></li>
<li><p><a class="reference internal" href="#composition-compilation-table"><span class="std std-ref">Comparison of Learning Modes</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-udf"><span class="std std-ref">Learning Using UserDefinedFunctions</span></a></p></li>
</ul>
<p>Learning is used to modify the <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> between Mechanisms in a Composition.  More specifically,
it modifies the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a> within a
<a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>, which implements the conection weights (i.e., strengths of
associations between representations in the Mechanisms) within a <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>.  If learning is implemented for a
Composition, it can be executed by calling the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method (see
<a class="reference internal" href="#composition-learning-execution"><span class="std std-ref">Execution of Supervised Learning</span></a> and <a class="reference internal" href="#composition-execution"><span class="std std-ref">Executing a Composition</span></a> for additional details). The rate at which learning
occurs is determined by the learning_rate parameter, which can be assigned in various ways and is described under
<a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a> at the end of this section.</p>
<section id="configuring-learning-in-a-composition">
<span id="composition-learning-configurations"></span><h3><em>Configuring Learning in a Composition</em><a class="headerlink" href="#configuring-learning-in-a-composition" title="Permalink to this headline">¶</a></h3>
<p>There are three ways of configuring learning in a Composition, using:</p>
<ol class="lowerroman simple">
<li><p><a class="reference internal" href="#composition-learning-standard"><span class="std std-ref">standard PsyNeuLink Components</span></a>, for presentational and/or instructional purposes;
supports both <a class="reference internal" href="#composition-learning-supervised"><span class="std std-ref">Supervised Learning</span></a> and <a class="reference internal" href="#composition-learning-unsupervised"><span class="std std-ref">Unsupervised Learning</span></a>, but executes slowly
and does not support learning that spans <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested compositions</span></a>.</p></li>
<li><p>an <a class="reference internal" href="#composition-learning-autodiffcomposition"><span class="std std-ref">AutodiffComposition</span></a>, a subclass of Composition that executes
learning substantially more efficiently, and supports learning that spans <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested compositions</span></a>, but is currently restricted to <a class="reference internal" href="#composition-learning-supervised"><span class="std std-ref">Supervised Learning</span></a>.</p></li>
<li><p><a class="reference internal" href="#composition-learning-udf"><span class="std std-ref">UserDefinedFunctions</span></a>, that provide full flexiblity.</p></li>
</ol>
<p>Implementing learning using PsyNeuLink compoments is meant as a complement to more standard implementations of
learning in neural networks, such as <a class="reference external" href="https://pytorch.org/">PyTorch</a> or <a class="reference external" href="https://www.tensorflow.org">TensorFlow</a>,
that assigns each operation involved in learning to a dedicated Component. This helps make clear exactly what those
operations are, the sequence in which they are carried out, and how they interact with one another, which can be
useful in instructional settings, where each computation associtated with learning can be individually examined.
However, the cost is that execution is extremely inefficient (due to the lack of parallelization). To execute learning
on a scale typical of standard deep learning applicatons, an <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a> should be used.  This can executed
using either <a class="reference internal" href="AutodiffComposition.html#autodiffcomposition-llvm"><span class="std std-ref">direct compilation</span></a> or by translating the model to, and execiting it using
<a class="reference internal" href="AutodiffComposition.html#autodiffcomposition-pytorch"><span class="std std-ref">PyTorch</span></a>.  Both of these provide as much as three orders of magnitude acceleration
(comparable to standard machine learning environments).  Finally, for full flexiblity, learning can be impelmented
using one or more <a class="reference internal" href="UserDefinedFunction.html"><span class="doc">UserDefinedFunctions</span></a>, that can be assigned to PyTorch functions, or ones in
any other Python environment that implements learning and accepts and returns tensors. Each of these approaches is
described in more detail in the three sections that follow, and summarized in a <a class="reference internal" href="#composition-compilation-table"><span class="std std-ref">table</span></a>
that compares their advantages and disadvantages.</p>
</section>
<section id="learning-using-psyneulink-components">
<span id="composition-learning-standard"></span><h3><em>Learning Using PsyNeuLink Components</em><a class="headerlink" href="#learning-using-psyneulink-components" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#composition-learning-unsupervised"><span class="std std-ref">Unsupervised Learning</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-supervised"><span class="std std-ref">Supervised Learning</span></a></p></li>
</ul>
<p>When learning is implemented using standard PsyNeuLink Components, each calculation and/or operation involved in
learning – including those responsible for computing errors, and for using those errors to modify the Projections
between Mechanisms, is assigned to a different PsyNeuLink <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning-related Component</span></a>.  These can be used to implement all types of learning.  Learning is generally
considered to fall into two broad classes:  <em>unsupervised</em>, in which connections weights are modified
by mere exposure to the inputs in order to capture structure and/or relationships among them;  and <em>supervised</em>,
which in which the connection weights are modified so that each input generates a desired output (see
<a class="reference external" href="https://www.geeksforgeeks.org/supervised-unsupervised-learning/">https://www.geeksforgeeks.org/supervised-unsupervised-learning/</a> for a useful summary).  Both types of
learning can be implemented in a Composition, using <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> that compute the
changes to make to the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a>
being learned, and <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjections</span></a> that apply those changes to those MappingProjections.
In addition, supervised learning uses an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> – usually a <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> – to compute the error
between the response generated by the last Mechanism in a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> (to the
input provided to the first Mechanism in the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>) and the target stimulus used to specify the desired response.
In most cases, the LearningMechanisms, LearningProjections and, where needed, ObjectiveMechanism are generated
automatically, as described for each type of learning below.  However, these can also be configured manually using
their constructors, or modified by assigning values to their attributes.</p>
<section id="unsupervised-learning">
<span id="composition-learning-unsupervised"></span><h4>Unsupervised Learning<a class="headerlink" href="#unsupervised-learning" title="Permalink to this headline">¶</a></h4>
<p>Undersupervised learning is implemented using a <a class="reference internal" href="RecurrentTransferMechanism.html"><span class="doc">RecurrentTransferMechanism</span></a>, setting its <strong>enable_learning</strong> argument
to True, and specifying the desired <a class="reference internal" href="LearningFunctions.html"><span class="doc">LearningFunction</span></a> in its <strong>learning_function</strong> argument.  The
default is <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.Hebbian" title="psyneulink.core.components.functions.learningfunctions.Hebbian"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Hebbian</span></code></a>, however others can be specified (such as <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.ContrastiveHebbian" title="psyneulink.core.components.functions.learningfunctions.ContrastiveHebbian"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ContrastiveHebbian</span></code></a> or <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.Kohonen" title="psyneulink.core.components.functions.learningfunctions.Kohonen"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Kohonen</span></code></a>). When a
RecurrentTransferMechanism with learning enabled is added to a Composition, an <a class="reference internal" href="AutoAssociativeLearningMechanism.html"><span class="doc">AutoAssociativeLearningMechanism</span></a> that
that is appropriate for the specified learning_function is automatically constructured and added to the Composition,
as is a <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a> from the AutoAssociativeLearningMechanism to the RecurrentTransferMechanism’s
<a class="reference internal" href="RecurrentTransferMechanism.html#psyneulink.library.components.mechanisms.processing.transfer.recurrenttransfermechanism.RecurrentTransferMechanism.recurrent_projection" title="psyneulink.library.components.mechanisms.processing.transfer.recurrenttransfermechanism.RecurrentTransferMechanism.recurrent_projection"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">recurrent_projection</span></code></a>.  When the Composition is run and the
RecurrentTransferMechanism is executed, its AutoAssociativeLearningMechanism is also executed, which updates the <a class="reference internal" href="AutoAssociativeProjection.html#psyneulink.library.components.projections.pathway.autoassociativeprojection.AutoAssociativeProjection.matrix" title="psyneulink.library.components.projections.pathway.autoassociativeprojection.AutoAssociativeProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> of its <a class="reference internal" href="RecurrentTransferMechanism.html#psyneulink.library.components.mechanisms.processing.transfer.recurrenttransfermechanism.RecurrentTransferMechanism.recurrent_projection" title="psyneulink.library.components.mechanisms.processing.transfer.recurrenttransfermechanism.RecurrentTransferMechanism.recurrent_projection"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">recurrent_projection</span></code></a>
in response to its input.</p>
</section>
<section id="supervised-learning">
<span id="composition-learning-supervised"></span><h4>Supervised Learning<a class="headerlink" href="#supervised-learning" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">Supervised Learning Methods</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-components"><span class="std std-ref">Supervised Learning Components</span></a></p></li>
<li><p><a class="reference internal" href="#composition-learning-execution"><span class="std std-ref">Execution of Supervised Learning</span></a></p></li>
</ul>
<section id="supervised-learning-methods">
<span id="composition-learning-methods"></span><h5><em>Supervised Learning Methods</em><a class="headerlink" href="#supervised-learning-methods" title="Permalink to this headline">¶</a></h5>
<p>Supervised learning is implemented in a Composition by specifying a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>
in the <strong>pathways</strong> argumemt of the Composition’s constructor, its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_pathways" title="psyneulink.core.compositions.composition.Composition.add_pathways"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_pathways</span></code></a> method,
or one of its learning methods.  If the constructor or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_pathways" title="psyneulink.core.compositions.composition.Composition.add_pathways"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_pathways</span></code></a> method is used,
then the <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">Pathway specification</span></a> must be the first item in a tuple, followed by a
<a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.LearningFunction" title="psyneulink.core.components.functions.learningfunctions.LearningFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LearningFunction</span></code></a> as its 2nd item that specfies the type of learning.  Alternatively, a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> can be added to a Composition by specifying the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> to be learned in the one
of the Composition’s learning methods, of which there are currently three:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_reinforcement_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_reinforcement_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_reinforcement_learning_pathway</span></code></a> – uses <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.Reinforcement" title="psyneulink.core.components.functions.learningfunctions.Reinforcement"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Reinforcement</span></code></a>;</p></li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_td_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_td_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_td_learning_pathway</span></code></a> – uses <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.TDLearning" title="psyneulink.core.components.functions.learningfunctions.TDLearning"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TDLearning</span></code></a>;</p></li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_backpropagation_learning_pathway</span></code></a> – uses <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.BackPropagation" title="psyneulink.core.components.functions.learningfunctions.BackPropagation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BackPropagation</span></code></a>.</p></li>
</ul>
</div></blockquote>
<p>Each uses the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_processing_pathway</span></code></a> method to create a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> using the corresponding <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.LearningFunction" title="psyneulink.core.components.functions.learningfunctions.LearningFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LearningFunction</span></code></a>.</p>
</section>
<section id="supervised-learning-pathways">
<span id="composition-learning-pathway"></span><h5><em>Supervised Learning Pathways</em><a class="headerlink" href="#supervised-learning-pathways" title="Permalink to this headline">¶</a></h5>
<p>A <em>learning pathway</em> is a contiguous sequence of <a class="reference internal" href="ProcessingMechanism.html"><span class="doc">ProcessingMechanisms</span></a> and the
<a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a> between them, in which supervised learning is used to modify the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a> in the sequence, so that the
input to the first ProcessingMechanism in the sequence generates an output from the last ProcessingMechanism that
matches as closely as possible a target value <a class="reference internal" href="#composition-target-inputs"><span class="std std-ref">specified as input</span></a> in the Composition’s
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method. The Mechanisms in the pathway must be compatible with learning (that is, their
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">function</span></code></a> must be compatible with the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.function" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.function"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">function</span></code></a> of the
<a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> for the MappingProjections they receive (see <a class="reference internal" href="LearningMechanism.html#learningmechanism-function"><span class="std std-ref">Learning Function</span></a>).  The Composition’s
<a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning methods</span></a> return a learning <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>, in which its <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.learning_components" title="psyneulink.core.compositions.pathway.Pathway.learning_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_components</span></code></a> attribute is assigned a dict containing the set of learning components generated for
the Pathway, as described below.</p>
</section>
<section id="supervised-learning-components">
<span id="composition-learning-components"></span><h5><em>Supervised Learning Components</em><a class="headerlink" href="#supervised-learning-components" title="Permalink to this headline">¶</a></h5>
<p>For each <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathway</span></a> specified in the <strong>pathways</strong> argument of a Composition’s
constructor or one of its <a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning methods</span></a>, it creates the following Components,
and assigns to them the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> indicated:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>TARGET_MECHANISM</em> – receives the desired <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> for the <code class="xref any docutils literal notranslate"><span class="pre">OUTPUT_MECHANISM</span></code>, that is
used by the <em>OBJECTIVE_MECHANISM</em> as the target in computing the error signal (see above);  that value must be
specified as an input to the TARGET_MECHANISM, either in the <strong>inputs</strong> argument of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method, or in its <strong>targets</strong> argument in an entry for either the <em>TARGET_MECHANISM</em> or
the <a class="reference internal" href="#output-mechanism"><span class="std std-ref">OUTPUT_MECHANISM</span></a> (see <a class="reference internal" href="#composition-target-inputs"><span class="std std-ref">below</span></a>); the Mechanism is assigned
the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="psyneulink.core.compositions.composition.NodeRole.TARGET"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TARGET</span></code></a> and <a class="reference internal" href="Log.html#psyneulink.core.globals.log.LogCondition.LEARNING" title="psyneulink.core.globals.log.LogCondition.LEARNING"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">LEARNING</span></code></a> in the Composition.</p></li>
</ul>
<ul class="simple">
<li><p>a MappingProjection that projects from the <em>TARGET_MECHANISM</em> to the <em>TARGET</em> <a class="reference internal" href="ComparatorMechanism.html#comparatormechanism-structure"><span class="std std-ref">InputPort</span></a> of the <em>OBJECTIVE_MECHANISM</em>.</p></li>
</ul>
<ul class="simple">
<li><p>a MappingProjection that projects from the last ProcessingMechanism in the learning Pathway to the <em>SAMPLE</em>
<a class="reference internal" href="ComparatorMechanism.html#comparatormechanism-structure"><span class="std std-ref">InputPort</span></a> of the <em>OBJECTIVE_MECHANISM</em>.</p></li>
</ul>
<ul class="simple">
<li><p><em>OBJECTIVE_MECHANISM</em> – usually a <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a>, used to <a class="reference internal" href="ComparatorMechanism.html#comparatormechanism-execution"><span class="std std-ref">calculate an error signal</span></a> (i.e., loss) for the sequence by comparing the value received by
the ComparatorMechanism’s <em>SAMPLE</em> <a class="reference internal" href="ComparatorMechanism.html#comparatormechanism-structure"><span class="std std-ref">InputPort</span></a> (from the <a class="reference internal" href="LearningMechanism.html#learningmechanism-activation-output"><span class="std std-ref">output</span></a> of the last Processing Mechanism in the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>) with the value received in the <em>OBJECTIVE_MECHANISM</em>’s <em>TARGET</em>
<a class="reference internal" href="ComparatorMechanism.html#comparatormechanism-structure"><span class="std std-ref">InputPort</span></a> (from the <em>TARGET_MECHANISM</em> generated by the method
– see below); this is assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> <a class="reference internal" href="Log.html#psyneulink.core.globals.log.LogCondition.LEARNING" title="psyneulink.core.globals.log.LogCondition.LEARNING"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">LEARNING</span></code></a> in the Composition.</p></li>
</ul>
<ul class="simple">
<li><p><em>LEARNING_MECHANISMS</em> – a <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> for each MappingProjection in the sequence, each of which
calculates the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_signal</span></code></a> used to modify the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter for the coresponding MappingProjection, along with a <a class="reference internal" href="LearningSignal.html"><span class="doc">LearningSignal</span></a>
and <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a> that convey the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_signal</span></code></a> to the
MappingProjection’s <em>MATRIX</em> <code class="xref any docutils literal notranslate"><span class="pre">ParameterPort</span></code>;  depending on learning method,
additional MappingProjections may be created to and/or from the LearningMechanism – see
<a class="reference internal" href="LearningMechanism.html#learningmechanism-learning-configurations"><span class="std std-ref">Learning Configurations</span></a> for details); these are assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> <a class="reference internal" href="Log.html#psyneulink.core.globals.log.LogCondition.LEARNING" title="psyneulink.core.globals.log.LogCondition.LEARNING"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">LEARNING</span></code></a> in
the Composition.</p></li>
</ul>
<ul class="simple">
<li><p><em>LEARNING_FUNCTION</em> – the <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.LearningFunction" title="psyneulink.core.components.functions.learningfunctions.LearningFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LearningFunction</span></code></a> used by each of the <code class="xref any docutils literal notranslate"><span class="pre">LEARNING_MECHANISMS</span></code> in the learning pathway.</p></li>
</ul>
<ul class="simple">
<li><p><em>LEARNED_PROJECTIONS</em> – a <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a> from each <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> to the <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>
for which it modifies it s`matrix &lt;MappingProjection.matrix&gt;` parameter.</p></li>
</ul>
</div></blockquote>
<p>It also assigns the following item to the list of <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learning_components" title="psyneulink.core.compositions.composition.Composition.learning_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_components</span></code></a> for the pathway:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>OUTPUT_MECHANISM</em> – the final <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in the learning Pathway, the target <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> for which is specified as input to the <code class="xref any docutils literal notranslate"><span class="pre">TARGET_MECHANISM</span></code>; the Node is assigned
the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> in the Composition.</p></li>
</ul>
</div></blockquote>
<p>The items with names listed above are placed in a dict that is assigned to the <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.learning_components" title="psyneulink.core.compositions.pathway.Pathway.learning_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_components</span></code></a> attribute of the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> returned by the learning method used to create the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>;
they key for each item in the dict is the name of the item (as listed above), and the object(s) created of that type
are its value (see <a class="reference internal" href="LearningMechanism.html#learningmechanism-single-layer-learning"><span class="std std-ref">Single layer learning</span></a> for a more detailed description and figure showing these
Components).</p>
<p>If the learning Pathway &lt;Composition_Learning_Pathway&gt;` involves more than two ProcessingMechanisms (e.g. using
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_backpropagation_learning_pathway</span></code></a> for a multilayered neural network), then multiple LearningMechanisms are
created, along with MappingProjections that provide them with the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">error_signal</span></code></a>
from the preceding LearningMechanism, and <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjections</span></a> that modify the corresponding
MappingProjections (<em>LEARNED_PROJECTION</em>s) in the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>, as shown for
an example in the figure below. These additional learning components are listed in the <em>LEARNING_MECHANISMS</em> and
<em>LEARNED_PROJECTIONS</em> entries of the dictionary assigned to the <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.learning_components" title="psyneulink.core.compositions.pathway.Pathway.learning_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_components</span></code></a>
attribute of the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> return by the learning method.</p>
<p id="composition-multilayerlearning-figure"><strong>Figure: Supervised Learning Components</strong></p>
<figure class="align-default" id="id16">
<img alt="Schematic of LearningMechanism and LearningProjections in a Process" src="_images/Composition_Multilayer_Learning_fig.svg" /><figcaption>
<p><span class="caption-text"><em>Components for supervised learning Pathway</em>: the Pathway has three Mechanisms generated by a call to a <a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">supervised
learning method</span></a> (e.g., <code class="docutils literal notranslate"><span class="pre">add_backpropagation_learning_pathway(pathway=[A,B,C])</span></code>),
with <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> assigned to each <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.graph" title="psyneulink.core.compositions.composition.Composition.graph"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">graph</span></code></a> (in
italics below Mechanism type) and  the names of the learning components returned by the learning method (capitalized
and in italics, above each Mechanism).</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The description above (and <a class="reference internal" href="#composition-examples-learning-xor"><span class="std std-ref">example</span></a> &gt;below) pertain to simple linear sequences.
However, more complex configurations, with convergent, divergent and/or intersecting sequences can be built using
multiple calls to the learning method (see <a class="reference internal" href="BasicsAndPrimer.html#basicsandprimer-rumelhart-model"><span class="std std-ref">example</span></a> in <a class="reference internal" href="BasicsAndPrimer.html"><span class="doc">Basics and Primer</span></a>). In
each the learning method determines how the sequence to be added relates to any existing ones with which it abuts or
intersects, and automatically creates andconfigures the relevant learning components so that the error terms are
properly computed and propagated by each LearningMechanism to the next in the configuration. It is important to note
that, in doing so, the status of a Mechanism in the final configuration takes precedence over its status in any of
the individual sequences specified in the <a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning methods</span></a> when building the
Composition.  In particular, whereas ordinarily the last ProcessingMechanism of a sequence specified in a learning
method projects to a <em>OBJECTIVE_MECHANISM</em>, this may be superseded if multiple sequences are created. This is the
case if: i) the Mechanism is in a seqence that is contiguous (i.e., abuts or intersects) with others already in the
Composition, ii) the Mechanism appears in any of those other sequences and, iii) it is not the last Mechanism in
<em>all</em> of them; in that in that case, it will not project to a <em>OBJECTIVE_MECHANISM</em> (see <a class="reference internal" href="#composition-learning-output-vs-terminal-figure"><span class="std std-ref">figure below</span></a> for an example).  Furthermore, if it <em>is</em> the last Mechanism in all
of them (that is, all of the specified pathways converge on that Mechanism), only one <em>OBJECTIVE_MECHANISM</em> is created
for that Mechanism (i.e., not one for each sequence).  Finally, it should be noted that, by default, learning components
are <em>not</em> assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> of <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> even though they may be the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Mechanism of a Composition;
conversely, even though the last Mechanism of a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> projects to an
<em>OBJECTIVE_MECHANISM</em>, and thus is not the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of a Composition, if it does not
project to any other Mechanisms in the Composition it is nevertheless assigned as an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> of the Composition. That
is, Mechanisms that would otherwise have been the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Mechanism of a Composition preserve their role as an
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node of the Composition if they are part of a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> eventhough
they project to another Mechanism (the <em>OBJECTIVE_MECHANISM</em>) in the Composition.</p>
<blockquote id="composition-learning-output-vs-terminal-figure">
<div><p><strong>OUTPUT</strong> vs. <strong>TERMINAL</strong> Roles in Learning Configuration</p>
<figure class="align-default" id="id17">
<img alt="Schematic of Mechanisms and Projections involved in learning" src="_images/Composition_Learning_OUTPUT_vs_TERMINAL_fig.svg" /><figcaption>
<p><span class="caption-text">Configuration of Components generated by the creation of two intersecting <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathways</span></a> (e.g., <code class="docutils literal notranslate"><span class="pre">add_backpropagation_learning_pathway(pathway=[A,B])</span></code> and
<code class="docutils literal notranslate"><span class="pre">add_backpropagation_learning_pathway(pathway=[D,B,C])</span></code>).  Mechanism B is the last Mechanism of the sequence
specified for the first pathway, and so would project to a <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a>, and would be assigned as an
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition, if that pathway was created on its own. However, since
Mechanims B is also in the middle of the sequence specified for the second pathway, it does not project to a
ComparatorMechanism, and is relegated to being an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INTERNAL" title="psyneulink.core.compositions.composition.NodeRole.INTERNAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INTERNAL</span></code></a> Node of the Composition Mechanism C is now the
one that projects to the ComparatorMechanism and assigned as the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node.</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
</section>
<section id="execution-of-supervised-learning">
<span id="composition-learning-execution"></span><h5><em>Execution of Supervised Learning</em><a class="headerlink" href="#execution-of-supervised-learning" title="Permalink to this headline">¶</a></h5>
<p>For learning to occur when a Composition is run, its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method must be used instead of the
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method, and its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.disable_learning" title="psyneulink.core.compositions.composition.Composition.disable_learning"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">disable_learning</span></code></a> attribute must be False.
When the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method is used, all Components <em>unrelated</em> to learning are executed in the same
way as with the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method.  If the Composition has any <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>
that have <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathways</span></a>, then learning also occurs on all of those for which
the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.disable_learning" title="psyneulink.core.compositions.composition.Composition.disable_learning"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">disable_learning</span></code></a> attribute is False.  This is true even if the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.disable_learning" title="psyneulink.core.compositions.composition.Composition.disable_learning"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">disable_learning</span></code></a> attribute is True for the Composition on which the  <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method
was called.</p>
<p>When a Composition is run that contains one or more <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathways</span></a>, all of the
ProcessingMechanisms for a pathway are executed first, and then its <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a>.  This is shown in an animation of the XOR network from the <code class="xref any docutils literal notranslate"><span class="pre">example</span> <span class="pre">above</span></code>:</p>
<blockquote id="composition-learning-animation-figure">
<div><p><strong>Composition with Learning</strong></p>
<figure class="align-default" id="id18">
<img alt="Animation of Composition with learning" src="_images/Composition_XOR_animation.gif" />
<figcaption>
<p><span class="caption-text">Animation of XOR Composition in example above when it is executed by calling its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>
method with the argument <code class="docutils literal notranslate"><span class="pre">animate={'show_learning':True}</span></code>.</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a> are not executed until after the
processing components, the change to the weights of the MappingProjections in a learning pathway are not
made until after it has executed.  Thus, as with <a class="reference internal" href="Projection.html#projection-execution"><span class="std std-ref">execution of a Projection</span></a>, those
changes will not be observed in the values of their <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameters until after
they are next executed (see <a class="reference internal" href="Component.html#component-lazy-updating"><span class="std std-ref">Lazy Evaluation</span></a> for an explanation of “lazy” updating).</p>
</div>
</div></blockquote>
<p>The Compositon’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method takes all of the same arguments as its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>
method, as well as additonal ones that are specific to learning.  Also like <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>, it returns the
<a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of the Composition after the last trial of execution.  The results for the
last epoch of learning are stored in its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learning_results" title="psyneulink.core.compositions.composition.Composition.learning_results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_results</span></code></a> attribute.</p>
</section>
</section>
<section id="learning-rate">
<span id="composition-learning-rate"></span><h4>Learning Rate<a class="headerlink" href="#learning-rate" title="Permalink to this headline">¶</a></h4>
<p>The rate at which learning occurs in a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathway</span></a> is determined by the
<a class="reference internal" href="LearningMechanism.html#learningmechanism-learning-rate"><span class="std std-ref">learning_rate</span></a> Parameter of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism(s)</span></a> in that
Pathway.  If it is not specified, then the <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default value</span></a> for the LearningMechanism’s <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.function" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.function"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">function</span></code></a> is used, which is determined by the kind of learning in that Pathway. However, the
learning_rate can be specified in several other ways, both at construction and/or execution.  At construction, it can
be specified using the <strong>learning_rate</strong> argument of the Compostion’s constructor, in which case it serves as the
default learning_rate for all learning pathways;  it can also be specified in the <strong>learning_rate</strong> argument of a
<a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning construction method</span></a>, in which case it applies to only the LearningMechanisms
in that Pathway. Specifications for a Pathway take precedence over the specification in the Composition’s constructor.
The <strong>learning_rate</strong> can also be specified at execution, in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method,
in which case it applies to all learning pathways during that (and only that) execution, and supersedes any
specifications made at construction. It can also be specified for one or more individual LearningMechanisms (which
applies to the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter (“connection weights”) of the <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> for
which each LearningMechanism is responsible), by assigning a value directly to the LearningMechanism’s <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_rate</span></code></a> Parameter.  This supersedes any other specifications of learning_rate, including
in the Composition’s learn() method, and applies to all subsequent executions of learning, allowing different
LearningMechanisms (and their corresponding MappingProjections) within a Composition to be assigned different
learning_rates.  The table below shows the precedence for the specificadtion of learning_rates.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td colspan="2"><p><strong>Learning Rate Precedence Hierarchy</strong></p></td>
</tr>
<tr class="row-even"><td><p><strong>Highest</strong>:</p></td>
<td><dl class="simple">
<dt>Assignment to LearningMechanism <a class="reference internal" href="LearningMechanism.html#learningmechanism-learning-rate"><span class="std std-ref">learning_rate</span></a> Parameter (after construction)</dt><dd><p><code class="docutils literal notranslate"><span class="pre">my_learning_mechanism.parameters.learning_rate.set(val)</span></code></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><dl class="simple">
<dt>Call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Composition.learn</span></code></a> method (execution)</dt><dd><p><code class="docutils literal notranslate"><span class="pre">my_composition.learn(learning_rate=val)</span></code></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><dl class="simple">
<dt>Assignment in <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> constructor</dt><dd><p><code class="docutils literal notranslate"><span class="pre">my_learning_mechanimsm=LearningMechanism(learning_rate=val)</span></code></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><dl class="simple">
<dt>Assignment in <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathway</span></a> constructor</dt><dd><p><code class="docutils literal notranslate"><span class="pre">my_composition.add_linear_learning_pathway(learning_rate=val)</span></code></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><strong>Lowest</strong>:</p></td>
<td><dl class="simple">
<dt>Assignment in Composition constructor</dt><dd><p><code class="docutils literal notranslate"><span class="pre">my_composition=Composition(learning_rate=val)</span></code></p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="learning-using-autodiffcompositon">
<span id="composition-learning-autodiffcomposition"></span><h3><em>Learning Using AutodiffCompositon</em><a class="headerlink" href="#learning-using-autodiffcompositon" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffCompositions</span></a> provide the ability to execute backpropagation learning much more
efficiently than using a standard Composition.  An AutodiffComposition is constructed in the same way, but there
is no need to specify any <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a>&gt;` or use any <a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning methods</span></a> – in fact, they <em>cannot</em> be specified (see <a class="reference internal" href="AutodiffComposition.html#autodiff-learning-components-warning"><span class="std std-ref">warning</span></a>) – an AutodiffComposition automatically constructs all of the components
needed for learning While learning in an AutodiffComposition is currently restricted to the <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.BackPropagation" title="psyneulink.core.components.functions.learningfunctions.BackPropagation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BackPropagation</span></code></a> learning
algorithm, its <a class="reference internal" href="Keywords.html#psyneulink.core.globals.keywords.Loss" title="psyneulink.core.globals.keywords.Loss"><code class="xref any py py-class docutils literal notranslate"><span class="pre">loss</span> <span class="pre">function</span></code></a> can be specified (using the <strong>loss_spec</strong> parameter of its constructor),
which implements different kinds of <a class="reference internal" href="#composition-learning-supervised"><span class="std std-ref">supervised learning</span></a> (for example, <a class="reference internal" href="Keywords.html#psyneulink.core.globals.keywords.Loss.MSE" title="psyneulink.core.globals.keywords.Loss.MSE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">Loss.MSE</span></code></a>
can be used for regression, or <a class="reference internal" href="Keywords.html#psyneulink.core.globals.keywords.Loss.CROSS_ENTROPY" title="psyneulink.core.globals.keywords.Loss.CROSS_ENTROPY"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">Loss.CROSS_ENTROPY</span></code></a> for classification).</p>
<p>The advantage of using an AutodiffComposition is that it allows a model to be implemented in PsyNeuLink, while
exploiting the acceleration of optimized implementations of learning. This can be achieved by executing the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method in one of two modes (specified using its <strong>execution_mode</strong> argument):  using direct
compilation (<strong>execution_mode</strong> = <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.LLVMRun" title="psyneulink.core.llvm.__init__.ExecutionMode.LLVMRun"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.LLVMRun</span></code></a>); or by automatically translating the model to <a class="reference external" href="https://pytorch.org">PyTorch</a> for training (<strong>execution_mode</strong> = <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.PyTorch</span></code></a>). The advantage of these modes is
that they can provide up to three orders of magnitude speed-up in training a model. Use of the <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PyTorch</span></code></a> mode also
supports learning of <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Compositions</span></a> (see <a class="reference internal" href="AutodiffComposition.html#autodiffcomposition-nesting"><span class="std std-ref">Nesting</span></a>). However, there
are restrictions on the kinds of Compositions that be implemented in this way (see <a class="reference internal" href="AutodiffComposition.html#autodiffcomposition-restrictions"><span class="std std-ref">Only one OutputPort per Node</span></a>).
The table below summarizes the different ways to implement and execute learning, and features specific to each;
these are described in more detail in <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a>.</p>
<p>The <a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learning_rate" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learning_rate"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_rate</span></code></a> for an AutodiffComposition can be specified in its constructor
(which assigns it as the default) or in its <a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method, in which case it applies to
that execution only.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Using <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.Python" title="psyneulink.core.llvm.__init__.ExecutionMode.Python"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.Python</span></code></a> in an AutodffComposition is the same as using a standard Composition, allowing
an AutodffComposition to be run in any mode (e.g., for comparison and/or compatibility purposes).</p></li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.LLVM" title="psyneulink.core.llvm.__init__.ExecutionMode.LLVM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.LLVM</span></code></a> and <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.PyTorch</span></code></a> can only be used in the <a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>
method of an <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a>;  specifying them in the <code class="xref any docutils literal notranslate"><span class="pre">learn</span> <span class="pre">&lt;Composition.learn&gt;`()</span></code> method of a standard
<a class="reference internal" href="#"><span class="doc">Composition</span></a> causes an error.</p></li>
</ul>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="comparison-of-learning-modes">
<span id="composition-compilation-table"></span><h3><em>Comparison of Learning Modes</em><a class="headerlink" href="#comparison-of-learning-modes" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 32%" />
<col style="width: 31%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p><strong>Composition</strong></p></th>
<th class="head" colspan="2"><p><strong>AutodiffComposition</strong></p></th>
</tr>
<tr class="row-even"><th class="head"></th>
<th class="head"><p><em>Python</em></p></th>
<th class="head"><p><a class="reference internal" href="AutodiffComposition.html#autodiffcomposition-llvm"><span class="std std-ref">LLVM mode</span></a>
(<em>Direct Compilation</em>)</p></th>
<th class="head"><p><a class="reference internal" href="AutodiffComposition.html#autodiffcomposition-pytorch"><span class="std std-ref">PyTorch mode</span></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>execution_mode=</p></td>
<td><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.Python" title="psyneulink.core.llvm.__init__.ExecutionMode.Python"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.Python</span></code></a></p></td>
<td><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.LLVMRun" title="psyneulink.core.llvm.__init__.ExecutionMode.LLVMRun"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.LLVMRun</span></code></a></p></td>
<td><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.PyTorch</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn()</span></code></a></p>
<p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</td>
<td><p>Python interpreted</p>
<p>Python interpreted</p>
</td>
<td><p>LLVM compiled</p>
<p>LLVM compiled</p>
</td>
<td><p>PyTorch compiled</p>
<p>Python interpreted</p>
</td>
</tr>
<tr class="row-odd"><td><p><em>Speed:</em></p></td>
<td><p>slow</p></td>
<td><p>fastest</p></td>
<td><p>fast</p></td>
</tr>
<tr class="row-even"><td><p><em>Supports:</em></p></td>
<td><p><a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.BackPropagation" title="psyneulink.core.components.functions.learningfunctions.BackPropagation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BackPropagation</span></code></a></p>
<p><a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.Reinforcement" title="psyneulink.core.components.functions.learningfunctions.Reinforcement"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Reinforcement</span></code></a> learning</p>
<p><a class="reference internal" href="#composition-learning-unsupervised"><span class="std std-ref">Unspervised learning</span></a></p>
<p><a class="reference internal" href="ModulatorySignal.html#modulatorysignal-modulation"><span class="std std-ref">Modulation</span></a></p>
<p>Inspection</p>
</td>
<td><p>Backpropagation</p></td>
<td><p>Backpropagation</p>
<p>RNN, inclduing LSTM</p>
<p>Unsupervised learning</p>
<p><a class="reference internal" href="AutodiffComposition.html#autodiffcomposition-nesting"><span class="std std-ref">Learning of
nested Compositions</span></a></p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="learning-using-userdefinedfunctions">
<span id="composition-learning-udf"></span><h3><em>Learning Using UserDefinedFunctions</em><a class="headerlink" href="#learning-using-userdefinedfunctions" title="Permalink to this headline">¶</a></h3>
<p>If execution efficiency is critical and the <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a> is too restrictive, a function from any Python
environment that supports learning can be assigned as the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">function</span></code></a> of a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a>, in which case it is automatically  wrapped as <a class="reference internal" href="UserDefinedFunction.html"><span class="doc">UserDefinedFunction</span></a>.  For example, the <a class="reference external" href="https://pytorch.org/docs/master/notes/extending.html">forward and
backward methods</a> of a PyTorch object can be assigned in this
way.  The advanatage of this approach is that it can be applied to any Python function that adheres to the requirements
of a <a class="reference internal" href="UserDefinedFunction.html"><span class="doc">UserDefinedFunction</span></a>. It must be carefully coordinated with the execution of other learning-related Components
in the Composition, to insure that each function is called at the appropriate times during execution.  Furthermore, as
with an <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a>, the internal constituents of the object (e.g., intermediates layers of a neural network
model) are not accessible to other Components in the Composition (e.g., as a source of information or for modulation).</p>
</section>
</section>
<section id="executing-a-composition">
<span id="composition-execution"></span><h2>Executing a Composition<a class="headerlink" href="#executing-a-composition" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">Execution Methods</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">Composition Inputs</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">Input Dictionary</span></a></p></li>
<li><p><a class="reference internal" href="#composition-programmatic-inputs"><span class="std std-ref">Specifying Inputs Programmatically</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#composition-execution-factors"><span class="std std-ref">Execution Factors</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a></p></li>
<li><p><a class="reference internal" href="#composition-runtime-params"><span class="std std-ref">Runtime Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#composition-cycles-and-feedback"><span class="std std-ref">Cycles and Feedback</span></a></p></li>
<li><p><a class="reference internal" href="#composition-execution-context"><span class="std std-ref">Execution Contexts</span></a></p></li>
<li><p><a class="reference internal" href="#composition-timing"><span class="std std-ref">Timing</span></a></p></li>
<li><p><a class="reference internal" href="#composition-reset"><span class="std std-ref">Resetting Stateful Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#composition-compilation"><span class="std std-ref">Compilation</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="#composition-execution-results-and-reporting"><span class="std std-ref">Results, Reporting and Logging</span></a></p></li>
</ul>
</div></blockquote>
<p id="composition-execution-methods">There are three methods for executing a Composition:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> - executes one or more <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s without learning;</p></li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> - executes one or more <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s with learning,
if the network is configured for <a class="reference internal" href="#composition-learning"><span class="std std-ref">learning</span></a>.</p></li>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> - executes a single <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> without learning.</p></li>
</ul>
</div></blockquote>
<p>The <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> methods are the most commonly used.  Both of these
can execute multiple trials (specified in their <strong>num_trials</strong> argument), calling the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>.  The <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method
can also be called directly, but this is useful mostly for debugging.</p>
<blockquote>
<div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Once a Composition has been constructed, it can be called directly. If it is called with no arguments, and
has executed previously, the <a class="reference internal" href="#composition-execution-results"><span class="std std-ref">result</span></a> of the last <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>
of execution is returned; otherwise None is returned.  If it is called with arguments, then either <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> is called, based on the arguments provided:  If the
Composition has any <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning_pathways</span></a>, and the relevant <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">TARGET_MECHANISM</span></a>s are specified in the <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">inputs argument</span></a>,
then <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> is called;  otherwise, <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> is called.  In either case,
the return value of the corresponding method is returned.</p>
</div>
</div></blockquote>
<p id="composition-execution-num-trials"><em>Number of trials</em>. If the the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method is used, a single <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> is
executed;  if the <strong>inputs</strong> specifies more than one <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale" title="psyneulink.core.scheduling.time.TimeScale"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s worth of input, an error is generated.
For the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>, the <strong>num_trials</strong> argument can be used to specify
an exact number of <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s to execute; if its value execeeds the number of inputs provided for
each Node in the <strong>inputs</strong> argument, then the inputs are recycled from the beginning of the lists, until the number
of <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s specified in <strong>num_trials</strong> has been executed.  If <strong>num_trials</strong> is not specified,
then a number of <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s is executed equal to the number of inputs provided for each <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in <strong>inputs</strong> argument.</p>
<p id="composition-execution-learning-inputs"><em>Learning</em>. If a Composition is configured for <a class="reference internal" href="#composition-learning"><span class="std std-ref">learning</span></a> then, for learning to occur,
its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method must be used in place of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method, and its
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.disable_learning" title="psyneulink.core.compositions.composition.Composition.disable_learning"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">disable_learning</span></code></a> attribute must be False (the default). A set of targets must also
be specified (see <a class="reference internal" href="#composition-target-inputs"><span class="std std-ref">below</span></a>). The <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a>
methods can also be used to execute a Composition that has been <a class="reference internal" href="#composition-learning"><span class="std std-ref">configured for learning</span></a>,
but no learning will occur, irrespective of the value of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.disable_learning" title="psyneulink.core.compositions.composition.Composition.disable_learning"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">disable_learning</span></code></a>
attribute.</p>
<p>The sections that follow describe the formats that can be used for inputs, factors that impact execution, and
how the results of execution are recorded and reported.</p>
<section id="composition-inputs">
<span id="composition-execution-inputs"></span><h3><em>Composition Inputs</em><a class="headerlink" href="#composition-inputs" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">Input Dictionary</span></a></p></li>
<li><p><a class="reference internal" href="#composition-programmatic-inputs"><span class="std std-ref">Specifying Inputs Programmatically</span></a></p></li>
</ul>
<p>All <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">methods of executing</span></a> a Composition require specification of an <strong>inputs</strong>
argument (and a <strong>targets</strong> argument for the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method), which designates the values assigned
to the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> (and, for learning, the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="psyneulink.core.compositions.composition.NodeRole.TARGET"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TARGET</span></code></a>) <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
of the Composition.  These are provided to the Composition each time it is executed; that is, for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>. A <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> is defined as the opportunity for every Node in the Composition
to execute the current set of inputs. The inputs for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> can be specified using an <a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">input
dictionary</span></a>; for the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> methods,
they can also be specified <a class="reference internal" href="#composition-programmatic-inputs"><span class="std std-ref">programmatically</span></a>. Irrespective of format, the same
number of inputs must be specified for every <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node, unless only one value is specified for a Node (in which
case that value is repeated as the input to that Node for every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s executed). If the
<strong>inputs</strong> argument is not specified for the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> methods, the
<a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a> for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node is used as its input on <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>.
If it is not specified for the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method, an error is generated unless its <strong>targets</strong>
argument is specified (see <a class="reference internal" href="#composition-execution-learning-inputs"><span class="std std-ref">below</span></a>).  The Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_input_format" title="psyneulink.core.compositions.composition.Composition.get_input_format"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_input_format()</span></code></a> method can be used to show an example for how inputs should be formatted for the
Composition, as well as the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes to which they are assigned.  The formats are described in
more detail below.</p>
<section id="input-formats-including-targets-for-learning">
<span id="composition-input-formats"></span><h4><em>Input formats (including targets for learning)</em><a class="headerlink" href="#input-formats-including-targets-for-learning" title="Permalink to this headline">¶</a></h4>
<p>There are two ways to specify inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p>using <a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">a dictionary</span></a>, in which the inputs are specified or each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> explicitly;</p></li>
<li><p><a class="reference internal" href="#composition-programmatic-inputs"><span class="std std-ref">programmtically</span></a>, using a function, generator or generator function
that constructs the inputs dynamically on a <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> by <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> basis.</p></li>
</ul>
</div></blockquote>
<p>The <strong>inputs</strong> argument of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> methods (and the <strong>targets</strong>
argument of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method) can be specified in either way; however, only the dictionary
format can be used for the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method, since it executes only one <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> at a time, and therefore can only accept inputs for asingle <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>.</p>
<p id="composition-input-external-inputports"><em>Inputs and input_ports</em>. All formats must specify the inputs to be assigned, on each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>, to
<em>all</em> of the <strong>external InputPorts</strong> of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>. These are InputPorts
belonging to its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> at <em>all levels of nesting</em>, that are not designated as
<a class="reference internal" href="InputPort.html#inputport-internal-only"><span class="std std-ref">internal_only</span></a>. They are listed in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes" title="psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports_of_all_input_nodes</span></code></a> attribute, as well as the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a> attribute of each <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> that is an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a>
<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition or any <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a> within it
The format required can also be seen using the  <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_input_format" title="psyneulink.core.compositions.composition.Composition.get_input_format"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_input_format()</span></code></a> method.</p>
<blockquote id="composition-input-internal-only">
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most Mechanisms have only a single <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a>, and thus require only a single input to be specified for
them for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>. However some Mechanisms have more than one InputPort (for example,
a <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a>), in which case inputs can be specified for some or all of them (see <a class="reference internal" href="#composition-input-dictionary-inputport-entries"><span class="std std-ref">below</span></a>). Conversely, some Mechanisms have InputPorts that
are designated as <a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.internal_only" title="psyneulink.core.components.ports.inputport.InputPort.internal_only"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">internal_only</span></code></a> (for example, the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_port" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_port"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_port</span></code></a> for a <a class="reference internal" href="RecurrentTransferMechanism.html"><span class="doc">RecurrentTransferMechanism</span></a>, if its <a class="reference internal" href="RecurrentTransferMechanism.html#psyneulink.library.components.mechanisms.processing.transfer.recurrenttransfermechanism.RecurrentTransferMechanism.has_recurrent_input_port" title="psyneulink.library.components.mechanisms.processing.transfer.recurrenttransfermechanism.RecurrentTransferMechanism.has_recurrent_input_port"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">has_recurrent_input_port</span></code></a> attribute is True), in which case no input should be
specified for those input_ports. Similar considerations extend to the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes" title="psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports_of_all_input_nodes</span></code></a> of a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>,
based on the Mechanisms (and/or additionally nested Compositions) thatcomprise its set of <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>.</p>
</div>
</div></blockquote>
<p>The factors above determine the format of each entry in an <a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">inputs dictionary</span></a>, or the
return value of the function or generator used for <a class="reference internal" href="#composition-programmatic-inputs"><span class="std std-ref">programmatic specification</span></a> of
inputs, as described in detail below (also see <a class="reference internal" href="#composition-examples-input"><span class="std std-ref">examples</span></a>).</p>
<section id="input-dictionary">
<span id="composition-input-dictionary"></span><h5><em>Input Dictionary</em><a class="headerlink" href="#input-dictionary" title="Permalink to this headline">¶</a></h5>
<p id="composition-input-dictionary-entries">The simplest way to specificy inputs (including targets for learning) is using a dict, in which each entry specifies
the inputs to a given <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>. The key for each entry of the dict is
either an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> or the <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of one, and the value is the input
to be provided to it for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> of execution.  A diciontary can have entries for <em>either</em> an
INPUT Node or one or more of its InputPorts, but <em>not both</em>.  Entries can be for any <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node
(or the Inputport(s) of one) at any level of nesting within the Composition, so long it is nested under INPUT Nodes
at all levels of nesting (that is, an INPUT Node of a nested Composition can only be included if the nested Composition
is a INPUT Node of the Composition to which it belongs). Any INPUT Nodes for which no input is specified (that is, for
which there are no entries in the inputs dictionary) are assigned their <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.default_external_inputs" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.default_external_inputs"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default_external_inputs</span></code></a> on each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> of execution; similarly, if the dictionary
contains entries for some but not all of the InputPorts of a Node, the remaining InputPorts are assigned their
<a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.default_input" title="psyneulink.core.components.ports.inputport.InputPort.default_input"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default_input</span></code></a> on each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> of execution. See below for additional
information concerning <a class="reference internal" href="#composition-input-dictionary-node-entries"><span class="std std-ref">entries for Nodes</span></a> and <a class="reference internal" href="#composition-input-dictionary-inputport-entries"><span class="std std-ref">entries for InputPorts</span></a>).</p>
<p id="composition-input-dictionary-input-values"><em>Input values</em>. The value of each entry is an ndarray or nested list containing the inputs to that Node or InputPort.
For Nodes, the value is a 3d array (or correspondingly nested list), in which the outermost items are 2d arrays
containing the 1d array of input values to each of the Node’s InputPorts for a given <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>. For
entries specifying InputPorts, the value is a 2d array, containing 1d arrays with the input to the InputPort for each
<a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>. A given entry can specify either a single <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>'s worth of input
(i.e., a single item in its outermost dimension), or inputs for every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> to be executed (in
which the i-th item represents the input to the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node, or one of its InputPorts, on <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> i).  All entries that contain more than a single trial’s worth of input must contain exactly the
same number of values – i.e.,inputs for the same number of trials. For entries that contain a single input value,
that value will be provided repeatedly as the input to the specified Component for every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>
when the Composition is executed (as determined by the number of input values specified for other entries and/or the
<strong>num_trials</strong> argument of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method (see <a class="reference internal" href="#composition-execution-num-trials"><span class="std std-ref">number of trials</span></a> above).</p>
<p id="composition-input-dictionary-node-entries"><em>Node entries</em>.  The key must be an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition, or the name of
one (i.e., the str in its <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.name" title="psyneulink.core.components.component.Component.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> attribute), and the value must specify the input to <em>all</em> of its
InputPorts (other than those designated as <a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.internal_only" title="psyneulink.core.components.ports.inputport.InputPort.internal_only"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">internal_only</span></code></a>; see <a class="reference internal" href="#composition-input-internal-only"><span class="std std-ref">note</span></a> above) for one or all <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s of execution.  The values
for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> must be compatible with each of the corresponding InputPorts (listed in the
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a> attribute of a Mechanism, and similarly in the
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes" title="psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports_of_all_input_nodes</span></code></a> attribute of a
Composition). More specifically, the shape of each item in the outer dimension (i.e., the input for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>, as described <a class="reference internal" href="#composition-input-dictionary-input-values"><span class="std std-ref">above</span></a>) must be compatible with the
shape of the Node’s <a class="reference internal" href="Mechanism.html#id0" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_shape"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_shape</span></code></a> attribute if it is Mechanism, and
similarly the <a class="reference internal" href="#id10" title="psyneulink.core.compositions.composition.Composition.external_input_shape"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_shape</span></code></a> attribute of a Composition). While these are
always 2d arrays, the number and size of the 1d arrays within them (corresponding to each InputPort) may vary; in some
case shorthand notations are allowed, as illustrated in the <a class="reference internal" href="#composition-examples-input-dictionary"><span class="std std-ref">examples</span></a> below.</p>
<blockquote>
<div><figure class="align-default" id="id19">
<span id="composition-execution-input-dict-fig"></span><img alt="Example input dict specification showing inputs specified for each Node and its InputPorts" src="_images/Composition_input_dict_spec.svg" /><figcaption>
<p><span class="caption-text">Example input dict specification, in which the first entry is for Mechanism <code class="docutils literal notranslate"><span class="pre">a</span></code> with one <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> that takes
an array of length 2 as its input, and for which two <code class="xref any docutils literal notranslate"><span class="pre">TRIAL</span></code>s worth of input are specified
(<code class="docutils literal notranslate"><span class="pre">[1.0,</span> <span class="pre">2.0]</span></code> and <code class="docutils literal notranslate"><span class="pre">[3,0,</span> <span class="pre">4.0]</span></code>);  the second entry is for Mechanism <code class="docutils literal notranslate"><span class="pre">b</span></code> with two InputPorts, one of which
takes an array of length 1 as its input and the other an array of length 2, and for which two <code class="xref any docutils literal notranslate"><span class="pre">TRIAL</span></code>s worth of input are also specified (<code class="docutils literal notranslate"><span class="pre">[[1.0],</span> <span class="pre">[2.0,</span> <span class="pre">3.0]]</span></code> and <code class="docutils literal notranslate"><span class="pre">[[4.0],</span> <span class="pre">[5.0,</span> <span class="pre">6.0]]</span></code>);
and, finaly, a third entry is for Mechanism <code class="docutils literal notranslate"><span class="pre">c</span></code> with only one InputPort that takes an array of length 1 as its
input, and for which only one input is specified (<code class="docutils literal notranslate"><span class="pre">[1.0]</span></code>), which is therefore provided as the input to
Mechanism <code class="docutils literal notranslate"><span class="pre">c</span></code> on every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>.</span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</div></blockquote>
<p id="composition-input-dictionary-inputport-entries"><em>InputPort Entries</em>. The key must be an <a class="reference internal" href="#composition-input-external-inputports"><span class="std std-ref">external InputPort</span></a> for an
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition, or the <a class="reference internal" href="Port.html#id0" title="psyneulink.core.components.ports.port.Port_Base.full_name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">full_name</span></code></a> of one,
and the value must specify the input for one or all <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s of execution.  Any or all of the
InputPorts for an`INPUT &lt;NodeRole&gt;` <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> can be specified, but an inputs dictionary cannot
have specifications for both the Node and any of its InputPorts.  If the name of an InputPort is used as the key, its
the str in its <a class="reference internal" href="Port.html#id0" title="psyneulink.core.components.ports.port.Port_Base.full_name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">full_name</span></code></a> attribute must be used, to ensure disambiguation from any similarly
named InputPorts of other Nodes.  Specifying InputPorts individually (instead of specifying all of them in a single
entry for a Node) can be if only some InputPorts should receive inputs, or the input for some needs to remain constant
across <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s (by providing it with only one input value) while the input to others vary
(i.e., by providing input_values for every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>).  The value of each entry must be a 2d array
or nested list containing the input for either a single <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> or all <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s,
each of which must match the <a class="reference internal" href="InputPort.html#id0" title="psyneulink.core.components.ports.inputport.InputPort.input_shape"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_shape</span></code></a> of the InputPort. As with Nodes, if there are
entries for some but not all of a Node’s InputPorts, the ones not specified are assigned their <a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.default_input" title="psyneulink.core.components.ports.inputport.InputPort.default_input"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default_input</span></code></a> values for every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> of execution.</p>
<p id="composition-input-labels"><em>Input Labels</em>. In general, the value of inputs should be numeric arrays;  however, some Mechanisms have an
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_labels_dict</span></code></a> that specifies a mapping from strings (labels) to numeric values, in which those
strings can be used to specify inputs to that Mechanism (these are translated to their numeric values on execution).
However, such labels are specific to a given Mechanism;  use of strings as input to a Mechanism that does not have an
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_labels_dict</span></code></a> specified, or use of a string that is not listed in the
dictionary for that Mechanism generates and error.</p>
<p id="composition-target-inputs"><em>Target Inputs for learning</em>. Inputs must also be specified for the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">TARGET_MECHANISM</span></a>
of each <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> in the Composition. This can be done in either the <strong>inputs</strong>
argument or <strong>targets</strong> argument of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method.  If the <strong>inputs</strong> argument is used,
it must include an entry for each <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">TARGET_MECHANISM</span></a>; if the <strong>targets</strong> argument
is used, it must be assigned a dictionary containing entries in which the key is either an <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">OUTPUT_MECHANISM</span></a> (i.e., the final <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>) of a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>, or the corresponding <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">TARGET_MECHANISM</span></a>. The
value of each entry specifies the inputs for each trial, formatted asdescribed <a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">above</span></a>.</p>
<p>The input format required for a Composition, and the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes to which inputs are assigned,
can be seen using its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_input_format" title="psyneulink.core.compositions.composition.Composition.get_input_format"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_input_format</span></code></a> method.</p>
</section>
<section id="specifying-inputs-programmatically">
<span id="composition-programmatic-inputs"></span><h5><em>Specifying Inputs Programmatically</em><a class="headerlink" href="#specifying-inputs-programmatically" title="Permalink to this headline">¶</a></h5>
<p>Inputs can also be specified programmticaly, in a <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> by <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> manner,
using a function, generator, or generator function.</p>
<p>A function used as input must take as its sole argument the current <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> number and return a
value that satisfies all rules above for standard input specification. The only difference is that on each execution,
the function must return the input values for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> for a single <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Default behavior when passing a function as input to a Composition is to execute for only one <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>. Remember to set the num_trials argument of Composition.run if you intend to cycle through
multiple <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s.</p>
</div>
</div></blockquote>
<p>Complete input specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">default_variable</span><span class="o">=</span><span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">function_as_input</span><span class="p">(</span><span class="n">trial_num</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">a_inputs</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]]</span>
<span class="gp">... </span>    <span class="n">this_trials_inputs</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="n">a</span><span class="p">:</span> <span class="n">a_inputs</span><span class="p">[</span><span class="n">trial_num</span><span class="p">]</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">this_trials_inputs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">function_as_input</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">num_trials</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>A generator can also be used as input. On each yield, it should return a value that satisfies all rules above for
standard input specification. The only difference is that on each execution, the generator must yield the input values
for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> for a single <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Default behavior when passing a generator is to execute until the generator is exhausted. If the num_trials
argument of Composition.run is set, the Composition will execute EITHER until exhaustion, or until num_trials
has been reached - whichever comes first.</p>
</div>
</div></blockquote>
<p>Complete input specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">default_variable</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">generator_as_input</span><span class="p">():</span>
<span class="gp">... </span>   <span class="n">a_inputs</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">7.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">]]</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a_inputs</span><span class="p">)):</span>
<span class="gp">... </span>       <span class="n">this_trials_inputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="n">a_inputs</span><span class="p">[</span><span class="n">i</span><span class="p">]}</span>
<span class="gp">... </span>       <span class="k">yield</span> <span class="n">this_trials_inputs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">generator_instance</span> <span class="o">=</span> <span class="n">generator_as_input</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Because the num_trials argument is set to 2, the below call to run will result in only 2 executions of</span>
<span class="gp">... </span><span class="c1"># comp, even though it would take three executions to exhaust the generator.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">generator_instance</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">num_trials</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>If a generator function is used, the Composition will instantiate the generator and use that as its input. Thus,
the returned generator instance of a generator function must follow the same rules as a generator instance passed
directly to the Composition.</p>
<p>Complete input specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">default_variable</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">generator_function_as_input</span><span class="p">():</span>
<span class="gp">... </span>   <span class="n">a_inputs</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]]</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a_inputs</span><span class="p">)):</span>
<span class="gp">... </span>       <span class="n">this_trials_inputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="n">a_inputs</span><span class="p">[</span><span class="n">i</span><span class="p">]}</span>
<span class="gp">... </span>       <span class="k">yield</span> <span class="n">this_trials_inputs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">generator_function_as_input</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="execution-factors">
<span id="composition-execution-factors"></span><h3><em>Execution Factors</em><a class="headerlink" href="#execution-factors" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-runtime-params"><span class="std std-ref">Runtime Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#composition-cycles-and-feedback"><span class="std std-ref">Cycles and Feedback</span></a></p></li>
<li><p><a class="reference internal" href="#composition-execution-context"><span class="std std-ref">Execution Contexts</span></a></p></li>
<li><p><a class="reference internal" href="#composition-timing"><span class="std std-ref">Timing</span></a></p></li>
<li><p><a class="reference internal" href="#composition-reset"><span class="std std-ref">Resetting Stateful Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#composition-compilation"><span class="std std-ref">Compilation</span></a></p></li>
</ul>
</div></blockquote>
<section id="runtime-parameters">
<span id="composition-runtime-params"></span><h4><em>Runtime Parameters</em><a class="headerlink" href="#runtime-parameters" title="Permalink to this headline">¶</a></h4>
<p>In addition to the <a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">learning_rate</span></a>, the values of other <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">Parameter`s of a Composition's
Mechanisms (including but not limited to its `LearningMechanism`s) can be temporarily modified during execution
using the **runtime_params** argument of one of its `execution methods</span></a>.  These are
handled as described for <a class="reference internal" href="Mechanism.html#mechanism-runtime-params"><span class="std std-ref">Runtime Parameters</span></a> of Mechanisms, with the addition that one or more <a class="reference internal" href="Condition.html"><span class="doc">Conditions</span></a> can be specified such that a value will apply only when the specificied Conditions are satisfied;
otherwise the parameter’s previously assigned value (or, if none, then its default) will be used, and those values
are always restored after execution.</p>
<p id="composition-runtime-param-specification">Runtime parameter values for a Composition are specified in a dictionary assigned to the <strong>runtime_params</strong> argument
of a Composition’s <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution method</span></a>.  The key of each entry is a Node of the
Composition, and the value is a subdictionary specifying the <strong>runtime_params</strong> argument that will be passed to the
Node when it is executed.  The format of the dictionary for each <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> follows that for a
Mechanism’s <a class="reference internal" href="Mechanism.html#mechanism-runtime-param-specification"><span class="std std-ref">runtime specification dictionary</span></a>, except that in addition to
specifying the value of a parameter directly (in which case, the value will apply throughout the execution), its value
can also be placed in a tuple together with a <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> specifying when that value should be applied, as follows:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>Dictionary assigned to <strong>runtime_parms</strong> argument: {&lt;Node&gt;: Runtime Parameter Specification Dictionary}</dt><dd><ul>
<li><p><em>key</em> - Node</p></li>
<li><p><em>value</em> - Runtime Parameter Specification Dictionary</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Runtime Parameter Specification Dictionary: {&lt;parameter name&gt;: (&lt;parameter value&gt;, <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a>)}</dt><dd><ul>
<li><p><em>key</em> - str
name of a <a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter" title="psyneulink.core.globals.parameters.Parameter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> of the Node, its <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">function</span></code></a>, or a keyword specifying
a subdictionary containing runtime parameter specifications for Component(s) of the Node (see below);</p></li>
<li><p><em>value</em> - (&lt;parameter value&gt;, <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a>), &lt;parameter value&gt;, or subdictionary (see below) <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a>
specifies when the value is applied;  otherwise, its previously assigned value or <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default</span></a> is used;  if the parameter values appears alone in a tuple or outside of one,
then the Condition <a class="reference internal" href="Condition.html#psyneulink.core.scheduling.condition.Always" title="psyneulink.core.scheduling.condition.Always"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Always()</span></code></a> is applied.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>See <a class="reference internal" href="Mechanism.html#mechanism-runtime-param-specification"><span class="std std-ref">Runtime Parameter Specification Dictionary</span></a> for additional details.</p>
</div></blockquote>
<p>As in a standard runtime parameter specification dictionary, the key for an entry can be used to specify a subdictionary
specifying the runtime parameters for a Mechanism’s <a class="reference internal" href="Mechanism.html#mechanism-ports"><span class="std std-ref">Ports</span></a>, and/or any of their <a class="reference internal" href="Mechanism.html#id8" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.afferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">afferent</span> <span class="pre">Projections</span></code></a> (see <a class="reference internal" href="Mechanism.html#mechanism-runtime-port-and-projection-param-specification"><span class="std std-ref">Runtime specification ditionary: parameters of a Mechanism’s Ports and Projections</span></a>).  The subdictionaries
used to specify those can be placed placed in a tuple, as can any of the specification of parameter values within them.
A tuple used to specify a subdictionary determines when any of the parameters specified within it are eligible to apply:
If its <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> is <em>not</em> satisfied, then none of the parameters specified within it will apply;  if its <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a>
<em>is</em> satisfied, then any parameter specified within it for which the <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> is satisified will also apply.</p>
</section>
<section id="cycles-and-feedback">
<span id="composition-cycles-and-feedback"></span><h4><em>Cycles and Feedback</em><a class="headerlink" href="#cycles-and-feedback" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-cycle"><span class="std std-ref">Cycles and Synchronous Execution</span></a></p></li>
<li><p><a class="reference internal" href="#composition-feedback"><span class="std std-ref">Feedback and Sequential Execution</span></a></p></li>
</ul>
</div></blockquote>
<p>If <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> among any or all of the <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in a Composition form loops — that
is, there are any cycles in its <a class="reference internal" href="#composition-graph"><span class="std std-ref">graph</span></a> —  then the order in which the Nodes are executed must
be determined.  This is handled in one of two ways:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Flatten cycle</strong> - if the cycle does not have any <a class="reference internal" href="#composition-feedback"><span class="std std-ref">feedback Projections</span></a>, then the cycle
is “flattened” and all of the Nodes are executed synchronously.</p></li>
<li><p><strong>Break cycle</strong> - if cycle has any <a class="reference internal" href="#composition-feedback"><span class="std std-ref">feedback Projections</span></a>, they are used to break the
cycle at those points, and the remaining Projections are used to execute the Nodes sequentially, with the
<a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.receiver" title="psyneulink.core.components.projections.projection.Projection_Base.receiver"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">receiver</span></code></a> of each feedback Projection executed first, its <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.sender" title="psyneulink.core.components.projections.projection.Projection_Base.sender"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">sender</span></code></a> executed last, and the receiver getting the sender’s value on its next execution.</p></li>
</ul>
</div></blockquote>
<p>Each of these approaches is described in greater detail below.</p>
<section id="cycles-and-synchronous-execution">
<span id="composition-cycle"></span><h5><em>Cycles and Synchronous Execution</em><a class="headerlink" href="#cycles-and-synchronous-execution" title="Permalink to this headline">¶</a></h5>
<p id="composition-cycle-structure"><strong>Cycles</strong>. A cycle is formed when the Projections among a set of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> form a loop, and none
of the Projections is designated as a <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback Projection</span></a>.  Any cycle nested
within another is added to the one in which it is nested, and all are treated as part of the same cycle. All Nodes
within a cycle are assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.CYCLE" title="psyneulink.core.compositions.composition.NodeRole.CYCLE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">CYCLE</span></code></a>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>A <a class="reference internal" href="RecurrentTransferMechanism.html"><span class="doc">RecurrentTransferMechanism</span></a> (and its subclaseses) are treated as single-Node cylces, formed by their
<a class="reference internal" href="AutoAssociativeProjection.html"><span class="doc">AutoAssociativeProjection</span></a> (since the latter is subclass of MappingProjection and thus not designated as
feedback (see <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">below</span></a>).</p>
</div>
</div></blockquote>
<p id="composition-cycle-synchronous-execution"><strong>Synchronous execution</strong>. Cycles are “flattened” for execution, meaning that all of the Nodes within a cycle are
executed in the same <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a>. The input that each Node in a cycle receives from those that
project to it from within the cycle is the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> of those Nodes when the cycle was last executed
in the same <a class="reference internal" href="#composition-execution-context"><span class="std std-ref">execution context</span></a>;  this ensures not only that they execute in synchrony,
but that the inputs received from any Nodes within the cycle are synchronized (i.e., from the same earlier <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a> of execution). However, this presents a problem for the first execution of the cycle since, by
definition, none of the Nodes have a value from a previous execution.  In that case, each sender passes the value to
which it has been initialized which, by default, is its <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default value</span></a>.  However, this can be
overridden, as described below.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although all the Nodes in a cycle receive either the initial value or previous value of other Nodes in the cycle,
they receive the <em>current</em> value of any Nodes that project to them from <em>outisde</em> the cycle, and pass their
current value (i.e., the ones computed in the current execution of the cycle) to any Nodes to which they project
outside of the cycle.  The former means that any Nodes within the cycle that receive such input are “a step
ahead” of those within the cycle and also, unless they use a <a class="reference internal" href="StatefulFunction.html"><span class="doc">StatefulFunction</span></a>, others within the cycle will
not see the effects of that input within or across <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIALS</span></code></a>.</p>
</div>
</div></blockquote>
<p id="composition-cycle-initialization"><strong>Initialization</strong>. The initialization of Nodes in a cycle using their <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default values</span></a> can be
overridden using the <strong>initialize_cycle_values</strong> argument of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> methods.  This can be used to specify an initial value for any Node in a cycle.  On the first
call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>, nodes specified in <strong>initialize_cycle_values</strong> are
initialized using the assigned values, and any Nodes in the cycle that are not specified are assigned their <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default
value</span></a>. In subsequent calls to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>, Nodes
specified in <strong>initialize_cycle_values</strong> will be re-initialized to the assigned values for the first execution of the
cycle in that run, whereas any Nodes not specified will retain the last <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> they were assigned
in the uprevious call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>.</p>
<p>Nodes in a cycle can also be initialized outside of a call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>
using the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.initialize" title="psyneulink.core.compositions.composition.Composition.initialize"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">initialize</span></code></a> method.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> belonging to a cycle in a Composition is first executed on its own (i.e., using its own <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method), the value it is assigned will be used as its initial value when it is executed
within the Composition, unless an <a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context.execution_id" title="psyneulink.core.globals.context.Context.execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">execution_id</span></code></a> is assigned to the <strong>context</strong> argument
of the Mechanism’s <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method when it is called.  This is because the first time
a Mechanism is executed in a Composition, its initial value is copied from the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>
last assigned in the None context.  As described aove, this can be overridden by specifying an initial value for
the Mechanism in the <strong>initialize_cycle_values</strong> argument of the call to the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>
or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> methods.</p>
</div>
</div></blockquote>
</section>
<section id="feedback-and-sequential-execution">
<span id="composition-feedback"></span><h5><em>Feedback and Sequential Execution</em><a class="headerlink" href="#feedback-and-sequential-execution" title="Permalink to this headline">¶</a></h5>
<p id="composition-feedback-designation"><strong>Feedback designation</strong>. If any Projections in a loop are designated as <strong>feedback</strong> they are used to break the
<a class="reference internal" href="#composition-cycle-structure"><span class="std std-ref">cycle</span></a> of execution that would otherwise be formed, and the Nodes are executed
sequentially as described <a class="reference internal" href="#composition-feedback-sequential-execution"><span class="std std-ref">below</span></a>. Each Node that sends a feedback
Projection is assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a>, and the receiver is assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_RECEIVER</span></code></a>. By default, <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a> are not specified as feedback, and
therefore loops containing only MappingProjections are left as <a class="reference internal" href="#composition-cycle-structure"><span class="std std-ref">cycles</span></a>. In
contrast, <a class="reference internal" href="ModulatoryProjection.html"><span class="doc">ModulatoryProjections</span></a> <em>are</em> designated as feedback by default, and therefore any
loops containing one or more ModulatoryProjections are broken, with the Mechanism that is <a class="reference internal" href="ModulatorySignal.html#modulatorysignal-modulation"><span class="std std-ref">modulated</span></a> designated as the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_RECEIVER</span></code></a> and the <a class="reference internal" href="ModulatoryMechanism.html"><span class="doc">ModulatoryMechanism</span></a> that projects to
it designated as the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a>. However, either of these default behaviors can be overidden, by specifying the
feedback status of a Projection explicitly: in a tuple with the Projection specification (e.g. where it is <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">specified
in a Pathway</span></a> or in the <a class="reference internal" href="ControlMechanism.html#controlmechanism-monitor-for-control"><span class="std std-ref">monitor_for_control</span></a> argument
of a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a>); in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_projections" title="psyneulink.core.compositions.composition.Composition.add_projections"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_projections</span></code></a> method; by using the
<strong>feedback</strong> argument of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_projection" title="psyneulink.core.compositions.composition.Composition.add_projection"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_projection</span></code></a> method; or in the constructor
of the <a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> itself using its <strong>feedback</strong> argument. Specifying True or the keyword <em>FEEDBACK</em> forces its
assignment as a <em>feedback</em> Projection, whereas False precludes it from being assigned as a feedback Projection
(e.g., a <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a> that otherwise forms a cycle will no longer do so).</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Designating a Projection as <strong>feeedback</strong> that is <em>not</em> in a loop is allowed, but will issue a warning and
can produce unexpected results.  Designating more than one Projection as <strong>feedback</strong> within a loop is also
permitted, but can also lead to complex and unexpected results.  In both cases, the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_RECEIVER</span></code></a> for any
Projection designated as <strong>feedback</strong> will receive a value from the Projection that is based either on the
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a>'s initial_value (the first time it is executed) or its previous <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>
(in subsequent executions), rather than its most recently computed <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> whether or not it
is in a <a class="reference internal" href="#composition-cycle-structure"><span class="std std-ref">cycle</span></a> (see <a class="reference internal" href="#composition-feedback-initialization"><span class="std std-ref">below</span></a>).</p>
</div>
</div></blockquote>
<p id="composition-feedback-sequential-execution"><strong>Sequential execution</strong>. The <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_RECEIVER</span></code></a> is the first of the Nodes that were in a loop to execute in a
given <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.PASS" title="psyneulink.core.scheduling.time.TimeScale.PASS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PASS</span></code></a>, receiving a value from the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a> as described <a class="reference internal" href="#composition-feedback-initialization"><span class="std std-ref">below</span></a>.  It is followed in each subsequent <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a> by the
next Node in the sequence, with the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a> executing last.</p>
<p id="composition-feedback-initialization"><strong>Initialization</strong>. The receiver of a feedback Projection (its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_RECEIVER</span></code></a>) is treated in the same way as a
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.CYCLE" title="psyneulink.core.compositions.composition.NodeRole.CYCLE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">CYCLE</span></code></a> Node:  the first time it executes, it receives input from the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a> based on the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> to which it was initialized
.  On subsequent executions, its input from the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a> is based on the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> of that
Node after it was last executed in the same <a class="reference internal" href="#composition-execution-context"><span class="std std-ref">execution context</span></a>.</p>
<p>The <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_SENDER</span></code></a>s of a Composition are listed in its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.feedback_senders" title="psyneulink.core.compositions.composition.Composition.feedback_senders"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">feedback_senders</span></code></a> attribute,
and its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER" title="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">FEEDBACK_RECEIVER</span></code></a>s  in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.feedback_senders" title="psyneulink.core.compositions.composition.Composition.feedback_senders"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">feedback_senders</span></code></a>.  These can also be listed using
the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_nodes_by_role" title="psyneulink.core.compositions.composition.Composition.get_nodes_by_role"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_nodes_by_role</span></code></a> method.  The feedback Projections of a Composition
are listed in its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.feedback_projections" title="psyneulink.core.compositions.composition.Composition.feedback_projections"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">feedback_projections</span></code></a>  attribute, and the feedback status of a
Projection can be ascertained using the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_feedback_status" title="psyneulink.core.compositions.composition.Composition.get_feedback_status"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_feedback_status</span></code></a> method.</p>
</section>
</section>
<section id="execution-contexts">
<span id="composition-execution-context"></span><h4><em>Execution Contexts</em><a class="headerlink" href="#execution-contexts" title="Permalink to this headline">¶</a></h4>
<p>A Composition is always executed in a designated <em>execution context</em>, specified by an <a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context.execution_id" title="psyneulink.core.globals.context.Context.execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">execution_id</span></code></a> that can be provided to the <strong>context</strong> argument of the method used to execute the
Composition. Execution contexts make several capabilities possible, the two most important of which are:</p>
<blockquote>
<div><ul class="simple">
<li><p>a <a class="reference internal" href="Component.html"><span class="doc">Component</span></a> can be assigned to, and executed in more than one Composition, preserving its <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> and that of its <a class="reference internal" href="Parameters.html#parameter-statefulness"><span class="std std-ref">parameters</span></a> independently for each of
the Compositions to which it is assigned;</p></li>
<li><p>the same Composition can be exectued independently in different contexts; this can be used for
parallelizing parameter estimation, both for data fitting (see <code class="xref any docutils literal notranslate"><span class="pre">ParamEstimationFunction</span></code>), and for
simulating the Composition in <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-model-based"><span class="std std-ref">model-based optimization</span></a>
(see <a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a>).</p></li>
</ul>
</div></blockquote>
<p>If no <a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context.execution_id" title="psyneulink.core.globals.context.Context.execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">execution_id</span></code></a> is specified, the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.default_execution_id" title="psyneulink.core.compositions.composition.Composition.default_execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default</span> <span class="pre">execution_id</span></code></a>
is used, which is generally the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.name" title="psyneulink.core.compositions.composition.Composition.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>; however, any <a class="reference external" href="https://docs.python.org/3/glossary.html">hashable</a> value (e.g., a string, a number, or <a class="reference internal" href="Component.html"><span class="doc">Component</span></a>) can be used.
That execution_id can then be used to retrieve the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> of any of the Composition’s
Components or their <a class="reference internal" href="Parameters.html#parameter-statefulness"><span class="std std-ref">parameters</span></a> that were assigned during the execution. If a Component is
executed outside of a Composition (e.g, a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> is executed on its own using its <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method), then any assignments to its <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> and/or that of its parameters
is given an execution_id of <code class="xref any docutils literal notranslate"><span class="pre">None</span></code>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a> of a Component or a parameter is queried using <a class="reference internal" href="Parameters.html#parameter-dot-notation"><span class="std std-ref">dot notation</span></a>, then its most recently assigned value is returned.  To retrieve the
value associated with a particular execution context, the parameter’s <a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter.get" title="psyneulink.core.globals.parameters.Parameter.get"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get</span></code></a> method must be used:
<code class="docutils literal notranslate"><span class="pre">&lt;Component&gt;.parameters.&lt;parameter_name&gt;.get(execution_id)</span></code>, where <code class="docutils literal notranslate"><span class="pre">value</span></code> can be used as the parameter_name
to retrieve the Component’s <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>, and the name of any of its other parameters to get their
value.</p>
</div>
</div></blockquote>
<p>See <a class="reference internal" href="#composition-examples-execution-context"><span class="std std-ref">Execution Contexts</span></a> for examples.</p>
<div class="technical-note docutils container">
<p id="composition-execution-contexts-init"><strong>Initialization of Execution Contexts</strong></p>
<ul class="simple">
<li><p>The parameter values for any execution context can be copied into another execution context by using
Component._initialize_from_context, which when called on a Component copies the values for all its parameters
and recursively for all of the Component’s <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component._dependent_components" title="psyneulink.core.components.component.Component._dependent_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">_dependent_components</span></code></a>.</p></li>
<li><p><a class="reference internal" href="Component.html#psyneulink.core.components.component.Component._dependent_components" title="psyneulink.core.components.component.Component._dependent_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">_dependent_components</span></code></a> should be added to for any new Component that requires
other Components to function properly (beyond “standard” things like Component.function, or Mechanism.input_ports,
as these are added in the proper classes’ _dependent_components).</p>
<ul>
<li><p>The intent is that with <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component._dependent_components" title="psyneulink.core.components.component.Component._dependent_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">_dependent_components</span></code></a> set properly, calling
<code class="docutils literal notranslate"><span class="pre">obj._initialize_from_context(new_context,</span> <span class="pre">base_context)</span></code> should be sufficient to run obj under
<strong>new_context</strong>.</p></li>
<li><p>A good example of a “nonstandard” override is <code class="xref any docutils literal notranslate"><span class="pre">OptimizationControlMechanism._dependent_components</span></code></p></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="timing">
<span id="composition-timing"></span><h4><em>Timing</em><a class="headerlink" href="#timing" title="Permalink to this headline">¶</a></h4>
<p>When <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> is called by a Composition, it calls that Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a>
method once for each <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">input</span></a>  (or set of inputs) specified in the call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>, which constitutes a <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> of execution.  For each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>,
the Component makes repeated calls to its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.scheduler" title="psyneulink.core.compositions.composition.Composition.scheduler"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">scheduler</span></code></a>, executing the Components it specifies
in each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a>, until every Component has been executed at least once or another
<a class="reference internal" href="Scheduler.html#scheduler-termination-conditions"><span class="std std-ref">termination condition</span></a> is met.  The <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.scheduler" title="psyneulink.core.compositions.composition.Composition.scheduler"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">scheduler</span></code></a> can be
used in combination with <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> specifications for individual Components to execute different Components at
different time scales.</p>
</section>
<section id="resetting-stateful-parameters">
<span id="composition-reset"></span><h4><em>Resetting Stateful Parameters</em><a class="headerlink" href="#resetting-stateful-parameters" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="StatefulFunction.html"><span class="doc">Stateful Functions</span></a> (such as <a class="reference internal" href="IntegratorFunctions.html#psyneulink.core.components.functions.stateful.integratorfunctions.IntegratorFunction" title="psyneulink.core.components.functions.stateful.integratorfunctions.IntegratorFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">IntegratorFunctions</span></code></a> and “non-parametric”
<a class="reference internal" href="MemoryFunctions.html#psyneulink.core.components.functions.stateful.memoryfunctions.MemoryFunction" title="psyneulink.core.components.functions.stateful.memoryfunctions.MemoryFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MemoryFunctions</span></code></a>) have a <a class="reference internal" href="StatefulFunction.html#psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value" title="psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">previous_value</span></code></a> attribute that maintains
a record of the Function’s <a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter.values" title="psyneulink.core.globals.parameters.Parameter.values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">values</span></code></a> for each <a class="reference internal" href="#composition-execution-context"><span class="std std-ref">execution context</span></a> in
which it is executed, within and between calls to the Composition’s <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execute methods</span></a>.
This record can be cleared and <a class="reference internal" href="StatefulFunction.html#psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value" title="psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">previous_value</span></code></a> reset to either the Function’s
<a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default value</span></a> or another one, using either the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.reset" title="psyneulink.core.compositions.composition.Composition.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method
or in arguments to its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> methods, as described below (see
<a class="reference internal" href="#composition-examples-reset"><span class="std std-ref">Reset Paramters of Stateful Functions</span></a> for examples):</p>
<blockquote>
<div><ul>
<li><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.reset" title="psyneulink.core.compositions.composition.Composition.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> – this is a method of the Composition that calls the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method
of Nodes in the Composition that have a <a class="reference internal" href="StatefulFunction.html"><span class="doc">StatefulFunction</span></a>, each of which resets the <a class="reference internal" href="Component.html#component-stateful-parameters"><span class="std std-ref">stateful parameters</span></a> of those Functions.
If it is called  without any arguments, it calls the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a>
method for every <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in the Composition that has a <a class="reference internal" href="StatefulFunction.html"><span class="doc">StatefulFunction</span></a>.
It can also be called with a dictionary that specifies a subsset of Nodes to reset (see format described for
<strong>reset_stateful_functions_when</strong> below).</p></li>
<li><p><strong>reset_stateful_functions_when</strong> and <strong>reset_stateful_functions_to</strong> – these are arguments of the Composition’s
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>  and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> methods, that can be used to specify the <a class="reference internal" href="Condition.html"><span class="doc">Conditions</span></a> under which the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method of all or a particular subset of Nodes are called
during that run, and optionally the values they are assigned when reset.  As with <a class="reference internal" href="#composition-runtime-params"><span class="std std-ref">runtime_params</span></a>, these specifications apply only for the duration of the call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>, and the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset_stateful_function_when" title="psyneulink.core.components.component.Component.reset_stateful_function_when"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">reset_stateful_function_when</span></code></a> of all Nodes are restored to their prior values upon completion.</p>
<ul>
<li><p><strong>reset_stateful_functions_when</strong> – this specifies the <a class="reference internal" href="Condition.html"><span class="doc">Condition(s)</span></a> under which the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method will be called for Nodes with <a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter.stateful" title="psyneulink.core.globals.parameters.Parameter.stateful"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">stateful</span></code></a>. If a single
<a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> is specified, it is applied to all of the Composition’s <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> that have
<a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter.stateful" title="psyneulink.core.globals.parameters.Parameter.stateful"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">stateful</span></code></a>; a dictionary can also be specified, in which the key for each entry
is a Node, its value is a <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> under which that Node’s <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method should be called.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a single <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> is specified, it applies only to Nodes for which the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset_stateful_function_when" title="psyneulink.core.components.component.Component.reset_stateful_function_when"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">reset_stateful_function_when</span></code></a> attribute has not otherwise been specified. If a dictionary is
specified, then the <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> specified for each Node applies to that Node, superceding any prior
specification of its <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset_stateful_function_when" title="psyneulink.core.components.component.Component.reset_stateful_function_when"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">reset_stateful_function_when</span></code></a> attribute
for the duration of the call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>.</p>
</div>
</li>
<li><p><strong>reset_stateful_functions_to</strong> – this specifies the values used by each <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> to reset
the <a class="reference internal" href="Component.html#component-stateful-parameters"><span class="std std-ref">stateful parameters</span></a> of its <a class="reference internal" href="StatefulFunction.html"><span class="doc">StatefulFunction(s)</span></a>.  It
must be a dictionary of {Node:value} pairs, in which the value specifies the value(s) passed to the
<a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method of the specified Node.  If the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method of a Node
takes more than one value (see Note below), then a list of values must be provided (i.e., as {node:[value_0,
value_1,… value_n]}) that matches the number of arguments taken by the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method.
Any Nodes <em>not</em> specified in the dictionary are reset using their <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default value(s)</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset" title="psyneulink.core.components.component.Component.reset"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">reset</span></code></a> method of most Nodes with a <a class="reference internal" href="StatefulFunction.html"><span class="doc">StatefulFunction</span></a> takes only a single value, that
is used to reset the <a class="reference internal" href="StatefulFunction.html#psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value" title="psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">previous_value</span></code></a> attribute of the Function.  However
some (such as those that use <a class="reference internal" href="IntegratorFunctions.html#dualadaptiveintegrator"><span class="std std-ref">DualAdaptiveIntegrator</span></a>) take more than one value.
For such Nodes, a list of values must be specified as the value of their dicitonary entry in
<strong>reset_stateful_functions_to</strong>.</p>
</div>
</li>
</ul>
<p>The <strong>reset_stateful_functions_when</strong> and <strong>reset_stateful_functions_to</strong> arguments can be used in conjunction or
independently of one another. For example, the <a class="reference internal" href="Condition.html"><span class="doc">Condition(s)</span></a> under which a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> with a
<a class="reference internal" href="StatefulFunction.html"><span class="doc">StatefulFunction</span></a> is reset using to its <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default values</span></a> can be specified by including it in
<strong>reset_stateful_functions_when</strong> but not <strong>reset_stateful_functions_to</strong>.  Conversely, the value to which
the <a class="reference internal" href="StatefulFunction.html"><span class="doc">StatefulFunction</span></a> of a Mechanism is reset can be specified without changing the Condition under which this
occurs, by including it in <strong>reset_stateful_functions_to</strong> but not <strong>reset_stateful_functions_when</strong> – in that
case, the <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> specified by its own <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.reset_stateful_function_when" title="psyneulink.core.components.component.Component.reset_stateful_function_when"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">reset_stateful_function_when</span></code></a>
parameter will be used.</p>
</li>
</ul>
</div></blockquote>
</section>
<section id="compilation">
<span id="composition-compilation"></span><h4><em>Compilation</em><a class="headerlink" href="#compilation" title="Permalink to this headline">¶</a></h4>
<p>By default, a Composition is executed using the Python interpreter used to run the script from which it is called. In
many cases, a Composition can also be executed in a <a class="reference internal" href="Compilation.html"><span class="doc">compiled mode</span></a>.  While this can add some time to
initiate execution, execution itself can be several orders of magnitude faster than using the Python interpreter. Thus,
using a compiled mode can be useful for executing Compositions that are complex and/or for large numbers of <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s. <a class="reference internal" href="Compilation.html"><span class="doc">Compilation</span></a> is supported for most CPUs (including x86, arm64, and powerpc64le).  Several modes
can be specified, that that tradeoff power (i.e., degree of speed-up) against level of support (i.e., likelihood of
success).  Most PsyNeuLink <a class="reference internal" href="Component.html"><span class="doc">Components</span></a> and methods are supported for compilation;  however, Python native
functions and methods (e.g., used to specify the <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.function" title="psyneulink.core.components.component.Component.function"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">function</span></code></a> of a Component) are not supported at
present. Users who wish to compile custom functions should refer to <a class="reference internal" href="UserDefinedFunction.html"><span class="doc">compiled User Defined Functions</span></a> for more information.   See below and <a class="reference internal" href="Compilation.html"><span class="doc">Compilation</span></a> for additional details regarding the use
of compiled modes of execution, and <a class="reference external" href="http://www.cs.yale.edu/homes/abhishek/jvesely-cgo22.pdf">Vesely et al. (2022)</a>
for more information about the approach taken to compilation.</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Compiled modes are continuing to be developed and refined, and therefore it is still possible that there are
bugs that will not cause compilation to fail, but could produce erroneous results.  Therefore, it is strongly
advised that if compilation is used, suitable tests are conducted that the results generated are identical to
those generated when the Composition is executed using the Python interpreter.</p>
<p>Users are strongly urged to report any compilation failures to <a class="reference external" href="mailto:psyneulinkhelp&#37;&#52;&#48;princeton&#46;edu">psyneulinkhelp<span>&#64;</span>princeton<span>&#46;</span>edu</a>, or as an
issue <a class="reference external" href="https://github.com/PrincetonUniversity/PsyNeuLink/issues">here</a>. Known failure conditions are listed
<a class="reference external" href="https://github.com/PrincetonUniversity/PsyNeuLink/milestone/2">here</a>.</p>
</div>
</div></blockquote>
<p id="composition-compiled-modes">The <strong>execution_mode</strong> argument of an <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution method</span></a> specifies whether to use a
compiled mode and, if so,  which.  If True is specified, an attempt is made to use the most powerful mode (LLVMRun)
and, if that fails, to try progressively less powerful modes (issueing a warning indicating the unsupported feature
that caused the failure), reverting to the Python interpreter if all compiled modes fail.  If a particular mode is
specified and fails, an error is generated indicating the unsupported feature that failed. The compiled modes,
in order of their power, are:</p>
<blockquote id="composition-compilation-modes">
<div><ul>
<li><p><em>True</em> – try to use the one that yields the greatesst improvement, progressively reverting to less powerful
but more forgiving modes, in the order listed below, for each that fails;</p></li>
<li><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.LLVMRun" title="psyneulink.core.llvm.__init__.ExecutionMode.LLVMRun"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.LLVMRun</span></code></a> - compile and run multiple <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s; if successful,
the compiled binary is semantically equivalent to the execution of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method
using the Python interpreter;</p></li>
<li><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.LLVMExec" title="psyneulink.core.llvm.__init__.ExecutionMode.LLVMExec"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.LLVMExec</span></code></a> – compile and run each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>, using the Python interpreter
to iterate over them; if successful, the compiled binary for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> is semantically
equivalent the execution of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.execute" title="psyneulink.core.compositions.composition.Composition.execute"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">execute</span></code></a> method using the Python interpreter;</p></li>
<li><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.LLVM" title="psyneulink.core.llvm.__init__.ExecutionMode.LLVM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.LLVM</span></code></a> – compile and run <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the <a class="reference internal" href="#"><span class="doc">Composition</span></a> and their <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>, using the Python interpreter to call the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.scheduler" title="psyneulink.core.compositions.composition.Composition.scheduler"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">scheduler</span></code></a>,
execute each Node and iterate over <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s; note that, in this mode, scheduling
<a class="reference internal" href="Condition.html"><span class="doc">Conditions</span></a> that rely on Node <a class="reference internal" href="Parameters.html"><span class="doc">Parameters</span></a> is not supported;</p></li>
<li><p><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.Python" title="psyneulink.core.llvm.__init__.ExecutionMode.Python"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.Python</span></code></a> (same as <em>False</em>; the default) – use the Python interpreter to execute the <a class="reference internal" href="#"><span class="doc">Composition</span></a>.</p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.PyTorch</span></code></a> – used only for <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a>: executes <a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a></dt><dd><p>using <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PyTorch</span></code></a> and <a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.run" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> using Python interpreter (see <a class="reference internal" href="#composition-compilation-pytorch"><span class="std std-ref">below</span></a> for additional details).</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For clarity, <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.PyTorch</span></code></a> should only be used when executing an <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a>;
using it with a standard <a class="reference internal" href="#"><span class="doc">Composition</span></a> is possible, but it will <strong>not</strong> have the expected effect of
executing its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method using PyTorch.</p>
</div>
</li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">ExecutionMode.PTXrun</span></code> – compile multiple <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s  for execution on GPU
(see <a class="reference internal" href="#composition-compilation-ptx"><span class="std std-ref">below</span></a> for additional details).</p></li>
</ul>
</div></blockquote>
<p id="composition-compilation-pytorch"><em>PyTorch support.</em>  When using an <a class="reference internal" href="AutodiffComposition.html"><span class="doc">AutodiffComposition</span></a>, <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PyTorch" title="psyneulink.core.llvm.__init__.ExecutionMode.PyTorch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.PyTorch</span></code></a> can be used to execute its
<a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method using Pytorch; however, its <a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.run" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method
will execute using the Python interpreter.  See <a class="reference internal" href="#composition-learning-autodiffcomposition"><span class="std std-ref">Learning Using AutodiffCompositon</span></a> for additional details.</p>
<p id="composition-compilation-ptx"><em>GPU support.</em>  In addition to compilation for CPUs, support is being developed for <a class="reference external" href="https://developer.nvidia.com/about-cuda">CUDA</a> capable <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_Nvidia_graphics_processing_units">Invidia GPUs</a>.  This can be invoked by
specifying <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode.PTXRun" title="psyneulink.core.llvm.__init__.ExecutionMode.PTXRun"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ExecutionMode.PTXRun</span></code></a> in the <strong>execution_mode</strong> argument of a <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">Composition execution
method</span></a>, which are equivalent to the LLVM counterparts but run in a single
thread of a CUDA capable GPU. This requires that a working <a class="reference external" href="https://documen.tician.de/pycuda/">pycuda package</a> is
<a class="reference external" href="https://wiki.tiker.net/PyCuda/Installation">installed</a>, and that CUDA execution is not explicitly disabled by
setting the <code class="docutils literal notranslate"><span class="pre">PNL_LLVM_DEBUG</span></code> environment variable to <code class="docutils literal notranslate"><span class="pre">nocuda</span></code>.</p>
</section>
</section>
<section id="results-reporting-and-logging">
<span id="composition-execution-results-and-reporting"></span><h3><em>Results, Reporting and Logging</em><a class="headerlink" href="#results-reporting-and-logging" title="Permalink to this headline">¶</a></h3>
<p id="composition-execution-results"><em>Results</em></p>
<p>Executing a Composition returns the results of the last <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> executed. If either <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> is called, the results of all <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIALS</span></code></a> executed
are available in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attribute.  More specifically, at the end of a
<code class="xref any docutils literal notranslate"><span class="pre">TRIAL</span></code> (a list of the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> for all of its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>) are added to
the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attribute, and the <code class="xref any docutils literal notranslate"><span class="pre">output_values</span></code> for the
last <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> executed is returned by the <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution method</span></a>. The
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of the last <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>
can be seen using the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_results_by_nodes" title="psyneulink.core.compositions.composition.Composition.get_results_by_nodes"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_results_by_nodes</span></code></a> method.</p>
<p id="composition-execution-reporting"><em>Reporting</em></p>
<p>A report of the results of each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> can be generated as the Composition is executing, using the
<strong>report_output</strong> and <strong>report_progress</strong> arguments of any of the <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution methods</span></a>.
<strong>report_output</strong> (specified using <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportOutput" title="psyneulink.core.compositions.report.ReportOutput"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportOutput</span></code></a> options) generates a report of the input and output of the
Composition and its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>, and optionally their <a class="reference internal" href="Parameters.html"><span class="doc">Parameters</span></a> (specified in the
<strong>report_params</strong> arg using <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportParams" title="psyneulink.core.compositions.report.ReportParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportParams</span></code></a> options); <strong>report_progress</strong> (specified using <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportProgress" title="psyneulink.core.compositions.report.ReportProgress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportProgress</span></code></a> options)
shows a progress bar  indicating how many <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIALS</span></code></a> have been executed and an estimate of the time
remaining to completion.  These options are all OFF by default (see <a class="reference internal" href="Report.html"><span class="doc">Reporting</span></a> for additional details).</p>
<p id="composition-execution-logging"><em>Logging</em></p>
<p>The values of individual Components (and their <a class="reference internal" href="Parameters.html"><span class="doc">parameters</span></a>) assigned during execution can also be
recorded in their <a class="reference internal" href="Component.html#component-log"><span class="std std-ref">log</span></a> attribute using the <a class="reference internal" href="Log.html"><span class="doc">Log</span></a> facility.</p>
</section>
</section>
<section id="visualizing-a-composition">
<span id="composition-visualization"></span><h2>Visualizing a Composition<a class="headerlink" href="#visualizing-a-composition" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref any docutils literal notranslate"><span class="pre">show_graph</span></code> method generates a display of the graph structure of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> in the Composition based on the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.graph" title="psyneulink.core.compositions.composition.Composition.graph"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">graph</span></code></a> (see <a class="reference internal" href="Visualization.html"><span class="doc">Visualization</span></a> for additional details).</p>
</section>
<section id="composition-examples">
<span id="id4"></span><h2>Composition Examples<a class="headerlink" href="#composition-examples" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#composition-examples-creation"><span class="std std-ref">Creating a Composition</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-run"><span class="std std-ref">Run Composition</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-learning"><span class="std std-ref">Learning</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-input"><span class="std std-ref">Input Formats</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-runtime-params"><span class="std std-ref">Runtime Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-cycles-feedback"><span class="std std-ref">Cycles and Feedback</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-execution-context"><span class="std std-ref">Execution Contexts</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-reset"><span class="std std-ref">Reset Paramters of Stateful Functions</span></a></p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">Composition_Examples_Visualization</span></code></p></li>
</ul>
</div></blockquote>
<section id="composition-examples-creation">
<span id="id5"></span><h3><em>Creating a Composition</em><a class="headerlink" href="#composition-examples-creation" title="Permalink to this headline">¶</a></h3>
<p><em>Create Mechanisms:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Create Projections:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A_to_B</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">MappingProjection</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;A-to-B&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B_to_C</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">MappingProjection</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;B-to-C&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Create Composition; Add Nodes (Mechanisms) and Projections using the add_linear_processing_pathway method:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp_0</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp-0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_0</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway</span><span class="o">=</span><span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">A_to_B</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">B_to_C</span><span class="p">,</span> <span class="n">C</span><span class="p">])</span>
</pre></div>
</div>
<p><em>Create Composition; Add Nodes (Mechanisms) and Projections via the add_nodes and add_projection methods:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp_1</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp-1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_1</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_1</span><span class="o">.</span><span class="n">add_projection</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">A_to_B</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_1</span><span class="o">.</span><span class="n">add_projection</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">B_to_C</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Create Composition; Add Nodes (Mechanisms) and Projections via the add_node and add_projection methods:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp_2</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp-2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_2</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">A</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_2</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">B</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_2</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_2</span><span class="o">.</span><span class="n">add_projection</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">A_to_B</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_2</span><span class="o">.</span><span class="n">add_projection</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">B_to_C</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Run each Composition:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">A</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">]]]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_0_output</span> <span class="o">=</span> <span class="n">comp_0</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_1_output</span> <span class="o">=</span> <span class="n">comp_1</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_2_output</span> <span class="o">=</span> <span class="n">comp_2</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dict</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Create outer Composition:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outer_A</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;outer_A&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_B</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;outer_B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;outer_comp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">([</span><span class="n">outer_A</span><span class="p">,</span> <span class="n">outer_B</span><span class="p">])</span>
</pre></div>
</div>
<p><em>Create and configure inner Composition:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inner_A</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;inner_A&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_B</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;inner_B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_comp</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;inner_comp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">([</span><span class="n">inner_A</span><span class="p">,</span> <span class="n">inner_B</span><span class="p">])</span>
</pre></div>
</div>
<p><em>Nest inner Composition within outer Composition using</em> <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_node" title="psyneulink.core.compositions.composition.Composition.add_node"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_node</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">inner_comp</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Create Projections:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span><span class="o">.</span><span class="n">add_projection</span><span class="p">(</span><span class="n">pnl</span><span class="o">.</span><span class="n">MappingProjection</span><span class="p">(),</span> <span class="n">sender</span><span class="o">=</span><span class="n">outer_A</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">inner_comp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span><span class="o">.</span><span class="n">add_projection</span><span class="p">(</span><span class="n">pnl</span><span class="o">.</span><span class="n">MappingProjection</span><span class="p">(),</span> <span class="n">sender</span><span class="o">=</span><span class="n">inner_comp</span><span class="p">,</span> <span class="n">receiver</span><span class="o">=</span><span class="n">outer_B</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">outer_A</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">]]]}</span>
</pre></div>
</div>
</section>
<section id="run-composition">
<span id="composition-examples-run"></span><h3><em>Run Composition</em><a class="headerlink" href="#run-composition" title="Permalink to this headline">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dict</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Using</em> <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_processing_pathway</span></code></a> <em>with nested compositions for
brevity:</em></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outer_A</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;outer_A&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_B</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;outer_B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;outer_comp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_A</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;inner_A&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_B</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">ProcessingMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;inner_B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_comp</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;inner_comp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">([</span><span class="n">inner_A</span><span class="p">,</span> <span class="n">inner_B</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">([</span><span class="n">outer_A</span><span class="p">,</span> <span class="n">inner_comp</span><span class="p">,</span> <span class="n">outer_B</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">outer_A</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">]]]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dict</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="learning">
<span id="composition-examples-learning"></span><h3><em>Learning</em><a class="headerlink" href="#learning" title="Permalink to this headline">¶</a></h3>
<p id="composition-examples-learning-xor">The following example implements a simple three-layered network that learns the XOR function
(see <a class="reference internal" href="#composition-learning-output-vs-terminal-figure"><span class="std std-ref">figure</span></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Construct Composition:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">input</span> <span class="o">=</span> <span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Input&#39;</span><span class="p">,</span> <span class="n">default_variable</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">hidden</span> <span class="o">=</span> <span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hidden&#39;</span><span class="p">,</span> <span class="n">default_variable</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">function</span><span class="o">=</span><span class="n">Logistic</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">output</span> <span class="o">=</span> <span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Output&#39;</span><span class="p">,</span> <span class="n">default_variable</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">function</span><span class="o">=</span><span class="n">Logistic</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">input_weights</span> <span class="o">=</span> <span class="n">MappingProjection</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Input Weights&#39;</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">output_weights</span> <span class="o">=</span> <span class="n">MappingProjection</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Output Weights&#39;</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">xor_comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="s1">&#39;XOR Composition&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">backprop_pathway</span> <span class="o">=</span> <span class="n">xor_comp</span><span class="o">.</span><span class="n">add_backpropagation_learning_pathway</span><span class="p">(</span>
<span class="o">&gt;&gt;&gt;</span>                       <span class="n">pathway</span><span class="o">=</span><span class="p">[</span><span class="nb">input</span><span class="p">,</span> <span class="n">input_weights</span><span class="p">,</span> <span class="n">hidden</span><span class="p">,</span> <span class="n">output_weights</span><span class="p">,</span> <span class="n">output</span><span class="p">])</span>

<span class="c1"># Create inputs:            Trial 1  Trial 2  Trial 3  Trial 4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">xor_inputs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;stimuli&#39;</span><span class="p">:[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
<span class="o">&gt;&gt;&gt;</span>               <span class="s1">&#39;targets&#39;</span><span class="p">:[</span>  <span class="p">[</span><span class="mi">0</span><span class="p">],</span>     <span class="p">[</span><span class="mi">1</span><span class="p">],</span>     <span class="p">[</span><span class="mi">1</span><span class="p">],</span>     <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">xor_comp</span><span class="o">.</span><span class="n">learn</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="nb">input</span><span class="p">:</span><span class="n">xor_inputs</span><span class="p">[</span><span class="s1">&#39;stimuli&#39;</span><span class="p">],</span>
<span class="o">&gt;&gt;&gt;</span>                      <span class="n">backprop_pathway</span><span class="o">.</span><span class="n">target</span><span class="p">:</span><span class="n">xor_inputs</span><span class="p">[</span><span class="s1">&#39;targets&#39;</span><span class="p">]},</span>
<span class="o">&gt;&gt;&gt;</span>              <span class="n">num_trials</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="o">&gt;&gt;&gt;</span>              <span class="n">animate</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;show_learning&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">})</span>
</pre></div>
</div>
</section>
<section id="input-formats">
<span id="composition-examples-input"></span><h3><em>Input Formats</em><a class="headerlink" href="#input-formats" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#composition-examples-input-dictionary"><span class="std std-ref">Examples of Input Dictionary Specifications</span></a></p></li>
<li><p><a class="reference internal" href="#composition-examples-programmatic-input"><span class="std std-ref">Examples of Programmatic Input Specification</span></a></p></li>
</ul>
<section id="examples-of-input-dictionary-specifications">
<span id="composition-examples-input-dictionary"></span><h4>Examples of Input Dictionary Specifications<a class="headerlink" href="#examples-of-input-dictionary-specifications" title="Permalink to this headline">¶</a></h4>
<p>The following is an example in which the <strong>inputs</strong> argument of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method is specified
as an <a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">input dictionary</span></a>, with entries for the two <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
of the <a class="reference internal" href="#"><span class="doc">Composition</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">default_variable</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">default_variable</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pathway2</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">,</span> <span class="n">pathways</span><span class="o">=</span><span class="p">[</span><span class="n">patway1</span><span class="p">,</span> <span class="n">pathway2</span><span class="p">])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]],</span>
<span class="gp">... </span>                    <span class="n">b</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">]]]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>Since the specification of the <a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a> for Mechanism <code class="docutils literal notranslate"><span class="pre">a</span></code> is a single array
of length 2, it is constructed with a single <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> (see <a class="reference internal" href="Mechanism.html#mechanism-inputports"><span class="std std-ref">InputPorts</span></a>) that takes an array of that
shape as its input; therefore, the input value specified for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> is a length 2 array
(<code class="docutils literal notranslate"><span class="pre">[1.0,</span> <span class="pre">1.0]</span></code>).  In contrast, since the <a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a> for Mechanism <code class="docutils literal notranslate"><span class="pre">b</span></code> is two
length 1 arrays, so it is constructed with two InputPorts, each of which takes a length 1 array as its input;
therefore, the input specified for each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> must be two length 1 arrays.  See <a class="reference internal" href="#composition-execution-input-dict-fig"><span class="std std-ref">figure</span></a> for an illustration of the format for an input dictionary.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node's</span></a> <a class="reference internal" href="Mechanism.html#id2" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_variables"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_variables</span></code></a> attribute is always a 2d list in which the index i
element is the variable of the i’th element of the Node’s <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a> attribute.  For Mechanisms,
the <a class="reference internal" href="Mechanism.html#id2" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_variables"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_variables</span></code></a> is often the same as its <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.variable" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.variable"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">variable</span></code></a>.  However, some Mechanisms may have InputPorts marked as <a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.internal_only" title="psyneulink.core.components.ports.inputport.InputPort.internal_only"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">internal_only</span></code></a> which are excluded from its <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a> and therefore its <a class="reference internal" href="Mechanism.html#id2" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.external_input_variables"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_variables</span></code></a>, and so should not receive
an input value.  The same considerations extend to the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes" title="psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports_of_all_input_nodes</span></code></a> and <a class="reference internal" href="#id11" title="psyneulink.core.compositions.composition.Composition.external_input_variables"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_variables</span></code></a> of a Composition, based on the Mechanisms and/or
<a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Compositions</span></a> that comprise its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes.</p>
</div>
</div></blockquote>
<p>If num_trials is not in use, the number of inputs provided determines the number of <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s in
the run. For example, if five inputs are provided for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>, and num_trials is not
specified, the Composition executes five times.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 42%" />
<col style="width: 13%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Trial #</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>Input to Mechanism a</p></td>
<td><p>1.0</p></td>
<td><p>2.0</p></td>
<td><p>3.0</p></td>
<td><p>4.0</p></td>
<td><p>5.0</p></td>
</tr>
</tbody>
</table>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">2.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">3.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">4.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">5.0</span><span class="p">]]]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>The number of inputs specified <strong>must</strong> be the same for all Nodes in the input dictionary (except for any Nodes for
which only one input is specified). In other words, all of the values in the input dictionary must have the same length
as each other (or length 1).</p>
<p>If num_trials is in use, <a class="reference internal" href="AutodiffComposition.html#psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.run" title="psyneulink.library.compositions.autodiffcomposition.AutodiffComposition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> iterates over the inputs until num_trials is reached. For example, if five inputs
are provided for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>, and num_trials is not specified, the Composition executes
five times., and num_trials = 7, the Composition executes seven times. The input values from <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s 0 and 1 are used again on <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s 5 and 6, respectively.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Trial #</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>Input to Mechanism a</p></td>
<td><p>1.0</p></td>
<td><p>2.0</p></td>
<td><p>3.0</p></td>
<td><p>4.0</p></td>
<td><p>5.0</p></td>
<td><p>1.0</p></td>
<td><p>2.0</p></td>
</tr>
</tbody>
</table>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">2.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">3.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">4.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">5.0</span><span class="p">]]]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">num_trials</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<p>For convenience, condensed versions of the input specification described above are also accepted in the following
situations:</p>
<ul class="simple">
<li><p><strong>Case 1:</strong> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> <strong>has only one InputPort</strong></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 12%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Trial #</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>Input to <strong>Mechanism a</strong></p></td>
<td><p>1.0</p></td>
<td><p>2.0</p></td>
<td><p>3.0</p></td>
<td><p>4.0</p></td>
<td><p>5.0</p></td>
</tr>
</tbody>
</table>
<p>Complete input specification:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">2.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">3.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">4.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">5.0</span><span class="p">]]]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>Shorthand - drop the outer list on each input because <strong>Mechanism a</strong> only has one InputPort:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">4.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">]]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>Shorthand - drop the remaining list on each input because <strong>Mechanism a</strong>’s one InputPort’s value is length 1:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Case 2: Only one input is provided for the</strong> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 59%" />
<col style="width: 41%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Trial #</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>Input to <strong>Mechanism a</strong></p></td>
<td><p>[[1.0], [2.0]]</p></td>
</tr>
</tbody>
</table>
<p>Complete input specification:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="go">                              default_variable=[[0.0], [0.0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]]]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>Shorthand - drop the outer list on <strong>Mechanism a</strong>’s input specification because there is only one
<a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]]}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Case 3: The same input is used on all</strong> <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>s</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 15%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Trial #</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>Input to <strong>Mechanism a</strong></p></td>
<td><p>[[1.0], [2.0]]</p></td>
<td><p>[[1.0], [2.0]]</p></td>
<td><p>[[1.0], [2.0]]</p></td>
<td><p>[[1.0], [2.0]]</p></td>
<td><p>[[1.0], [2.0]]</p></td>
</tr>
</tbody>
</table>
<p>Complete input specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">default_variable</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]]]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>Shorthand - drop the outer list on <strong>Mechanism a</strong>’s input specification and use <code class="xref any docutils literal notranslate"><span class="pre">num_trials</span></code> to repeat the input value</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">num_trials</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Case 4: There is only one</strong> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 30%" />
<col style="width: 30%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Trial #</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>Input to <strong>Mechanism a</strong></p></td>
<td><p>[1.0, 2.0, 3.0]</p></td>
<td><p>[1.0, 2.0, 3.0]</p></td>
</tr>
</tbody>
</table>
<p>Complete input specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">default_variable</span><span class="o">=</span><span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pathway1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;comp&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">add_linear_processing_pathway</span><span class="p">(</span><span class="n">pathway1</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dictionary</span> <span class="o">=</span> <span class="n">input_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>Shorthand - specify <strong>Mechanism a</strong>’s inputs in a list because it is the only <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_list</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="examples-of-programmatic-input-specification">
<span id="composition-examples-programmatic-input"></span><h4>Examples of Programmatic Input Specification<a class="headerlink" href="#examples-of-programmatic-input-specification" title="Permalink to this headline">¶</a></h4>
<p>[EXAMPLES TO BE ADDED]</p>
</section>
</section>
<section id="composition-examples-cycles-feedback">
<span id="id6"></span><h3><em>Cycles and Feedback</em><a class="headerlink" href="#composition-examples-cycles-feedback" title="Permalink to this headline">¶</a></h3>
<p>[EXAMPLES TO BE ADDED]</p>
</section>
<section id="composition-examples-runtime-params">
<span id="id7"></span><h3><em>Runtime Parameters</em><a class="headerlink" href="#composition-examples-runtime-params" title="Permalink to this headline">¶</a></h3>
<p>If a runtime parameter is meant to be used throughout the <code class="xref any docutils literal notranslate"><span class="pre">Run</span></code>, then the <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> may be omitted and the <a class="reference internal" href="Condition.html#psyneulink.core.scheduling.condition.Always" title="psyneulink.core.scheduling.condition.Always"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Always()</span></code></a>
<a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> will be assigned by default:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">pathways</span><span class="o">=</span><span class="p">[</span><span class="n">T</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">slope</span>  <span class="c1"># slope starts out at 1.0</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># During the following run, 10.0 will be used as the slope</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">},</span>
<span class="gp">... </span>      <span class="n">runtime_params</span><span class="o">=</span><span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;slope&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">}})</span>
<span class="go">[array([20.])]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">slope</span>  <span class="c1"># After the run, T.slope resets to 1.0</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>Otherwise, the runtime parameter value will be used on all executions of the
<code class="xref any docutils literal notranslate"><span class="pre">Run</span></code> during which the <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> is True:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">(</span><span class="n">pathways</span><span class="o">=</span><span class="p">[</span><span class="n">T</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">intercept</span>     <span class="c1"># intercept starts out at 0.0</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">slope</span>         <span class="c1"># slope starts out at 1.0</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">},</span>
<span class="gp">... </span>      <span class="n">runtime_params</span><span class="o">=</span><span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;intercept&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">pnl</span><span class="o">.</span><span class="n">AfterTrial</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span>
<span class="gp">... </span>                          <span class="s2">&quot;slope&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">pnl</span><span class="o">.</span><span class="n">AtTrial</span><span class="p">(</span><span class="mi">3</span><span class="p">))}},</span>
<span class="gp">... </span>      <span class="n">num_trials</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[array([7.])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="o">.</span><span class="n">results</span>
<span class="go">[[array([2.])], [array([2.])], [array([7.])], [array([9.])], [array([7.])]]</span>
</pre></div>
</div>
<p>The table below shows how runtime parameters were applied to the intercept and slope parameters of Mechanism T in the
example above.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Trial 0</p></th>
<th class="head"><p>Trial 1</p></th>
<th class="head"><p>Trial 2</p></th>
<th class="head"><p>Trial 3</p></th>
<th class="head"><p>Trial 4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Intercept</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>5.0</p></td>
<td><p>5.0</p></td>
<td><p>5.0</p></td>
</tr>
<tr class="row-odd"><td><p>Slope</p></td>
<td><p>1.0</p></td>
<td><p>1.0</p></td>
<td><p>1.0</p></td>
<td><p>2.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>Value</p></td>
<td><p>2.0</p></td>
<td><p>2.0</p></td>
<td><p>7.0</p></td>
<td><p>9.0</p></td>
<td><p>7.0</p></td>
</tr>
</tbody>
</table>
<p>as indicated by the results of S.run(), the original parameter values were used on trials 0 and 1,
the runtime intercept was used on trials 2, 3, and 4, and the runtime slope was used on trial 3.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Runtime parameter values are subject to the same type, value, and shape requirements as the original parameter
value.</p>
</div>
</div></blockquote>
</section>
<section id="composition-examples-execution-context">
<span id="id8"></span><h3><em>Execution Contexts</em><a class="headerlink" href="#composition-examples-execution-context" title="Permalink to this headline">¶</a></h3>
<p>An <em>execution context</em> is a scope of execution which has its own set of values for Components and their <a class="reference internal" href="Parameters.html"><span class="doc">parameters</span></a>. This is designed to prevent computations from interfering with each other, when Components are reused,
which often occurs when using multiple or nested Compositions, or running <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a>. Each execution context is or is associated with an <em>execution_id</em>,
which is often a user-readable string. An <em>execution_id</em> can be specified in a call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Composition.run</span></code></a>, or left
unspecified, in which case the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.default_execution_id" title="psyneulink.core.compositions.composition.Composition.default_execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default</span> <span class="pre">execution_id</span></code></a> would be used.
When looking for values after a run, it’s important to know the execution context you are interested in, as shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">psyneulink</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pnl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Composition</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">TransferMechanism</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[1.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">run</span><span class="p">({</span><span class="n">t</span><span class="p">:</span> <span class="mi">5</span><span class="p">})</span>
<span class="go">[[array([5.])]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">run</span><span class="p">({</span><span class="n">t</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>
<span class="go">[[array([10.])]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">run</span><span class="p">({</span><span class="n">t</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span> <span class="n">context</span><span class="o">=</span><span class="s1">&#39;custom execution id&#39;</span><span class="p">)</span>
<span class="go">[[array([20.])]]</span>

<span class="go"># context None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="go">[[1.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
<span class="go">[[5.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="go">[[10.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;custom execution id&#39;</span><span class="p">))</span>
<span class="go">[[20.]]Composition_Controller</span>
</pre></div>
</div>
</section>
<section id="reset-paramters-of-stateful-functions">
<span id="composition-examples-reset"></span><h3><em>Reset Paramters of Stateful Functions</em><a class="headerlink" href="#reset-paramters-of-stateful-functions" title="Permalink to this headline">¶</a></h3>
<p>Example composition with two Mechanisms containing stateful functions:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">TransferMechanism</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">integrator_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">integration_rate</span><span class="o">=</span><span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">TransferMechanism</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">integrator_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">integration_rate</span><span class="o">=</span><span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">TransferMechanism</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span> <span class="o">=</span> <span class="n">Composition</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pathways</span><span class="o">=</span><span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
<p>Example 1) A blanket reset of all stateful functions to their default values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">A</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">B</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_trials</span><span class="o">=</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 1: 0.5, Trial 2: 0.75, Trial 3: 0.875</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.875]]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The Mechanisms&#39; stateful functions are now in their default states, which is identical</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to their states prior to Trial 1. Thus, if we call run again with the same inputs,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># we see the same results that we saw on Trial 1.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">A</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">B</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 3: 0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.5]]</span>
</pre></div>
</div>
<p>Example 2) A blanket reset of all stateful functions to custom values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">A</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">B</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_trials</span><span class="o">=</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 0: 0.5, Trial 1: 0.75, Trial 2: 0.875</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.875]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mechanism B is currently identical to Mechanism A</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.875]]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Reset Mechanism A to 0.5 and Mechanism B to 0.75, corresponding to their values at the end of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># trials 0 and 1, respectively. Thus, if we call run again with the same inputs, the values of the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mechanisms will match their values after trials 1 and 2, respectively.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">reset</span><span class="p">({</span><span class="n">A</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">B</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">A</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">B</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 3: 0.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.75]]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 3: 0.875</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.875]]</span>
</pre></div>
</div>
<p>Example 3) Schedule resets for both Mechanisms to their default values, to occur at different times</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">A</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">B</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">reset_stateful_functions_when</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">A</span><span class="p">:</span> <span class="n">AtTrial</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">B</span><span class="p">:</span> <span class="n">AtTrial</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_trials</span><span class="o">=</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mechanism A - resets to its default (0) at the beginning of Trial 1. Its value at the end of Trial 1 will</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># be exactly one step of integration forward from its default.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 0: 0.5, Trial 1: 0.5, Trial 2: 0.75, Trial 3: 0.875, Trial 4: 0.9375</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.9375]]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mechanism B - resets to its default (0) at the beginning of Trial 2. Its value at the end of Trial 2 will</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># be exactly one step of integration forward from its default.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 0: 0.5, Trial 1: 0.75, Trial 2: 0.5, Trial 3: 0.75. Trial 4: 0.875</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.875]]</span>
</pre></div>
</div>
<p>Example 4) Schedule resets for both Mechanisms to custom values, to occur at different times</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">comp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="n">A</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">B</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">reset_stateful_functions_when</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">A</span><span class="p">:</span> <span class="n">AtTrial</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">B</span><span class="p">:</span> <span class="n">AtTrial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">reset_stateful_functions_to</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">A</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">B</span><span class="p">:</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">num_trials</span><span class="o">=</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mechanism A - resets to 0.5 at the beginning of Trial 3. Its value at the end of Trial 3 will</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># be exactly one step of integration forward from 0.5.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 0: 0.5, Trial 1: 0.75, Trial 2: 0.875, Trial 3: 0.75, Trial 4:  0.875</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.875]]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mechanism B - resets to 0.5 at the beginning of Trial 4. Its value at the end of Trial 4 will</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># be exactly one step of integration forward from 0.5.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trial 0: 0.5, Trial 1: 0.75, Trial 2: 0.875, Trial 3: 0.9375. Trial 4: 0.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># [[0.75]]</span>
</pre></div>
</div>
</section>
</section>
<section id="class-reference">
<span id="composition-class-reference"></span><h2>Class Reference<a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">psyneulink.core.compositions.composition.</span></span><span class="sig-name descname"><span class="pre">Composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pathways=None</span></em>, <em class="sig-param"><span class="pre">nodes=None</span></em>, <em class="sig-param"><span class="pre">projections=None</span></em>, <em class="sig-param"><span class="pre">allow_probes=True</span></em>, <em class="sig-param"><span class="pre">include_probes_in_output=False</span></em>, <em class="sig-param"><span class="pre">disable_learning=False</span></em>, <em class="sig-param"><span class="pre">learning_rate=None</span></em>, <em class="sig-param"><span class="pre">minibatch_size=1</span></em>, <em class="sig-param"><span class="pre">optimizations_per_minibatch=1</span></em>, <em class="sig-param"><span class="pre">controller=None</span></em>, <em class="sig-param"><span class="pre">enable_controller=None</span></em>, <em class="sig-param"><span class="pre">controller_mode='after'</span></em>, <em class="sig-param"><span class="pre">controller_time_scale=TimeScale.ENVIRONMENT_STATE_UPDATE</span></em>, <em class="sig-param"><span class="pre">controller_condition=&lt;psyneulink.core.scheduling.condition.Always</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">retain_old_simulation_data=None</span></em>, <em class="sig-param"><span class="pre">show_graph_attributes=None</span></em>, <em class="sig-param"><span class="pre">name=None</span></em>, <em class="sig-param"><span class="pre">prefs=None</span></em>, <em class="sig-param"><span class="pre">termination_processing=None</span></em>, <em class="sig-param"><span class="pre">**param_defaults</span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathways</strong> (<em>Pathway specification</em><em> or </em><em>list</em><em>[</em><em>Pathway specification</em><em>...</em><em>]</em>) – <p>specifies one or more Pathways to add to the Compositions. A list containing <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>
and possible <a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> specifications at its top level is treated as a single <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>; a list containing
any nested lists or other forms of <a class="reference internal" href="Pathway.html#pathway-specification-formats"><span class="std std-ref">Pathway specification</span></a> is treated as
<a class="reference internal" href="Pathway.html#pathway-specification-multiple"><span class="std std-ref">multiple pathways</span></a> (see <a class="reference internal" href="#composition-pathways-arg"><span class="std std-ref">pathways</span></a> as
well as <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">Pathway specification</span></a> for additional details).</p>
<div class="technical-note docutils container">
<dl>
<dt>The design pattern for use of sets and lists in specifying the <strong>pathways</strong> argument are:</dt><dd><ul>
<li><p>sets comprise Nodes that all occupy the same (parallel) position within a processing Pathway;</p></li>
<li><p>lists comprise <em>sequences</em> of Nodes; embedded list are either ignored or a generate an error (see below)
(this is because lists of Nodes are interpreted as Pathways and Pathways cannot be nested, which would be
redundant since the same can be accomplished by simply including the items “inline” within a single list)</p></li>
<li><dl class="simple">
<dt>if the Pathway specification contains (in its outer list):</dt><dd><ul>
<li><p>only a single item or set of items, each is treated as a SINGLETON &lt;NodeRole.SINGLETON&gt; in a Pathway;</p></li>
<li><p>one or more lists, the items in each list are treated as separate (parallel) pathways;</p></li>
<li><p>singly-nested lists ([[[A,B]],[[C,D]]]}), they are collapsed and treated as a Pathway;</p></li>
<li><p>any list with more than one list nested within it ([[[A,B],[C,D]}), an error is generated;</p></li>
<li><p>Pathway objects are treated as a list (if its pathway attribute is a set, it is wrapped in a list)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>(see <code class="xref any docutils literal notranslate"><span class="pre">tests</span></code> for examples)</p>
</dd>
</dl>
</div>
</p></li>
<li><p><strong>nodes</strong> (<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a>, <a class="reference internal" href="#"><span class="doc">Composition</span></a> or list[<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a>, <a class="reference internal" href="#"><span class="doc">Composition</span></a>] : default None) – specifies one or more <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> to add to the Composition;  these are each treated as
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.SINGLETON" title="psyneulink.core.compositions.composition.NodeRole.SINGLETON"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">SINGLETON</span></code></a>s unless they are explicitly assigned <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>.</p></li>
<li><p><strong>projections</strong> (<a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> or list[<a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a>] : default None) – specifies one or more <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> to add to the Composition;  these are not functional
unless they are explicitly assigned a <code class="xref any docutils literal notranslate"><span class="pre">sender</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">receiver</span></code>.</p></li>
<li><p><strong>allow_probes</strong> (<em>bool : default True</em>) – specifies whether <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> are allowed from <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested
Composition</span></a> other than its OUTPUT &lt;NodeRole.OUTPUT&gt;` <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> to
Nodes in outer Composition(s) (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.allow_probes" title="psyneulink.core.compositions.composition.Composition.allow_probes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">allow_probes</span></code></a> for additional information).</p></li>
<li><p><strong>include_probes_in_output</strong> (<em>bool : default False</em>) – specifies whether the outputs of <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes within a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a> are included in the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> of the Composition to which they project If False, the outputs of <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes <em>are excluded</em> from those attributes;  if True (the default) they are included
(see <a class="reference internal" href="#composition-probes"><span class="std std-ref">Probes</span></a> for additional details).</p></li>
<li><p><strong>disable_learning</strong> (<em>bool : default False</em>) – specifies whether <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> in the Composition are executed when run in
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learning</span> <span class="pre">mode</span></code></a>.</p></li>
<li><p><strong>learning_rate</strong> (<em>float</em><em> or </em><em>int : default None</em>) – specifies the learning_rate to be used by <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> in the Composition
that do not have their own <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_rate</span></code></a> otherwise specified
(see <a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a> for additional details).</p></li>
<li><p><strong>minibatch_size</strong> (<em>int : default 1</em>) – specifies the default for the Composition for the number of distinct inputs from the training set used to
compute the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">error_signal</span></code></a> in one step of learning; it can be overridden by
specifying the <strong>minibatch_size</strong> argument in the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.minibatch_size" title="psyneulink.core.compositions.composition.Composition.minibatch_size"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">minibatch_size</span></code></a> for additional details.</p></li>
<li><p><strong>optimizations_per_minibatch</strong> (<em>int : default 1</em>) – specifies the default for the Composition for the number of repetitions of each stimulus in the training set
is used to compute the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">error_signal</span></code></a> for a given <code class="xref any docutils literal notranslate"><span class="pre">minibatch</span></code>; it can be overridden by specifying the <strong>minibatch_size</strong> argument in the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.optimizations_per_minibatch" title="psyneulink.core.compositions.composition.Composition.optimizations_per_minibatch"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">optimizations_per_minibatch</span></code></a> for
additional details.</p></li>
<li><p><strong>controller</strong> (<a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a> : default None) – specifies the <a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a> to use as the <a class="reference internal" href="#composition-controller"><span class="std std-ref">Composition's controller</span></a>.</p></li>
<li><p><strong>enable_controller</strong> (<em>bool : default None</em>) – specifies whether the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed when the
Composition is run.  Set to True by default if <strong>controller</strong> specified (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.enable_controller" title="psyneulink.core.compositions.composition.Composition.enable_controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">enable_controller</span></code></a> for additional details).</p></li>
<li><p><strong>controller_mode</strong> (<em>enum.Enum</em><em>[</em><em>BEFORE</em><em>|</em><em>AFTER</em><em>] </em><em>: default AFTER</em>) – specifies whether the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed before or after the rest of the
Composition when it is run, at the <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale" title="psyneulink.core.scheduling.time.TimeScale"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TimeScale</span></code></a> specified by <strong>controller_time_scale</strong>). Must be either the
keyword <em>BEFORE</em> or <em>AFTER</em> (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_mode" title="psyneulink.core.compositions.composition.Composition.controller_mode"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_mode</span></code></a> for additional details).</p></li>
<li><p><strong>controller_time_scale</strong> (<a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale" title="psyneulink.core.scheduling.time.TimeScale"><em>TimeScale</em></a><em>[</em><em>TIME_STEP</em><em>, </em><em>PASS</em><em>, </em><em>TRIAL</em><em>, </em><em>RUN</em><em>] </em><em>: default TRIAL</em>) – specifies the frequency at which the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed, either before or
after the Composition is run as specified by <strong>controller_mode</strong> (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_time_scale" title="psyneulink.core.compositions.composition.Composition.controller_time_scale"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_time_scale</span></code></a> for additional details).</p></li>
<li><p><strong>controller_condition</strong> (<em>Condition : default Always</em><em>(</em><em>)</em>) – specifies a specific <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> for whether the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is
executed  in a trial (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_condition" title="psyneulink.core.compositions.composition.Composition.controller_condition"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_condition</span></code></a> for additional details).</p></li>
<li><p><strong>retain_old_simulation_data</strong> (<em>bool : default False</em>) – specifies whether or not to retain Parameter values generated during <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a> of the Composition (see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.retain_old_simulation_data" title="psyneulink.core.compositions.composition.Composition.retain_old_simulation_data"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">retain_old_simulation_data</span></code></a> for additional details).</p></li>
<li><p><strong>show_graph_attributes</strong> (<em>dict : None</em>) – specifies features of how the Composition is displayed when its <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a>
method is called or <strong>animate</strong> is specified in a call to its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method
(see <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph" title="psyneulink.core.compositions.showgraph.ShowGraph"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ShowGraph</span></code></a> for list of attributes and their values).</p></li>
<li><p><strong>name</strong> (str : default see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.name" title="psyneulink.core.compositions.composition.Composition.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>) – specifies the name of the Composition.</p></li>
<li><p><strong>prefs</strong> (<em>PreferenceSet</em><em> or </em><em>specification dict : default Composition.classPreferences</em>) – specifies the <code class="xref any docutils literal notranslate"><span class="pre">PreferenceSet</span></code> for the Composition; see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.prefs" title="psyneulink.core.compositions.composition.Composition.prefs"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">prefs</span></code></a> for details.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.graph">
<span class="sig-name descname"><span class="pre">graph</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>the full <a class="reference internal" href="#psyneulink.core.compositions.composition.Graph" title="psyneulink.core.compositions.composition.Graph"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> associated with the Composition. Contains both <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
(<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> or <a class="reference internal" href="#"><span class="doc">Compositions</span></a>) and <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#psyneulink.core.compositions.composition.Graph" title="psyneulink.core.compositions.composition.Graph"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.nodes">
<span class="sig-name descname"><span class="pre">nodes</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of all <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or <a class="reference internal" href="#"><span class="doc">Composition</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.node_ordering">
<span class="sig-name descname"><span class="pre">node_ordering</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.node_ordering" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of all <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the order in which they were added to the Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or <a class="reference internal" href="#"><span class="doc">Composition</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.allow_probes">
<span class="sig-name descname"><span class="pre">allow_probes</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.allow_probes" title="Permalink to this definition">¶</a></dt>
<dd><p>indicates whether <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> are allowed to <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the Composition
from ones of a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a> other than its OUTPUT &lt;NodeRole.OUTPUT&gt;` <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>.  If <em>allow_probes</em> is False, Projections can be received from only the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes of a nested Composition;  if it is True (the default), Projections can be received
from any Nodes of a nested Composition, including its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INTERNAL" title="psyneulink.core.compositions.composition.NodeRole.INTERNAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INTERNAL</span></code></a> Nodes;  if it is assigned <em>CONTROL</em>, then only the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> or its <code class="xref any docutils literal notranslate"><span class="pre">objective_mechanism</span></code> can receive
Projections from such Nodes.  Any Nodes of a nested Composition that project to an enclosing Composition,
other than its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes, are assigned <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> in addition to their
other roles (see <a class="reference internal" href="#composition-probes"><span class="std std-ref">Probes</span></a> for additional information).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool or CONTROL</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.include_probes_in_output">
<span class="sig-name descname"><span class="pre">include_probes_in_output</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.include_probes_in_output" title="Permalink to this definition">¶</a></dt>
<dd><p>determines whether the outputs of <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes within a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a> are included in the <a class="reference internal" href="#id9" title="psyneulink.core.compositions.composition.Composition.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> of the Composition to which they project.  If False, the outputs of <a class="reference internal" href="#id15" title="psyneulink.core.compositions.composition.NodeRole.PROBE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PROBE</span></code></a> Nodes <em>are excluded</em> from those attributes;  if True (the default) they are included
(see <a class="reference internal" href="#composition-probes"><span class="std std-ref">Probes</span></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool : default False</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.required_node_roles">
<span class="sig-name descname"><span class="pre">required_node_roles</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.required_node_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of tuples, each containing a <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> and a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> assigned to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[(<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or <a class="reference internal" href="#"><span class="doc">Composition</span></a>, <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.excluded_node_roles">
<span class="sig-name descname"><span class="pre">excluded_node_roles</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.excluded_node_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of tuples, each containing a <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> and a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> that is excluded from
being assigned to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[(<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or <a class="reference internal" href="#"><span class="doc">Composition</span></a>, <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.feedback_senders">
<span class="sig-name descname"><span class="pre">feedback_senders</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.feedback_senders" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> that have one or more <a class="reference internal" href="Mechanism.html#id9" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.efferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">efferent</span> <span class="pre">Projections</span></code></a>
designated as <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.feedback_receivers">
<span class="sig-name descname"><span class="pre">feedback_receivers</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.feedback_receivers" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> that have one or more <a class="reference internal" href="Mechanism.html#id8" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.afferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">afferents</span></code></a> designated as
<a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.feedback_projections">
<span class="sig-name descname"><span class="pre">feedback_projections</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.feedback_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>list of Projections in the Composition designated as <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.mechanisms">
<span class="sig-name descname"><span class="pre">mechanisms</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.mechanisms" title="Permalink to this definition">¶</a></dt>
<dd><p>list of Mechanisms in Composition, that provides access to some of they key attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref any docutils literal notranslate"><span class="pre">MechanismList</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.random_variables">
<span class="sig-name descname"><span class="pre">random_variables</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.random_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>list of Components in Composition with variables that call a randomization function.</p>
<div class="technical-note docutils container">
<p>These are Components with a seed <a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter" title="psyneulink.core.globals.parameters.Parameter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="Component.html#psyneulink.core.components.component.Component" title="psyneulink.core.components.component.Component">Component</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.pathways">
<span class="sig-name descname"><span class="pre">pathways</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.pathways" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of all <a class="reference internal" href="Pathway.html"><span class="doc">Pathways</span></a> in the Composition that were specified in the <strong>pathways</strong>
argument of the Composition’s constructor and/or one of its <a class="reference internal" href="#composition-pathway-addition-methods"><span class="std std-ref">Pathway addition methods</span></a>; each item is a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
(<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> and/or Compositions) intercolated with the <a class="reference internal" href="Projection.html"><span class="doc">Projection(s)</span></a> between each
pair of Nodes; if both Nodes are Mechanisms, then only a single Projection can be specified;  if either is a
Composition then, under some circumstances, there can be a set of Projections, specifying how the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node(s) of the sender project to the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node(s) of the receiver
(see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_processing_pathway</span></code></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.projections">
<span class="sig-name descname"><span class="pre">projections</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.projections" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of all of the <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> activated for the Composition;  this includes all of
the Projections among <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> within the Composition, as well as from its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a> to it <em>INPUT</em> Nodes;from its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM" title="psyneulink.core.compositions.composition.Composition.parameter_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">parameter_CIM</span></code></a> to
the corresponding <code class="xref any docutils literal notranslate"><span class="pre">ParameterPorts</span></code>; from its <em>OUTPUT</em> Nodes to its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>; and, if it is <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested</span></a> in another Composition, then the
Projections to its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a> and from its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>
to other Nodes in the Comopsition within which it is nested.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.input_CIM">
<span class="sig-name descname"><span class="pre">input_CIM</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="Permalink to this definition">¶</a></dt>
<dd><p>mediates input values for the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of the Composition. If the Composition is
<a class="reference internal" href="#composition-nested"><span class="std std-ref">nested</span></a>, then the input_CIM and its <code class="xref any docutils literal notranslate"><span class="pre">InputPorts</span></code> (see <a class="reference internal" href="#composition-input-cim"><span class="std std-ref">input_CIM</span></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="CompositionInterfaceMechanism.html"><span class="doc">CompositionInterfaceMechanism</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.input_CIM_ports">
<span class="sig-name descname"><span class="pre">input_CIM_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.input_CIM_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary in which the key of each entry is the <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in
the Composition, and its value is a list containing two items:</p>
<ul class="simple">
<li><p>the <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a> that receives the input destined for that <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a>
Node – either from the <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">input</span></a> specified for the Node in a call to one of the
Composition’s <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution methods</span></a>, or from a <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> from a
Node in an <a class="reference internal" href="#composition-nested"><span class="std std-ref">enclosing Composition</span></a> that has specified the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node as its <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.receiver" title="psyneulink.core.components.projections.projection.Projection_Base.receiver"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">receiver</span></code></a>;</p></li>
<li><p>the <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a> that sends a <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> to the
<a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.parameter_CIM">
<span class="sig-name descname"><span class="pre">parameter_CIM</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM" title="Permalink to this definition">¶</a></dt>
<dd><p>mediates modulatory values for all <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of the Composition. If the Composition is
<a class="reference internal" href="#composition-nested"><span class="std std-ref">nested</span></a>, then the parameter_CIM and its <a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> serve as proxies for
the Composition itself for its afferent <a class="reference internal" href="ModulatoryProjection.html"><span class="doc">ModulatoryProjections</span></a> (see <a class="reference internal" href="#composition-parameter-cim"><span class="std std-ref">parameter_CIM</span></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="CompositionInterfaceMechanism.html"><span class="doc">CompositionInterfaceMechanism</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.parameter_CIM_ports">
<span class="sig-name descname"><span class="pre">parameter_CIM_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary in which keys are <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPorts</span></a> of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the
Composition, and values are lists containing two items:</p>
<ul class="simple">
<li><p>the <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM" title="psyneulink.core.compositions.composition.Composition.parameter_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">parameter_CIM</span></code></a> that receives a <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> from
a <a class="reference internal" href="ModulatorySignal.html"><span class="doc">ModulatorySignal</span></a> of a <a class="reference internal" href="ModulatoryMechanism.html"><span class="doc">ModulatoryMechanism</span></a> in the <a class="reference internal" href="#composition-nested"><span class="std std-ref">enclosing Composition</span></a>;</p></li>
<li><p>the <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> of the parameter_CIM that sends a <a class="reference internal" href="ModulatoryProjection.html"><span class="doc">ModulatoryProjection</span></a> to the <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPort</span></a> of the Node
in the Composition with the parameter to be modulated.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.afferents">
<span class="sig-name descname"><span class="pre">afferents</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.afferents" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of all of the <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> to either the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a> (<a class="reference internal" href="PathwayProjection.html"><span class="doc">PathwayProjections</span></a> and <a class="reference internal" href="ModulatoryProjection.html"><span class="doc">ModulatoryProjections</span></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.external_input_ports">
<span class="sig-name descname"><span class="pre">external_input_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.external_input_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the InputPorts of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a>;  these receive input
provided to the Composition when it is <a class="reference internal" href="#composition-execution"><span class="std std-ref">executed</span></a>, either from the <strong>inputs</strong> argument
of one of its <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution methods</span></a> or, if it is a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>, then from any <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the outer composition that project to the
nested Composition (either itself, as a Node in the outer Composition, or to any of its own Nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort" title="psyneulink.core.components.ports.inputport.InputPort">InputPort</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes">
<span class="sig-name descname"><span class="pre">external_input_ports_of_all_input_nodes</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of all <a class="reference internal" href="#composition-input-external-inputports"><span class="std std-ref">external InputPort</span></a> of all <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a>
<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of the Composition, including any that in <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Compositions</span></a> within it (i.e., within <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes at all levels of nesting).
Note that the InputPorts listed are those of the actual Mechanisms projected to by the ones listed
in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports" title="psyneulink.core.compositions.composition.Composition.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort" title="psyneulink.core.components.ports.inputport.InputPort">InputPort</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.external_input_shape">
<span class="sig-name descname"><span class="pre">external_input_shape</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.external_input_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the <a class="reference internal" href="InputPort.html#id0" title="psyneulink.core.components.ports.inputport.InputPort.input_shape"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_shape</span></code></a>s of all of the InputPorts listed in
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports" title="psyneulink.core.compositions.composition.Composition.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a> (and are the same as the shapes of those listed in
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes" title="psyneulink.core.compositions.composition.Composition.external_input_ports_of_all_input_nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports_of_all_input_nodes</span></code></a>); any input
to the Composition must be compatible with these, whether received from the <strong>inputs</strong> argument of one of the
Composition’s <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution methods</span></a> or, if it is a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>, from the enclosing Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[1d array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.external_input_variables">
<span class="sig-name descname"><span class="pre">external_input_variables</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.external_input_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the <a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.variable" title="psyneulink.core.components.ports.inputport.InputPort.variable"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">variable</span></code></a>s associated with the <a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> listed in
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports" title="psyneulink.core.compositions.composition.Composition.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[2d array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.external_input_values">
<span class="sig-name descname"><span class="pre">external_input_values</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.external_input_values" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the values of associated of the <a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> listed in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports" title="psyneulink.core.compositions.composition.Composition.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[1d array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">external_input_values</span></span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the values of associated with the <a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> listed in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.external_input_ports" title="psyneulink.core.compositions.composition.Composition.external_input_ports"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">external_input_ports</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort" title="psyneulink.core.components.ports.inputport.InputPort">InputPort</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.output_CIM">
<span class="sig-name descname"><span class="pre">output_CIM</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="Permalink to this definition">¶</a></dt>
<dd><p>aggregates output values from the OUTPUT nodes of the Composition. If the Composition is nested, then the
output_CIM and its OutputPorts serve as proxies for Composition itself in terms of efferent projections
(see <a class="reference internal" href="#composition-output-cim"><span class="std std-ref">output_CIM</span></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="CompositionInterfaceMechanism.html"><span class="doc">CompositionInterfaceMechanism</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.output_CIM_ports">
<span class="sig-name descname"><span class="pre">output_CIM_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.output_CIM_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary in which the key of each entry is the <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> of an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in
the Composition, and its value is a list containing two items:</p>
<ul class="simple">
<li><p>the <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of the output_CIM that receives a <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> from the <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>
Node;</p></li>
<li><p>the <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a> that is either recorded in the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attrribute of the Composition, or sends a <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> to a Node in the
<a class="reference internal" href="#composition-nested"><span class="std std-ref">enclosing Composition</span></a> that has specified the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node as its <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.sender" title="psyneulink.core.components.projections.projection.Projection_Base.sender"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">sender</span></code></a>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.efferents">
<span class="sig-name descname"><span class="pre">efferents</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.efferents" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of all of the <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> from the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ContentAddressableList[<a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.cims">
<span class="sig-name descname"><span class="pre">cims</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.cims" title="Permalink to this definition">¶</a></dt>
<dd><p>a list containing references to the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a>,
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM" title="psyneulink.core.compositions.composition.Composition.parameter_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">parameter_CIM</span></code></a>, and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>
(see <a class="reference internal" href="#composition-cims"><span class="std std-ref">CompositionInterfaceMechanisms</span></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.env">
<span class="sig-name descname"><span class="pre">env</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.env" title="Permalink to this definition">¶</a></dt>
<dd><p>stores a Gym Forager Environment so that the Composition may interact with this environment within a
single call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Gym Forager Environment : default: None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.shadows">
<span class="sig-name descname"><span class="pre">shadows</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.shadows" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary in which the keys are all <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the Composition,
and the values of each is a list of any Nodes that <a class="reference internal" href="InputPort.html#inputport-shadow-inputs"><span class="std std-ref">shadow</span></a> it’s input.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.controller">
<span class="sig-name descname"><span class="pre">controller</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.controller" title="Permalink to this definition">¶</a></dt>
<dd><p>identifies the <a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a> used as the Composition’s controller
(see <a class="reference internal" href="#composition-controller"><span class="std std-ref">Controlling a Composition</span></a> for details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="OptimizationControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.optimizationcontrolmechanism.OptimizationControlMechanism" title="psyneulink.core.components.mechanisms.modulatory.control.optimizationcontrolmechanism.OptimizationControlMechanism">OptimizationControlMechanism</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.enable_controller">
<span class="sig-name descname"><span class="pre">enable_controller</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.enable_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>determines whether the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed when the Composition
is run.  Set to True by default if <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is specified.  Setting it to False
suppresses exectuion of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> (see <a class="reference internal" href="#composition-controller-execution"><span class="std std-ref">Controller Execution</span></a>
for additional details, including timing of execution).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.controller_mode">
<span class="sig-name descname"><span class="pre">controller_mode</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.controller_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>determines whether the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed before or after the rest of the
<a class="reference internal" href="#"><span class="doc">Composition</span></a> when it is run, at the <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale" title="psyneulink.core.scheduling.time.TimeScale"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TimeScale</span></code></a> determined by <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_time_scale" title="psyneulink.core.compositions.composition.Composition.controller_time_scale"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_time_scale</span></code></a> (see <a class="reference internal" href="#composition-controller-execution"><span class="std std-ref">Controller Execution</span></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>BEFORE or AFTER</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.controller_time_scale">
<span class="sig-name descname"><span class="pre">controller_time_scale</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.controller_time_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>deterines the frequency at which the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed, either before or
after the Composition as determined by <code class="xref any docutils literal notranslate"><span class="pre">controller_mode</span></code> (see
<a class="reference internal" href="#composition-controller-execution"><span class="std std-ref">Controller Execution</span></a> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale" title="psyneulink.core.scheduling.time.TimeScale">TimeScale</a>[TIME_STEP, PASS, TRIAL, RUN] : default TRIAL</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.controller_condition">
<span class="sig-name descname"><span class="pre">controller_condition</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.controller_condition" title="Permalink to this definition">¶</a></dt>
<dd><p>determines whether the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> is executed in a given trial.  The
default is <a class="reference internal" href="Condition.html#psyneulink.core.scheduling.condition.Always" title="psyneulink.core.scheduling.condition.Always"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Always()</span></code></a>, which executes the controller on every trial (see <a class="reference internal" href="#composition-controller-execution"><span class="std std-ref">Controller Execution</span></a>
for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Condition.html#psyneulink.core.scheduling.condition.Condition" title="psyneulink.core.scheduling.condition.Condition">Condition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.default_execution_id">
<span class="sig-name descname"><span class="pre">default_execution_id</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.default_execution_id" title="Permalink to this definition">¶</a></dt>
<dd><p>if no <em>context</em> is specified in a call to run, this <em>context</em> is used;  by default,
it is the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.name" title="psyneulink.core.compositions.composition.Composition.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.execution_ids">
<span class="sig-name descname"><span class="pre">execution_ids</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.execution_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>stores all execution_ids used by the Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.disable_learning">
<span class="sig-name descname"><span class="pre">disable_learning</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.disable_learning" title="Permalink to this definition">¶</a></dt>
<dd><p>determines whether <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> in the Composition are executed when run in
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learning</span> <span class="pre">mode</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool : default False</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.learning_rate">
<span class="sig-name descname"><span class="pre">learning_rate</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.learning_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>if specified, used as the default value for the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_rate</span></code></a> of
<a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> in the Composition that do not have their learning_rate otherwise
specified; it is superseded by the <strong>learning_rate</strong> argument of a <a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning construction method</span></a>, and can also be overriden by specifying the <strong>learning_rate</strong> argument in a
call to the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> method of a Composition or direct specification of the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_rate</span></code></a> Parameter of a LearningMechanism (see <a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a> for
additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float or int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.minibatch_size">
<span class="sig-name descname"><span class="pre">minibatch_size</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.minibatch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>determines the number of input stimuli from the training set used to compute the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">error_signal</span></code></a> in one gradient step of learning if this is not specified in the call to
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> (see <code class="xref any docutils literal notranslate"><span class="pre">minibatch</span></code> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.optimizations_per_minibatch">
<span class="sig-name descname"><span class="pre">optimizations_per_minibatch</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.optimizations_per_minibatch" title="Permalink to this definition">¶</a></dt>
<dd><p>determines the number of repetitions of each stimulus in the training set used to compute an <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">error_signal</span></code></a> for single gradient step in learning if this is not specified in the call
to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> (see <code class="xref any docutils literal notranslate"><span class="pre">minibatch</span></code> for additional details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.learning_components">
<span class="sig-name descname"><span class="pre">learning_components</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.learning_components" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the learning-related components in the Composition, all or many of which may have been
created automatically in a call to one of its <code class="xref any docutils literal notranslate"><span class="pre">add_&lt;*learning_type*&gt;_pathway'</span> <span class="pre">methods</span> <span class="pre">(see</span>
<span class="pre">`Composition_Learning</span></code> for details).  This does <em>not</em> contain the <a class="reference internal" href="ProcessingMechanism.html"><span class="doc">ProcessingMechanisms</span></a> or <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a> in the pathway(s) being learned;
those are contained in <code class="xref any docutils literal notranslate"><span class="pre">learning_pathways</span></code> attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.learned_components">
<span class="sig-name descname"><span class="pre">learned_components</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.learned_components" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the components subject to learning in the Composition (<a class="reference internal" href="ProcessingMechanism.html"><span class="doc">ProcessingMechanisms</span></a> and <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a>);  this does <em>not</em> contain the
components used for learning; those are contained in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learning_components" title="psyneulink.core.compositions.composition.Composition.learning_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_components</span></code></a> attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.is_nested">
<span class="sig-name descname"><span class="pre">is_nested</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.is_nested" title="Permalink to this definition">¶</a></dt>
<dd><p>True of Composition is <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested</span></a> in another (outer) Compositon.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.results">
<span class="sig-name descname"><span class="pre">results</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.results" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
in the Composition for every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> executed in a call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>.
Each item in the outermost list is a list of values for a given trial; each item within a trial corresponds
to the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Mechanism for that trial.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[list[list]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.output_values">
<span class="sig-name descname"><span class="pre">output_values</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.output_values" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
in the Composition for the last <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> executed in a call to one of the Composition’s
<a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution methods</span></a>, and the value returned by that method; this is the
same as <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a>[0], and provides consistency of access to the values of a
Composition’s Nodes when one or more is a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.learning_results">
<span class="sig-name descname"><span class="pre">learning_results</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.learning_results" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
in the Composition for every <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> of the last epoch of learning executed in a call to
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a>. Each item in the outermost list is a list of values for a given trial; each item
within a trial corresponds to the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Mechanism
for that trial.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[list[list]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.simulation_results">
<span class="sig-name descname"><span class="pre">simulation_results</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.simulation_results" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> for <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a>
of the Composition when it is executed using its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.evaluate" title="psyneulink.core.compositions.composition.Composition.evaluate"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">evaluate</span></code></a> method by an
<a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list[list[list]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.retain_old_simulation_data">
<span class="sig-name descname"><span class="pre">retain_old_simulation_data</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.retain_old_simulation_data" title="Permalink to this definition">¶</a></dt>
<dd><p>if True, all <a class="reference internal" href="Parameters.html"><span class="doc">Parameter</span></a> values generated during <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a> are saved;
if False, simulation values are deleted unless otherwise specified by individual Parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.recorded_reports">
<span class="sig-name descname"><span class="pre">recorded_reports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.recorded_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>contains output and/or progress reports from execution(s) of Composition if <em>RECORD</em> is specified in the
<strong>report_to_devices</strong> argument of a <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">Composition execution method</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.rich_diverted_reports">
<span class="sig-name descname"><span class="pre">rich_diverted_reports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.rich_diverted_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>contains output and/or progress reports from execution(s) of Composition if <em>DIVERT</em> is specified in the
<strong>report_to_devices</strong> argument of a <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">Composition execution method</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.input_specification">
<span class="sig-name descname"><span class="pre">input_specification</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.input_specification" title="Permalink to this definition">¶</a></dt>
<dd><p>stores the <code class="xref any docutils literal notranslate"><span class="pre">inputs</span></code> for executions of the Composition when it is executed using its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>None or dict or list or generator or function</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.name" title="Permalink to this definition">¶</a></dt>
<dd><p>the name of the Composition; if it is not specified in the <strong>name</strong> argument of the constructor, a default
is assigned by CompositionRegistry (see <a class="reference internal" href="Registry.html#registry-naming"><span class="std std-ref">Naming</span></a> for conventions used for default and duplicate names).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.prefs">
<span class="sig-name descname"><span class="pre">prefs</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.prefs" title="Permalink to this definition">¶</a></dt>
<dd><p>the <code class="xref any docutils literal notranslate"><span class="pre">PreferenceSet</span></code> for the Composition; if it is not specified in the <strong>prefs</strong> argument of the
constructor, a default is assigned using <code class="xref any docutils literal notranslate"><span class="pre">classPreferences</span></code> defined in __init__.py (see <a class="reference internal" href="Preferences.html"><span class="doc">Preferences</span></a>
for details).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>PreferenceSet or specification dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._CompilationData">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">_CompilationData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._CompilationData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.assign_ShowGraph">
<span class="sig-name descname"><span class="pre">assign_ShowGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_graph_attributes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.assign_ShowGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to allow override of the ShowGraph class in subclasses (e.g., AutodiffComposition)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.graph_processing">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">graph_processing</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.graph_processing" title="Permalink to this definition">¶</a></dt>
<dd><p>The Composition’s processing graph (contains only <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Returns the processing graph, and builds the graph if it needs updating since the last access.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.scheduler">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">scheduler</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.scheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>A default <a class="reference internal" href="Scheduler.html"><span class="doc">Scheduler</span></a> automatically generated by the Composition, and used for its execution
when it is <a class="reference internal" href="#composition-execution"><span class="std std-ref">run</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Returns the default scheduler, and builds it if it needs updating since the last access.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._analyze_graph">
<span class="sig-name descname"><span class="pre">_analyze_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._analyze_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> to nodes based on the structure of the <a class="reference internal" href="#psyneulink.core.compositions.composition.Graph" title="psyneulink.core.compositions.composition.Graph"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a>.</p>
<p>By default, if _analyze_graph determines that a Node is <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a>, it is also given the role
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a>. Similarly, if _analyze_graph determines that a Node is <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a>, it is also given the role <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>.</p>
<p>However, if the <strong>required_roles</strong> argument of <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_node" title="psyneulink.core.compositions.composition.Composition.add_node"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_node</span></code></a> is used to set any Node in the
Composition to <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a>, then the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> nodes are not set to <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> by default. If the <strong>required_roles</strong> argument of <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_node" title="psyneulink.core.compositions.composition.Composition.add_node"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_node</span></code></a> is used
to set any Node in the Composition to <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>, then the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a>
nodes are not set to <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> by default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._update_processing_graph">
<span class="sig-name descname"><span class="pre">_update_processing_graph</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._update_processing_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the processing graph (the graph that contains only Nodes as vertices)
from the composition’s full graph</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_node">
<span class="sig-name descname"><span class="pre">add_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_roles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Node (<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or <a class="reference internal" href="#"><span class="doc">Composition</span></a>) to Composition, if it is not already added</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or <a class="reference internal" href="#"><span class="doc">Composition</span></a>) – the Node to be added to the Composition</p></li>
<li><p><strong>required_roles</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> or list of NodeRoles) – any NodeRoles roles that this Node should have in addition to those determined by analyze graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_nodes">
<span class="sig-name descname"><span class="pre">add_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_roles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> to the Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – the nodes to be added to the Composition.  Each item of the list must be a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a>,
a <a class="reference internal" href="#"><span class="doc">Composition</span></a> or a role-specification tuple with a Mechanism or Composition as the first item,
and a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> or list of those as the second item;  any NodeRoles in a role-specification tuple
are applied in addition to those specified in the <strong>required_roles</strong> argument.</p></li>
<li><p><strong>required_roles</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> or list of NodeRoles) – NodeRoles to assign to the nodes in addition to those determined by analyze graph;
these apply to any items in the list of nodes that are not in a tuple;  these apply to any specified
in any role-specification tuples in the <strong>nodes</strong> argument.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.import_composition">
<span class="sig-name descname"><span class="pre">import_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">composition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_input_from</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_output_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transfer_required_roles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transfer_excluded_roles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.import_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a <a class="reference internal" href="#"><span class="doc">Composition</span></a> into the current Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>composition</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition" title="psyneulink.core.compositions.composition.Composition"><em>Composition</em></a>) – the Composition to be imported into the current Composition.</p></li>
<li><p><strong>nodes</strong> (<em>list : default ALL</em>) – the nodes to be imported from <code class="docutils literal notranslate"><span class="pre">composition</span></code>.  Each item of the list must be a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a>.
If ALL (the default), all nodes in <code class="docutils literal notranslate"><span class="pre">composition</span></code> will be imported.</p></li>
<li><p><strong>get_input_from</strong> (<em>dict : default None</em>) – mapping from <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> (keys) in the current Composition to Nodes (values) in the
Composition to be imported that will receive their input; this argument must be specified.</p></li>
<li><p><strong>send_output_to</strong> (<em>dict : default None</em>) – mapping from <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> (keys) in the Composition to be imported to Nodes (values)
in the current Composition that will receive their output; this argument must be specified.</p></li>
<li><p><strong>transfer_required_roles</strong> (<em>bool : default True</em>) – if True, the <code class="xref any docutils literal notranslate"><span class="pre">required_roles</span></code> of the nodes in the imported Composition
will be transferred to the corresponding nodes in the current Composition.</p></li>
<li><p><strong>transfer_excluded_roles</strong> (<em>bool : default True</em>) – if True, the <code class="xref any docutils literal notranslate"><span class="pre">excluded_roles</span></code> of the nodes in the imported Composition
will be transferred to the corresponding nodes in the current Composition.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._add_required_node_role">
<span class="sig-name descname"><span class="pre">_add_required_node_role</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._add_required_node_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> specified by <strong>role</strong> to <strong>node</strong>.  Remove exclusion of that <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> if
it had previously been specified in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.exclude_node_roles" title="psyneulink.core.compositions.composition.Composition.exclude_node_roles"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">exclude_node_roles</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>) – <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> to which <strong>role</strong> should be assigned.</p></li>
<li><p><strong>role</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>) – <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> to assign to <strong>node</strong>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.require_node_roles">
<span class="sig-name descname"><span class="pre">require_node_roles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.require_node_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>(s) specified in <strong>roles</strong> to <strong>node</strong>.  Remove exclusion of those NodeRoles if
it any had previously been specified in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.exclude_node_roles" title="psyneulink.core.compositions.composition.Composition.exclude_node_roles"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">exclude_node_roles</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>) – <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> to which <strong>role</strong> should be assigned.</p></li>
<li><p><strong>roles</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> or list[<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>]) – <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>(s) to assign to <strong>node</strong>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.exclude_node_roles">
<span class="sig-name descname"><span class="pre">exclude_node_roles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.exclude_node_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Excludes the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>(s) specified in <strong>roles</strong> from being assigned to <strong>node</strong>.</p>
<p>Removes specified roles if they had been previous assigned either by default as a <a class="reference internal" href="#composition-node-role-assignment"><span class="std std-ref">required_node_role</span></a> or using the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.required_node_roles" title="psyneulink.core.compositions.composition.Composition.required_node_roles"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">required_node_roles</span></code></a>
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>) – <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> from which <strong>role</strong> should be removed.</p></li>
<li><p><strong>roles</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> or list[<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>]) – <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>(s) to remove and/or exclude from <strong>node</strong>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_required_roles_by_node">
<span class="sig-name descname"><span class="pre">get_required_roles_by_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_required_roles_by_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> that have been user-assigned to a specified <strong>node</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>) – <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> for which assigned <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> are desired.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> assigned to <strong>node</strong>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> and/or <a class="reference internal" href="#"><span class="doc">Compositions</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_roles_by_node">
<span class="sig-name descname"><span class="pre">get_roles_by_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_roles_by_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> assigned to <strong>node</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>) – <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> for which assigned <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> are desired.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRoles</span></code></a> assigned to <strong>node</strong>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> and/or <a class="reference internal" href="#"><span class="doc">Compositions</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_nodes_by_role">
<span class="sig-name descname"><span class="pre">get_nodes_by_role</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">role</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_nodes_by_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in the Composition that are assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>
specified in <strong>role</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>role</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a>) – role for which <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> are desired.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> specified in <strong>role</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> and/or <a class="reference internal" href="#"><span class="doc">Compositions</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_nested_nodes_by_roles_at_any_level">
<span class="sig-name descname"><span class="pre">get_nested_nodes_by_roles_at_any_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_roles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_roles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_nested_nodes_by_roles_at_any_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all Nodes from comp or any nested within it that have <em>include_roles</em> but not <em>exclude_roles</em>.
Returns Nodes that have or don’t have the specified roles in the Composition specified by <strong>comp</strong>
or any Composition nested within it, irrespective of their status at other levels of nesting.
To get nodes that are either INPUT or OUTPUT Nodes at <em>all</em> levels of nesting, use either</p>
<blockquote>
<div><p>get_nested_input_nodes_at_all_levels() or get_nested_output_nodes_at_all_levels()</p>
</div></blockquote>
<dl class="simple">
<dt>Note:  do this recursively, checking roles on the “way down,” as a Node may have a role in a</dt><dd><p>deeply nested Composition, but that Composition itself may not have the same role in the Composition
within which <em>it</em> is nested (e.g., a Node might be an INPUT Node of a nested Composition, but that
nested Composition may not be an INPUT Node of the Composition in which it is nested).</p>
</dd>
<dt>Note: exclude_roles takes precedence, so that if a NodeRole is listed in both,</dt><dd><p>nodes with that role will be <em>excluded</em>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_nested_input_nodes_at_all_levels">
<span class="sig-name descname"><span class="pre">get_nested_input_nodes_at_all_levels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_nested_input_nodes_at_all_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all Nodes from nested Compositions that receive input directly from input to outermost Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_nested_output_nodes_at_all_levels">
<span class="sig-name descname"><span class="pre">get_nested_output_nodes_at_all_levels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_nested_output_nodes_at_all_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all Nodes from nested Compositions that send output directly to outermost Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_input_nodes_by_CIM_input_order">
<span class="sig-name descname"><span class="pre">_get_input_nodes_by_CIM_input_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_input_nodes_by_CIM_input_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of the Composition in the same order as their
corresponding InputPorts on Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_input_receivers">
<span class="sig-name descname"><span class="pre">_get_input_receivers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Port'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_as_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_input_receivers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all INPUT Nodes [or their InputPorts] of comp, including those for any nested Compositions.
If type is PORT, return all InputPorts for all INPUT Nodes, including for nested Compositions.
If type is NODE, return all INPUT Nodes, including for nested Compositions as determined by comp_as_node:</p>
<blockquote>
<div><p>if an INPUT Node is a Composition, and comp_as_node is:
- False, include the nested Composition’s INPUT Nodes, but not the Composition
- True, include the nested Composition but not its INPUT Nodes
- ALL, include the nested Composition AND its INPUT Nodes</p>
</div></blockquote>
<dl class="simple">
<dt>Exclude input_port(s) of Node(s) in a nested Composition if their input comes from a Node in the enclosing</dt><dd><p>Composition rather than its input_CIM (as those will be accounted for by the input_CIM of the outer Comp)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_external_cim_input_port">
<span class="sig-name descname"><span class="pre">_get_external_cim_input_port</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_external_cim_input_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Get input_CIM.input_port of outer(most) Composition that projects to port in nested Composition.
<strong>port</strong> must be an InputPort that receives a single path_afferent Projection from an input_CIM.
Search up nesting hierarchy to find the input_CIM of comp nested in outer_comp or of the outermost Composition.
Return tuple with:</p>
<blockquote>
<div><p>input_CIM.input_port of the input_CIM of comp nested in outer_comp or of the outermost Composition
input_CIM.output_port corresponding to input_CIM.input_port (for ease of tracking Node to which it projects)</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_nested_nodes">
<span class="sig-name descname"><span class="pre">_get_nested_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nested_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NotImplemented</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_composition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NotImplemented</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visited_compositions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NotImplemented</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_nested_nodes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Recursively search and return all nodes of all nested Compositions</dt><dd><p>in a tuple with Composition in which they are nested.</p>
</dd>
</dl>
<p>:return</p>
<p>A list of tuples in format (node, composition) containing all nodes of all nested compositions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._handle_allow_probes_for_control">
<span class="sig-name descname"><span class="pre">_handle_allow_probes_for_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._handle_allow_probes_for_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconcile allow_probes for Composition and any ControlMechanisms assigned to it, including controller.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_nested_compositions">
<span class="sig-name descname"><span class="pre">_get_nested_compositions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nested_compositions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NotImplemented</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visited_compositions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NotImplemented</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_nested_compositions" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively search for and return all nested compositions.</p>
<p>:return</p>
<p>A list of nested compositions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_all_nodes">
<span class="sig-name descname"><span class="pre">_get_all_nodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_all_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all nodes, including those within nested Compositions at any level
Note:  this is distinct from the _all_nodes property, which returns all nodes at the top level</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._is_in_composition">
<span class="sig-name descname"><span class="pre">_is_in_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._is_in_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if component is in Composition, including any nested Compositions if <strong>nested</strong> is True
Include input_CIM and output_CIM for self and all nested Compositions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_terminal_nodes">
<span class="sig-name descname"><span class="pre">_get_terminal_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toposorted_graph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_terminal_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of nodes in this composition that are
NodeRole.TERMINAL with respect to an acyclic <strong>graph</strong>. The
result can change depending on whether the scheduler or
composition graph is used. The <strong>graph</strong> of the scheduler graph
is the scheduler’s consideration_queue.</p>
<p>Includes all nodes that have no receivers in <strong>graph</strong>. The
ObjectiveMechanism of a Composition’s controller cannot be
NodeRole.TERMINAL, so if the ObjectiveMechanism is the only node
with no receivers in <strong>graph</strong>, then that node’s senders are
assigned NodeRole.TERMINAL instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code>[<a class="reference internal" href="Component.html#psyneulink.core.components.component.Component" title="psyneulink.core.components.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._determine_origin_and_terminal_nodes_from_consideration_queue">
<span class="sig-name descname"><span class="pre">_determine_origin_and_terminal_nodes_from_consideration_queue</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._determine_origin_and_terminal_nodes_from_consideration_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns NodeRole.ORIGIN to all nodes in the first entry of the consideration queue and NodeRole.TERMINAL
to all nodes in the last entry of the consideration queue. The ObjectiveMechanism of a Composition’s
controller may not be NodeRole.TERMINAL, so if the ObjectiveMechanism is the only node in the last entry
of the consideration queue, then the second-to-last entry is NodeRole.TERMINAL instead.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._add_node_aux_components">
<span class="sig-name descname"><span class="pre">_add_node_aux_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._add_node_aux_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Add aux_components of node to Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list containing references to all invalid aux components</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_invalid_aux_components">
<span class="sig-name descname"><span class="pre">_get_invalid_aux_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_invalid_aux_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Return any Components in aux_components for a node that references items not (yet) in this Composition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._complete_init_of_partially_initialized_nodes">
<span class="sig-name descname"><span class="pre">_complete_init_of_partially_initialized_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._complete_init_of_partially_initialized_nodes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Attempt to complete initialization of aux_components for any nodes with</dt><dd><p>aux_components that were not previously compatible with Composition</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._determine_node_roles">
<span class="sig-name descname"><span class="pre">_determine_node_roles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._determine_node_roles" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign NodeRoles to Nodes in Composition</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Assignments are <strong>not</strong> subject to user-modification (i.e., “programmatic assignment”)
unless otherwise noted.</p>
</div>
<p>Assignment criteria:</p>
<dl>
<dt>ORIGIN:</dt><dd><ul class="simple">
<li><p>all Nodes that are in first consideration_set (i.e., self.scheduler.consideration_queue[0]).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>this takes account of any Projections designated as feedback by graph_processing
(i.e., self.graph.comp_to_vertex[efferent].feedback == EdgeType.FEEDBACK)</p></li>
<li><p>these will all be assigined afferent Projections from Composition.input_CIM</p></li>
</ul>
</div>
</dd>
<dt>INPUT:</dt><dd><ul class="simple">
<li><p>all Nodes that have no incoming edges in this composition,
or that are in a cycle with no external incoming edges, for
which INPUT has not been removed and/or excluded using
exclude_node_roles();</p></li>
<li><p>all Nodes for which INPUT has been assigned as a required_node_role by user
(i.e., in self.required_node_roles[NodeRole.INPUT].</p></li>
</ul>
</dd>
<dt>SINGLETON:</dt><dd><ul class="simple">
<li><p>all Nodes that are <em>both</em> ORIGIN and TERMINAL</p></li>
</ul>
</dd>
<dt>BIAS:</dt><dd><ul class="simple">
<li><p>all Nodes that have one or more InputPorts for which default_input == DEFAULT_VARIABLE</p></li>
</ul>
</dd>
<dt>INTERNAL:</dt><dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is neither <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> nor
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>.  Note that it <em>can</em> also be <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a>, <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a>
or <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.SINGLETON" title="psyneulink.core.compositions.composition.NodeRole.SINGLETON"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">SINGLETON</span></code></a>, if it has no <a class="reference internal" href="Mechanism.html#id8" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.afferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">afferent</span></code></a> or <a class="reference internal" href="Mechanism.html#id9" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.efferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">efferent</span></code></a> Projections or neither,
respectively. This role cannot be modified programmatically.</p>
</dd>
<dt>CYCLE:</dt><dd><ul class="simple">
<li><p>all Nodes that identified as being in a cycle by self.graph_processing
(i.e., in a cycle in self.graph_processing.cycle_vertices)</p></li>
</ul>
</dd>
<dt>FEEDBACK_SENDER:</dt><dd><ul class="simple">
<li><p>all Nodes that send a Projection designated as feedback by self.graph_processing OR
specified as feedback by user</p></li>
</ul>
</dd>
<dt>FEEDBACK_RECEIVER:</dt><dd><ul class="simple">
<li><p>all Nodes that receive a Projection designated as feedback by self.graph_processing OR
specified as feedback by user</p></li>
</ul>
</dd>
<dt>CONTROL_OBJECTIVE</dt><dd><ul class="simple">
<li><p>ObjectiveMechanism assigned CONTROL_OBJECTIVE as a required_node_role in ControlMechanism’s
_instantiate_objective_mechanism()</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><em>not the same as</em> CONTROLLER_OBJECTIVE</p></li>
<li><p>all project to a ControlMechanism</p></li>
</ul>
</div>
</dd>
<dt>CONTROLLER_OBJECTIVE</dt><dd><ul class="simple">
<li><p>ObjectiveMechanism assigned CONTROLLER_OBJECTIVE as a required_node_role in add_controller()</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>also assigned CONTROL_OBJECTIVE</p></li>
<li><p><em>not the same as</em> CONTROL_OBJECTIVE</p></li>
</ul>
</div>
</dd>
<dt>LEARNING</dt><dd><ul class="simple">
<li><p>all Nodes for which LEARNING is assigned as a required_noded_role in
add_linear_learning_pathway() or _create_terminal_backprop_learning_components()</p></li>
</ul>
</dd>
<dt>TARGET</dt><dd><ul class="simple">
<li><p>all Nodes for which TARGET has been assigned as a required_noded_role in
add_linear_learning_pathway() or _create_terminal_backprop_learning_components()</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>receive a Projection from input_CIM, and project to LEARNING_OBJECTIVE and output_CIM</p></li>
<li><p>also assigned ORIGIN, INPUT, LEARNING, OUTPUT, and TERMINAL</p></li>
</ul>
</div>
</dd>
<dt>LEARNING_OBJECTIVE</dt><dd><ul class="simple">
<li><p>all Nodes for which LEARNING_OBJECTIVE is assigned required_noded_role in
add_linear_learning_pathway(), _create_non_terminal_backprop_learning_components,
or _create_terminal_backprop_learning_components()</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>also assigned LEARNING</p></li>
<li><p>must project to a LearningMechanism</p></li>
</ul>
</div>
</dd>
<dt>OUTPUT:</dt><dd><ul>
<li><p>all Nodes that have no outgoing edges in this compositions
<em>unless</em> they are:
- a ModulatoryMechanism (i.e., ControlMechanism or LearningMechanism)
- an ObjectiveMechanisms associated with ModulatoryMechanism</p></li>
<li><p>all Nodes that project only to:
- a ModulatoryMechanism
- an ObjectiveMechanism designated CONTROL_OBJECTIVE, CONTROLLER_OBJECTIVE or LEARNING_OBJECTIVE
? unless it is the ??TARGET_MECHANISM for a ‘learning pathway &lt;Composition_Learning_Pathway&gt;`</p>
<blockquote>
<div><p>this is currently the case, but is inconsistent with the analog in Control,
where monitored Mechanisms <em>are</em> allowed to be OUTPUT;
therefore, might be worth allowing TARGET_MECHANISM to be assigned as OUTPUT</p>
</div></blockquote>
</li>
<li><p>all Nodes for which OUTPUT has been assigned as a required_node_role, inclUding by user
(i.e., in self.required_node_roles[NodeRole.OUTPUT]</p></li>
</ul>
</dd>
<dt>TERMINAL:</dt><dd><ul>
<li><p>all Nodes that
- are not an ObjectiveMechanism assigned the role CONTROLLER_OBJECTIVE
- or have <em>no</em> efferent projections OR
- or for which any efferent projections are either:</p>
<blockquote>
<div><ul class="simple">
<li><p>to output_CIM OR</p></li>
<li><p>assigned as feedback (i.e., self.graph.comp_to_vertex[efferent].feedback == EdgeType.FEEDBACK</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>this insures that for cases in which there are nested CYCLES
(e.g., LearningMechanisms for a <code class="xref any docutils literal notranslate"><span class="pre">learning</span> <span class="pre">Pathway</span></code>),
only the Node in the <em>outermost</em> CYCLE that is specified as a FEEDBACK_SENDER
is assigned as a TERMINAL Node
(i.e., the LearningMechanism responsible for the <em>first</em> <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learned Projection;</span></a> in the <code class="xref any docutils literal notranslate"><span class="pre">learning</span> <span class="pre">Pathway</span></code>)</p></li>
<li><p>an ObjectiveMechanism assigned CONTROLLER_OBJECTIVE is prohibited since it and the Composition’s
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> are executed outside of (either before or after)
all of the other Components of the Composition, as managed directly by the scheduler;</p></li>
<li><p><a class="reference internal" href="#composition-execution"><span class="std std-ref">Execution of a `Composition</span></a> always ends with a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Node,
although some <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Nodes may execute earlier (i.e., if they belong to a <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> that
is shorter than the longest one in the Composition).</p></li>
</ul>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_external_modulatory_projections">
<span class="sig-name descname"><span class="pre">_get_external_modulatory_projections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_external_modulatory_projections" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of <a class="reference internal" href="ModulatoryProjection.html"><span class="doc">Modulatory Projections</span></a> that originate from enclosing
<a class="reference internal" href="#"><span class="doc">Compositions</span></a> and that modulate a parameter of a <code class="xref any docutils literal notranslate"><span class="pre">Node</span></code> of the current <a class="reference internal" href="#"><span class="doc">Composition</span></a></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[<a class="reference internal" href="ModulatoryProjection.html"><span class="doc">Modulatory Projections</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._create_CIM_ports">
<span class="sig-name descname"><span class="pre">_create_CIM_ports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._create_CIM_ports" title="Permalink to this definition">¶</a></dt>
<dd><ul>
<li><p>remove the default InputPort and OutputPort from the CIMs if this is the first time that real
InputPorts and OutputPorts are being added to the CIMs</p></li>
<li><p>create a corresponding InputPort and OutputPort on the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.input_CIM" title="psyneulink.core.compositions.composition.Composition.input_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_CIM</span></code></a> for each
InputPort of each INPUT node. Connect the OutputPort on the input_CIM to the INPUT node’s corresponding
InputPort via a standard MappingProjection.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The InputPort on the input_CIM is named using the following convention:
INPUT_CIM_NAME + “_” + node.name + “_” + node.input_port.name</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the input_CIM is for a nested Composition, any of its input_ports that receive Projection(s)
from Nodes in the enclosing (outer) Composition (rather than its input_CIM) are marked as
<a class="reference internal" href="InputPort.html#inputport-internal-only"><span class="std std-ref">internal_only</span></a>, since they do not receive input directly from the external
environment of the enclosing Composition</p>
</div>
</li>
<li><p>create a corresponding InputPort and OutputPort on the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a> for each
OutputPort of each OUTPUT node. Connect the OUTPUT node’s OutputPort to the output_CIM’s corresponding
InputPort via a standard MappingProjection.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The OutputPort on the output_CIM is named using the following convention:
OUTPUT_CIM_NAME + “_” + node.name + “_” + node.output_port.name</p>
</div>
</li>
<li><p>create a corresponding InputPort and ControlSignal on the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.parameter_CIM" title="psyneulink.core.compositions.composition.Composition.parameter_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">parameter_CIM</span></code></a> for
each InputPort of each node in the Composition that receives a modulatory projection from an enclosing
Composition. Connect the original ControlSignal to the parameter_CIM’s corresponding InputPort via a
standard MappingProjection, then activate the projections that are created automatically during
instantiation of the ControlSignals to carry that signal to the target ParameterPort.</p></li>
<li><p>build three dictionaries:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>input_CIM_ports = { INPUT Node InputPort: (InputCIM InputPort, InputCIM OutputPort) }</p></li>
<li><p>output_CIM_ports = { OUTPUT Node OutputPort: (OutputCIM InputPort, OutputCIM OutputPort) }</p></li>
<li><p>parameter_CIM_ports = { ( Signal Owner, Signal Receiver ): (ParameterCIM InputPort, ParameterCIM OutputPort) }</p></li>
</ol>
</div></blockquote>
</li>
<li><p>if the Node has any shadows, create the appropriate projections as needed.</p></li>
<li><p>delete all of the above for any node Ports which were previously, but are no longer, classified as
INPUT/OUTPUT</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_nested_node_CIM_port">
<span class="sig-name descname"><span class="pre">_get_nested_node_CIM_port</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_nested_node_CIM_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for node in nested Composition
Assign NodeRole.PROBE to relevant nodes if allow_probes is specified (see handle_probes below)
Return relevant port of relevant CIM if found and nested Composition in which it was found; else None’s</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_projections">
<span class="sig-name descname"><span class="pre">add_projections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_projection" title="psyneulink.core.compositions.composition.Composition.add_projection"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_projection</span></code></a> for each Projection in the <em>projections</em> list. Each
Projection must have its <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.sender" title="psyneulink.core.components.projections.projection.Projection_Base.sender"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">sender</span></code></a> and <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.receiver" title="psyneulink.core.components.projections.projection.Projection_Base.receiver"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">receiver</span></code></a>
already specified.  If an item in the list is a list of projections, <code class="docutils literal notranslate"><span class="pre">add_projections</span></code> is called
recursively on that list.  See <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_projection" title="psyneulink.core.compositions.composition.Composition.add_projection"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_projection</span></code></a> for additional details
of how duplicates are determined and handled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>projections</strong> (<em>list of Projections</em>) – list of Projections to be added to the Composition</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_projection">
<span class="sig-name descname"><span class="pre">add_projection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_learning_projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_duplicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <strong>projection</strong> to the Composition.</p>
<p>If <strong>projection</strong> is not specified, and one does not already exist between <strong>sender</strong> and <strong>receiver</strong>
create a default <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> between them, using <strong>default_projection_matrix</strong> if specified
(otherwise default for MappingProjection is used).</p>
<p>If <strong>projection</strong> is specified:</p>
<ul>
<li><p>if <strong>projection</strong> has already been instantiated, and <strong>sender</strong> and <strong>receiver</strong> are also specified,
they must match the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.sender" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.sender"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">sender</span></code></a> and <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.receiver" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.receiver"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">receiver</span></code></a>
of <strong>projection</strong>.</p></li>
<li><p>if <strong>sender</strong> and <strong>receiver</strong> are specified and one or more Projections already exists between them:
- if it is in the Composition:</p>
<blockquote>
<div><ul class="simple">
<li><p>if there is only one, the request is ignored and the existing Projection is returned</p></li>
<li><p>if there is more than one, an exception is raised as this should never be the case</p></li>
</ul>
</div></blockquote>
<ul>
<li><p>if it is NOT in the Composition:
- if there is only one, that Projection is used (it can be between any pair of the sender’s OutputPort</p>
<blockquote>
<div><p>and receiver’s InputPort)</p>
</div></blockquote>
<ul class="simple">
<li><p>if there is more than one, the last in the list (presumably the most recent) is used;</p></li>
</ul>
<p>in either case, processing continues, to activate it for the Composition,
construct any “shadow” projections that may be specified, and assign feedback if specified.</p>
</li>
</ul>
</li>
<li><p>if the status of <strong>projection</strong> is <code class="xref any docutils literal notranslate"><span class="pre">deferred_init</span></code>:</p>
<ul class="simple">
<li><p>if its <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.sender" title="psyneulink.core.components.projections.projection.Projection_Base.sender"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">sender</span></code></a> and/or <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.receiver" title="psyneulink.core.components.projections.projection.Projection_Base.receiver"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">receiver</span></code></a> attributes are not
specified, then <strong>sender</strong> and/or <strong>receiver</strong> are used.</p></li>
<li><p>if <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.sender" title="psyneulink.core.components.projections.projection.Projection_Base.sender"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">sender</span></code></a> and/or <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.receiver" title="psyneulink.core.components.projections.projection.Projection_Base.receiver"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">receiver</span></code></a> attributes are specified,
they must match <strong>sender</strong> and/or <strong>receiver</strong> if those have also been specified.</p></li>
<li><p>if a Projection between the specified sender and receiver does <em>not</em> already exist, it is initialized; if
it <em>does</em> already exist, the request to add it is ignored, however requests to shadow it and/or mark it as
a <code class="xref any docutils literal notranslate"><span class="pre">feedback</span></code> Projection are implemented (in case it has not already been done for the existing Projection).</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <strong>projection</strong> is an instantiated Projection (i.e., not in <code class="xref any docutils literal notranslate"><span class="pre">deferred_init</span></code>), and one already exists
between its <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.sender" title="psyneulink.core.components.projections.projection.Projection_Base.sender"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">sender</span></code></a> and <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.receiver" title="psyneulink.core.components.projections.projection.Projection_Base.receiver"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">receiver</span></code></a>, a warning is
generated and the request is ignored.</p>
</div>
<div class="technical-note docutils container">
<p>Duplicates are determined by the <a class="reference internal" href="Port.html"><span class="doc">Ports</span></a> to which they project, not the <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a>
(to allow multiple Projections to exist between the same pair of Mechanisms using different Ports);
If the sender and/or the receiver is specified as a Mechanism, a Projection from any of a specified
sender’s OutputPorts to any of a specified receiver’s InputPorts will be considered a match. However,
if both sender and receiver are specified as Ports, then only a Projection from the sender to the receiver
will be considered a match, allowing other Projections to remain between that pair of Nodes.
..
If an already instantiated Projection is passed to add_projection and is a duplicate of an existing one,
it is detected and suppressed, with a warning, in Port._instantiate_projections_to_port.
..
If a Projection with deferred_init status is a duplicate, it is fully suppressed here,
as these are generated by add_linear_processing_pathway if the pathway overlaps with an existing one,
and so warnings are unnecessary and would be confusing to users.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>projection</strong> (<em>Projection</em><em>, </em><em>list</em><em>, </em><em>array</em><em>, </em><em>matrix</em><em>, </em><a class="reference internal" href="Functions.html#psyneulink.core.components.functions.function.RandomMatrix" title="psyneulink.core.components.functions.function.RandomMatrix"><em>RandomMatrix</em></a><em>, </em><em>MATRIX_KEYWORD</em>) – the projection to add.</p></li>
<li><p><strong>sender</strong> (<em>Mechanism</em><em>, </em><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition" title="psyneulink.core.compositions.composition.Composition"><em>Composition</em></a><em>, or </em><a class="reference internal" href="OutputPort.html#psyneulink.core.components.ports.outputport.OutputPort" title="psyneulink.core.components.ports.outputport.OutputPort"><em>OutputPort</em></a>) – the sender of <strong>projection</strong>.</p></li>
<li><p><strong>receiver</strong> (<em>Mechanism</em><em>, </em><a class="reference internal" href="#psyneulink.core.compositions.composition.Composition" title="psyneulink.core.compositions.composition.Composition"><em>Composition</em></a><em>, or </em><a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort" title="psyneulink.core.components.ports.inputport.InputPort"><em>InputPort</em></a>) – the receiver of <strong>projection</strong>.</p></li>
<li><p><strong>default_projection_matrix</strong> (list, array, function, <a class="reference internal" href="Functions.html#psyneulink.core.components.functions.function.RandomMatrix" title="psyneulink.core.components.functions.function.RandomMatrix"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RandomMatrix</span></code></a> or MATRIX_KEYWORD : default None) – matrix to use in creating default; overrides default for MappingProjection.</p></li>
<li><p><strong>default_projection_matrix</strong> – specifies matrix to use in creating default Projection if none is specifed in <strong>projection</strong>
and one does not already exist between <strong>sender</strong> and <strong>receive</strong>
(see <a class="reference internal" href="MappingProjection.html#mappingprojection-matrix-specification"><span class="std std-ref">Specifying the Matrix Parameter</span></a> for details of specification).</p></li>
<li><p><strong>feedback</strong> (<em>bool</em><em> or </em><em>FEEDBACK : False</em>) – if False, the Projection is <em>never</em> designated as a <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback Projection</span></a>, even if that may have been the default behavior (e.g.,
for a <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a> that forms a <a class="reference internal" href="#composition-cycle-structure"><span class="std std-ref">loop</span></a>; if True or <em>FEEDBACK</em>,
and the Projection is in a loop, it is <em>always</em> designated as a feedback Projection, and used to <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">break&quot;
the cycle</span></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> if added, else None</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._update_shadow_projections">
<span class="sig-name descname"><span class="pre">_update_shadow_projections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._update_shadow_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate any missing shadow_projections that have been specified in Composition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._check_for_projection_assignments">
<span class="sig-name descname"><span class="pre">_check_for_projection_assignments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._check_for_projection_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all Projections and Ports with require_projection_in_composition attribute are configured.
Validate that all InputPorts with require_projection_in_composition == True have an afferent Projection.
Validate that all OutputPorts with require_projection_in_composition == True have an efferent Projection.
Validate that all Projections have senders and receivers.
Issue warning if any Projections are to/from nodes not in Composition.projections</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._check_for_unused_projections">
<span class="sig-name descname"><span class="pre">_check_for_unused_projections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._check_for_unused_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Warn if there are any Nodes in the Composition, or any nested within it, that are not used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_feedback_status">
<span class="sig-name descname"><span class="pre">get_feedback_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_feedback_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if <strong>projection</strong> is designated as a <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback Projection</span></a>
in the Composition, else False.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._check_for_existing_projections">
<span class="sig-name descname"><span class="pre">_check_for_existing_projections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_composition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._check_for_existing_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for Projection between the same pair of Nodes</p>
<p>Finding more than one Projection in the current Composition raises an error (should never be the case).
Finding one in the current Composition and any number outside of it is allowed, and handled as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>if <strong>in_composition</strong> is ONLY, return the Projection if one is found in the current Composition,</p></li>
<li><p>and none are found outside of it.</p></li>
<li><p>if <strong>in_composition</strong> is True, return the Projection found in the current Composition,</p></li>
<li><p>irrespective of whether there are also any outside of the Composition.</p></li>
<li><p>if <strong>in_composition</strong> is False, return only Projections that are found outside the current Composition</p></li>
<li><p>and only if there are none found within the current Composition.</p></li>
<li><p>if <strong>in_composition</strong> is ANY, return all existing Projections in or out of the current Composition.</p></li>
</ul>
</div></blockquote>
<p>If the condition specified above is satisfied, then return the Projection(s) found.
Otherwise, return False.</p>
<dl class="simple">
<dt>IMPLEMENTATION NOTE:</dt><dd><p>If the sender and/or the receiver is specified as a Mechanism, then any Projection between that Mechanism
the other specification will be considered a match, irrespective of whether they use the same InputPorts
(if it is a receiver) and/or OutputPorts (if it is a sender); if both are Mechanisms, then <em>any</em>
Projection between them will count as a match, irrespective of the InputPorts and/or OutputPorts used.
However, if both sender and receiver are specified as Ports, then only a Projection from the sender to the
receiver will be considered a match, allowing other Projections to remain between pair of Nodes</p>
</dd>
</dl>
<p>Return Projection or list of Projections that satisfies the conditions, else False</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._check_for_unnecessary_feedback_projections">
<span class="sig-name descname"><span class="pre">_check_for_unnecessary_feedback_projections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._check_for_unnecessary_feedback_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Warn if there exist projections in the graph that the user
labeled as EdgeType.FEEDBACK (True) but are not in a cycle</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_source">
<span class="sig-name descname"><span class="pre">_get_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tuple with port, node and comp of sender for <strong>projection</strong> (possibly in a nested Composition).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_destination">
<span class="sig-name descname"><span class="pre">_get_destination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_destination" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tuple with port, node and comp of receiver for <strong>projection</strong> (possibly in a nested Composition).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_pathway">
<span class="sig-name descname"><span class="pre">add_pathway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathway</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_pathway" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an existing <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathway</span></a> to the Composition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pathway</strong> (the <a class="reference internal" href="#composition-pathways"><span class="std std-ref">Pathway</span></a> to be added) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_pathways">
<span class="sig-name descname"><span class="pre">add_pathways</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathways</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_pathways" title="Permalink to this definition">¶</a></dt>
<dd><p>Add pathways to the Composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pathways</strong> (<a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway" title="psyneulink.core.compositions.pathway.Pathway"><em>Pathway</em></a><em> or </em><em>list</em><em>[</em><a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway" title="psyneulink.core.compositions.pathway.Pathway"><em>Pathway</em></a><em>]</em>) – specifies one or more <a class="reference internal" href="Pathway.html"><span class="doc">Pathways</span></a> to add to the Composition.  Any valid form of <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">Pathway
specification</span></a> can be used.  A set can also be used, all elements of which are
<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>, in which case a separate <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> is constructed for each.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of <a class="reference internal" href="Pathway.html"><span class="doc">Pathways</span></a> added to the Composition.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway" title="psyneulink.core.compositions.pathway.Pathway">Pathway</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway">
<span class="sig-name descname"><span class="pre">add_linear_processing_pathway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathway</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_projection_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway" title="Permalink to this definition">¶</a></dt>
<dd><p>Add sequence of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> with optionally intercolated <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>.</p>
<p id="composition-add-linear-processing-pathway">A Pathway is specified as a list, each element of which is either a <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> or
set of Nodes, possibly intercolated with specifications of <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> between them.
The Node(s) specified in each entry of the list project to the Node(s) specified in the next entry
(see <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">Pathway Specification</span></a> for details).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any specifications of the <strong>monitor_for_control</strong> <a class="reference internal" href="ControlMechanism.html#controlmechanism-monitor-for-control-argument"><span class="std std-ref">argument</span></a>
of a constructor for a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a> or the <strong>monitor</strong> argument in the constructor for an
<a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> in the <strong>objective_mechanism</strong> <a class="reference internal" href="ControlMechanism.html#controlmechanism-objectivemechanism"><span class="std std-ref">argument</span></a> of a
ControlMechanism supersede any MappingProjections that would otherwise be created for them when specified
in the <strong>pathway</strong> argument of add_linear_processing_pathway.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathway</strong> (<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>, list or <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>) – specifies the <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>, and optionally <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>, used to construct a
processing <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>. Any standard form of <a class="reference internal" href="Pathway.html#pathway-specification"><span class="std std-ref">Pathway specification</span></a> can
be used, however if a 2-item (Pathway, LearningFunction) tuple is used, the <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.LearningFunction" title="psyneulink.core.components.functions.learningfunctions.LearningFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LearningFunction</span></code></a> is ignored
(this should be used with <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_learning_pathway</span></code></a> if a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> is desired).  A <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> object can also be used;  again, however, any
learning-related specifications are ignored, as are its <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.name" title="psyneulink.core.compositions.pathway.Pathway.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> if the <strong>name</strong> argument
of add_linear_processing_pathway is specified.</p></li>
<li><p><strong>default_projection_matrix</strong> (list, array, function, <a class="reference internal" href="Functions.html#psyneulink.core.components.functions.function.RandomMatrix" title="psyneulink.core.components.functions.function.RandomMatrix"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RandomMatrix</span></code></a> or MATRIX_KEYWORD : default None) – specifies matrix to use for any unspecified Projections (overrides default matrix for <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>)
if a default projection is not otherwise specified (see <a class="reference internal" href="Pathway.html#pathway-specification-projections"><span class="std std-ref">Projection Specifications</span></a>;
see <a class="reference internal" href="MappingProjection.html#mappingprojection-matrix-specification"><span class="std std-ref">Specifying the Matrix Parameter</span></a> for details of specification)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – species the name used for <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>; supersedes <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.name" title="psyneulink.core.compositions.pathway.Pathway.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> of <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> object if it is has one.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> added to Composition.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway">
<span class="sig-name descname"><span class="pre">add_linear_learning_pathway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pathway</span></em>, <em class="sig-param"><span class="pre">learning_function=None</span></em>, <em class="sig-param"><span class="pre">loss_spec=Loss.MSE</span></em>, <em class="sig-param"><span class="pre">learning_rate=None</span></em>, <em class="sig-param"><span class="pre">error_function=&lt;class</span> <span class="pre">'psyneulink.core.components.functions.nonstateful.transformfunctions.LinearCombination'&gt;</span></em>, <em class="sig-param"><span class="pre">learning_update='after'</span></em>, <em class="sig-param"><span class="pre">default_projection_matrix=None</span></em>, <em class="sig-param"><span class="pre">name=None</span></em>, <em class="sig-param"><span class="pre">context=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement learning pathway (including necessary <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a>.</p>
<p>Generic method for implementing a learning pathway.  Calls <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_processing_pathway</span></code></a> to implement
the processing components including, if necessary, the MappingProjections between Mechanisms.  All of the
MappingProjections (whether specified or created) are subject to learning (and are assigned as the
<code class="xref any docutils literal notranslate"><span class="pre">learned_projection</span></code> attribute of the <code class="xref any docutils literal notranslate"><span class="pre">LearningMechanisms</span></code> created for the pathway.</p>
<p>If <strong>learning_function</strong> is a sublcass of <a class="reference internal" href="LearningFunctions.html"><span class="doc">LearningFunction</span></a>, a class-specific
<a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning method</span></a> is called.  Some may allow the error_function
to be specified, in which case it must be compatible with the class of LearningFunction specified.</p>
<p>If <strong>learning_function</strong> is a custom function, it is assigned to all of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> created for the MappingProjections in the pathway.  A <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> is
created to compute the error for the pathway, and assigned the function specified in <strong>error_function</strong>,
which must be compatible with <strong>learning_function</strong>.</p>
<p>See <a class="reference internal" href="#composition-learning"><span class="std std-ref">Learning in a Composition</span></a> for a more detailed description of how learning is implemented in a
Composition, including the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a> that are created,
as well as other <a class="reference internal" href="#composition-learning-methods"><span class="std std-ref">learning methods</span></a> that can be used to implement specific
algorithms.</p>
<dl class="simple">
<dt>The <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a> created are placed in a dict the following entries:</dt><dd><p><em>OUTPUT_MECHANISM</em>: <a class="reference internal" href="ProcessingMechanism.html"><span class="doc">ProcessingMechanism</span></a> (assigned to <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.output" title="psyneulink.core.compositions.pathway.Pathway.output"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output</span></code></a>
<em>TARGET_MECHANISM</em>: <a class="reference internal" href="ProcessingMechanism.html"><span class="doc">ProcessingMechanism</span></a> (assigned to <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.target" title="psyneulink.core.compositions.pathway.Pathway.target"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">target</span></code></a>
<em>OBJECTIVE_MECHANISM</em>: <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> (assigned to <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.learning_objective" title="psyneulink.core.compositions.pathway.Pathway.learning_objective"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_objective</span></code></a>
<em>LEARNING_MECHANISMS</em>: <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> or list[<a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a>]
<em>LEARNING_FUNCTION</em>: <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.LearningFunction" title="psyneulink.core.components.functions.learningfunctions.LearningFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LearningFunction</span></code></a> used by all LEARNING_MECHSNISMS in the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>
<em>LEARNED_PROJECTIONS</em>: <a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> or list[<a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>]</p>
</dd>
</dl>
<p>that is assigned to the <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.learning_components" title="psyneulink.core.compositions.pathway.Pathway.learning_components"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_components</span></code></a> attribute of the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>
returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathway</strong> (List or <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>) – specifies the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a> for which the <a class="reference internal" href="Projections.html"><span class="doc">Projections</span></a>
will be learned;  can be specified as a <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> or as a list of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and,
optionally, Projections between them (see <a class="reference internal" href="Pathway.html#pathway-specification-list"><span class="std std-ref">list</span></a>).</p></li>
<li><p><strong>learning_function</strong> (<a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.LearningFunction" title="psyneulink.core.components.functions.learningfunctions.LearningFunction"><em>LearningFunction</em></a>) – specifies the type of <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.LearningFunction" title="psyneulink.core.components.functions.learningfunctions.LearningFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LearningFunction</span></code></a> to use for the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> constructued for each
<a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> in the <strong>pathway</strong>.</p></li>
<li><p><strong>loss_spec</strong> (<em>Loss : default Loss.MSE</em>) – specifies the loss function used if <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.BackPropagation" title="psyneulink.core.components.functions.learningfunctions.BackPropagation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BackPropagation</span></code></a> is specified as the <strong>learning_function</strong>
(see <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_backpropagation_learning_pathway</span></code></a>).</p></li>
<li><p><strong>learning_rate</strong> (<em>float : default 0.05</em>) – specifies the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_rate"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_rate</span></code></a> used for the <strong>learning_function</strong>
of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> in the <strong>pathway</strong> (see <a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a> for
additional details).</p></li>
<li><p><strong>error_function</strong> (<em>function : default LinearCombination</em>) – <p>specifies the function assigned to Mechanism used to compute the error from the target and the output
(<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>) of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="psyneulink.core.compositions.composition.NodeRole.TARGET"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TARGET</span></code></a> Mechanism in the <strong>pathway</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For most learning algorithms (and by default), a <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> is used to compute the error.
However, some learning algorithms may use a different Mechanism (e.g., for <code class="xref any docutils literal notranslate"><span class="pre">TDlearning</span></code> a
<a class="reference internal" href="PredictionErrorMechanism.html"><span class="doc">PredictionErrorMechanism</span></a> is used, which uses as its fuction <a class="reference internal" href="TransformFunctions.html#psyneulink.core.components.functions.transformfunctions.PredictionErrorDeltaFunction" title="psyneulink.core.components.functions.transformfunctions.PredictionErrorDeltaFunction"><code class="xref any py py-class docutils literal notranslate"><span class="pre">PredictionErrorDeltaFunction</span></code></a>.</p>
</div>
</p></li>
<li><p><strong>learning_update</strong> (<em>Optional</em><em>[</em><em>bool</em><em>|</em><em>ONLINE</em><em>|</em><em>AFTER</em><em>] </em><em>: default AFTER</em>) – specifies when the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the <a class="reference internal" href="KohonenMechanism.html#psyneulink.library.components.mechanisms.processing.transfer.kohonenmechanism.KohonenMechanism.learned_projection" title="psyneulink.library.components.mechanisms.processing.transfer.kohonenmechanism.KohonenMechanism.learned_projection"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learned_projection</span></code></a> is updated
in each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> when the Composition executes;  it is assigned as the default value for
the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> attribute of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> in the pathway, and its <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a> (see <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> for meaning of values).</p></li>
<li><p><strong>default_projection_matrix</strong> (list, array, function, <a class="reference internal" href="Functions.html#psyneulink.core.components.functions.function.RandomMatrix" title="psyneulink.core.components.functions.function.RandomMatrix"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RandomMatrix</span></code></a> or MATRIX_KEYWORD : default None) – specifies matrix to use for any unspecified Projections (overrides default matrix for <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>)
if a default projection is not otherwise specified (see <a class="reference internal" href="Pathway.html#pathway-specification-projections"><span class="std std-ref">Projection Specifications</span></a>;
see <a class="reference internal" href="MappingProjection.html#mappingprojection-matrix-specification"><span class="std std-ref">Specifying the Matrix Parameter</span></a> for details of specification)</p></li>
<li><p><strong>name</strong> (<em>str :</em>) – species the name used for <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>; supersedes <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.name" title="psyneulink.core.compositions.pathway.Pathway.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> of <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> object if it is has one.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">learning</span> <span class="pre">Pathway</span></code> &lt;Composition_Learning_Pathway&gt;` added to the Composition.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_reinforcement_learning_pathway">
<span class="sig-name descname"><span class="pre">add_reinforcement_learning_pathway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathway</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'online'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_projection_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_reinforcement_learning_pathway" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that calls <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_learning_pathway</span></code></a> with <strong>learning_function</strong> = <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.Reinforcement" title="psyneulink.core.components.functions.learningfunctions.Reinforcement"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Reinforcement</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathway</strong> (<em>List</em>) – list containing either [Node1, Node2] or [Node1, MappingProjection, Node2]. If a projection is
specified, that projection is the learned projection. Otherwise, a default MappingProjection is
automatically generated for the learned projection.</p></li>
<li><p><strong>default_projection_matrix</strong> (list, array, function, <a class="reference internal" href="Functions.html#psyneulink.core.components.functions.function.RandomMatrix" title="psyneulink.core.components.functions.function.RandomMatrix"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RandomMatrix</span></code></a> or MATRIX_KEYWORD : default None) – specifies matrix to use for any unspecified Projections (overrides default matrix for <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>)
if a default projection is not otherwise specified (see <a class="reference internal" href="Pathway.html#pathway-specification-projections"><span class="std std-ref">Projection Specifications</span></a>;
see <a class="reference internal" href="MappingProjection.html#mappingprojection-matrix-specification"><span class="std std-ref">Specifying the Matrix Parameter</span></a> for details of specification)</p></li>
<li><p><strong>learning_rate</strong> (<em>float : default 0.05</em>) – specifies the <code class="xref any docutils literal notranslate"><span class="pre">learning_rate</span></code> used for the <code class="xref any docutils literal notranslate"><span class="pre">ReinforcementLearning</span></code>
function of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> in the <strong>pathway</strong> (see <a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a> for additional
details).</p></li>
<li><p><strong>error_function</strong> (<em>function : default LinearCombination</em>) – specifies the function assigned to <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> used to compute the error from the target and
the output (<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>) of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="psyneulink.core.compositions.composition.NodeRole.TARGET"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TARGET</span></code></a> Mechanism in the <strong>pathway</strong>).</p></li>
<li><p><strong>learning_update</strong> (<em>Optional</em><em>[</em><em>bool</em><em>|</em><em>ONLINE</em><em>|</em><em>AFTER</em><em>] </em><em>: default AFTER</em>) – specifies when the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the <a class="reference internal" href="KohonenMechanism.html#psyneulink.library.components.mechanisms.processing.transfer.kohonenmechanism.KohonenMechanism.learned_projection" title="psyneulink.library.components.mechanisms.processing.transfer.kohonenmechanism.KohonenMechanism.learned_projection"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learned_projection</span></code></a> is updated
in each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> when the Composition executes;  it is assigned as the default value for
the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> attribute of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> in the pathway, and its <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a> (see <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> for meaning of values).</p></li>
<li><p><strong>name</strong> (<em>str :</em>) – species the name used for <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>; supersedes <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.name" title="psyneulink.core.compositions.pathway.Pathway.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> of <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> object if it is has one.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Reinforcement <code class="xref any docutils literal notranslate"><span class="pre">learning</span> <span class="pre">Pathway</span></code> &lt;Composition_Learning_Pathway&gt;` added to the Composition.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_td_learning_pathway">
<span class="sig-name descname"><span class="pre">add_td_learning_pathway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathway</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'online'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_projection_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_td_learning_pathway" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that calls <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_learning_pathway</span></code></a> with <strong>learning_function</strong> = <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.TDLearning" title="psyneulink.core.components.functions.learningfunctions.TDLearning"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TDLearning</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathway</strong> (<em>List</em>) – list containing either [Node1, Node2] or [Node1, MappingProjection, Node2]. If a projection is
specified, that projection is the learned projection. Otherwise, a default MappingProjection is
automatically generated for the learned projection.</p></li>
<li><p><strong>learning_rate</strong> (<em>float : default 0.05</em>) – specifies the <code class="xref any docutils literal notranslate"><span class="pre">learning_rate</span></code> used for the <a class="reference internal" href="LearningFunctions.html#psyneulink.core.components.functions.learningfunctions.TDLearning" title="psyneulink.core.components.functions.learningfunctions.TDLearning"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TDLearning</span></code></a> function of the
<a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> in the <strong>pathway</strong> (see <a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a> for details).</p></li>
<li><p><strong>error_function</strong> (<em>function : default LinearCombination</em>) – specifies the function assigned to <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> used to compute the error from the target and
the output (<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>) of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="psyneulink.core.compositions.composition.NodeRole.TARGET"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TARGET</span></code></a> Mechanism in the <strong>pathway</strong>).</p></li>
<li><p><strong>learning_update</strong> (<em>Optional</em><em>[</em><em>bool</em><em>|</em><em>ONLINE</em><em>|</em><em>AFTER</em><em>] </em><em>: default AFTER</em>) – specifies when the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the <a class="reference internal" href="KohonenMechanism.html#psyneulink.library.components.mechanisms.processing.transfer.kohonenmechanism.KohonenMechanism.learned_projection" title="psyneulink.library.components.mechanisms.processing.transfer.kohonenmechanism.KohonenMechanism.learned_projection"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learned_projection</span></code></a> is updated
in each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> when the Composition executes;  it is assigned as the default value for
the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> attribute of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> in the pathway, and its <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a> (see <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> for meaning of values).</p></li>
<li><p><strong>default_projection_matrix</strong> (list, array, function, <a class="reference internal" href="Functions.html#psyneulink.core.components.functions.function.RandomMatrix" title="psyneulink.core.components.functions.function.RandomMatrix"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RandomMatrix</span></code></a> or MATRIX_KEYWORD : default None) – specifies matrix to use for any unspecified Projections (overrides default matrix for <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>)
if a default projection is not otherwise specified (see <a class="reference internal" href="Pathway.html#pathway-specification-projections"><span class="std std-ref">Projection Specifications</span></a>;
see <a class="reference internal" href="MappingProjection.html#mappingprojection-matrix-specification"><span class="std std-ref">Specifying the Matrix Parameter</span></a> for details of specification)</p></li>
<li><p><strong>name</strong> (<em>str :</em>) – species the name used for <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>; supersedes <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.name" title="psyneulink.core.compositions.pathway.Pathway.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> of <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> object if it is has one.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TD Reinforcement <code class="xref any docutils literal notranslate"><span class="pre">learning</span> <span class="pre">Pathway</span></code> &lt;Composition_Learning_Pathway&gt;` added to the Composition.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway">
<span class="sig-name descname"><span class="pre">add_backpropagation_learning_pathway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathway</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss_spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Loss.MSE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'after'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_projection_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_backpropagation_learning_pathway" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that calls <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_learning_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_learning_pathway</span></code></a> with <strong>learning_function</strong> = <code class="xref any docutils literal notranslate"><span class="pre">Backpropagation</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathway</strong> (<em>List</em>) – specifies nodes of the <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> for the <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathway</span></a> (see
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway" title="psyneulink.core.compositions.composition.Composition.add_linear_processing_pathway"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">add_linear_processing_pathway</span></code></a> for details of specification).  Any <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjections</span></a> specified or constructed for the Pathway are assigned as <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learned_projections" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learned_projections"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learned_projections</span></code></a>.</p></li>
<li><p><strong>learning_rate</strong> (<em>float : default 0.05</em>) – specifies the <code class="xref any docutils literal notranslate"><span class="pre">learning_rate</span></code> used for the <code class="xref any docutils literal notranslate"><span class="pre">Backpropagation</span></code> function
of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> in the <strong>pathway</strong> (see <a class="reference internal" href="#composition-learning-rate"><span class="std std-ref">Learning Rate</span></a> for
additional details).</p></li>
<li><p><strong>error_function</strong> (<em>function : default LinearCombination</em>) – specifies the function assigned to <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> used to compute the error from the target and the
output (<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>) of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="psyneulink.core.compositions.composition.NodeRole.TARGET"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TARGET</span></code></a> (last) Mechanism in the <strong>pathway</strong>).</p></li>
<li><p><strong>loss_spec</strong> (<em>Loss : default Loss.MSE</em>) – specifies the loss function used in computing the error term;  see <a class="reference internal" href="Keywords.html#psyneulink.core.globals.keywords.Loss" title="psyneulink.core.globals.keywords.Loss"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loss</span></code></a> for values.</p></li>
<li><p><strong>learning_update</strong> (<em>Optional</em><em>[</em><em>bool</em><em>|</em><em>ONLINE</em><em>|</em><em>AFTER</em><em>] </em><em>: default AFTER</em>) – specifies when the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameters of the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learned_projections" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learned_projections"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learned_projections</span></code></a> are updated
in each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> when the Composition executes;  it is assigned as the default value for
the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> attribute of the <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanisms</span></a> in the pathway, and their <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjections</span></a>
(see <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.learning_enabled"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_enabled</span></code></a> for meaning of values).</p></li>
<li><p><strong>default_projection_matrix</strong> (list, array, function, <a class="reference internal" href="Functions.html#psyneulink.core.components.functions.function.RandomMatrix" title="psyneulink.core.components.functions.function.RandomMatrix"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RandomMatrix</span></code></a> or MATRIX_KEYWORD : default None) – specifies matrix to use for any unspecified Projections (overrides default matrix for <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>)
if a default projection is not otherwise specified (see <a class="reference internal" href="Pathway.html#pathway-specification-projections"><span class="std std-ref">Projection Specifications</span></a>;
see <a class="reference internal" href="MappingProjection.html#mappingprojection-matrix-specification"><span class="std std-ref">Specifying the Matrix Parameter</span></a> for details of specification)</p></li>
<li><p><strong>name</strong> (<em>str :</em>) – species the name used for <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a>; supersedes <a class="reference internal" href="Pathway.html#psyneulink.core.compositions.pathway.Pathway.name" title="psyneulink.core.compositions.pathway.Pathway.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> of <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> object if it is has one.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>BackPropagation <code class="xref any docutils literal notranslate"><span class="pre">learning</span> <span class="pre">Pathway</span></code> &lt;Composition_Learning_Pathway&gt;` added to the Composition.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._create_learning_related_mechanisms">
<span class="sig-name descname"><span class="pre">_create_learning_related_mechanisms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_source_output_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_source_input_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learned_projection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_update</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._create_learning_related_mechanisms" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates <em>TARGET_MECHANISM</em>, <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> and <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a> for RL and TD learning</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._create_learning_related_projections">
<span class="sig-name descname"><span class="pre">_create_learning_related_projections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_source_output_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_source_input_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_mechanism</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._create_learning_related_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct MappingProjections among <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">learning components</span></a> for pathway</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._create_learning_projection">
<span class="sig-name descname"><span class="pre">_create_learning_projection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">learning_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learned_projection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._create_learning_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct LearningProjections from LearningMechanisms to learned_projections in a learning pathway</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="LearningProjection.html#psyneulink.core.components.projections.modulatory.learningprojection.LearningProjection" title="psyneulink.core.components.projections.modulatory.learningprojection.LearningProjection"><code class="xref py py-class docutils literal notranslate"><span class="pre">LearningProjection</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._create_terminal_backprop_learning_components">
<span class="sig-name descname"><span class="pre">_create_terminal_backprop_learning_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learned_projection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_update</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._create_terminal_backprop_learning_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Create ComparatorMechanism, LearningMechanism and LearningProjection for Component in learning Pathway</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_back_prop_error_sources">
<span class="sig-name descname"><span class="pre">_get_back_prop_error_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">efferents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_mech</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_back_prop_error_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Add any LearningMechanisms associated with efferent projection from output_source</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.add_controller">
<span class="sig-name descname"><span class="pre">add_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.add_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a> as the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> of the Composition.</p>
<p>This gives the ControlMechanism access to the <a class="reference internal" href="#"><span class="doc">Composition</span></a>’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.evaluate" title="psyneulink.core.compositions.composition.Composition.evaluate"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">evaluate</span></code></a> method. This
allows subclasses of ControlMechanism that can use this (such as <a class="reference internal" href="OptimizationControlMechanism.html"><span class="doc">OptimizationControlMechanism</span></a>) to execute
<a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a> of the Composition (that is, executions in an
<a class="reference internal" href="#composition-execution-context"><span class="std std-ref">execution context</span></a> separate from the one used by the <a class="reference internal" href="#composition-execution-methods"><span class="std std-ref">execution method</span></a> called by the user) to evaluate the influence of parameters on performance.</p>
<p>It also assigns a <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignal</span></a> for any <a class="reference internal" href="Parameters.html"><span class="doc">Parameters</span></a> of a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> <a class="reference internal" href="ParameterPort.html#parameterport-value-specification"><span class="std std-ref">specified for control</span></a>, and a <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a> to its correponding <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPort</span></a>.</p>
<p>The ControlMechanism is assigned the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.CONTROLLER" title="psyneulink.core.compositions.composition.NodeRole.CONTROLLER"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">CONTROLLER</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._instantiate_deferred_init_control">
<span class="sig-name descname"><span class="pre">_instantiate_deferred_init_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._instantiate_deferred_init_control" title="Permalink to this definition">¶</a></dt>
<dd><p>If node is a Composition with a controller, activate its nodes’ deferred init control specs for its controller.
If it does not have a controller, but self does, activate them for self’s controller.</p>
<p>If node is a Node that has deferred init control specs and self has a controller, activate the deferred init
control specs for self’s controller.</p>
<p>Called recursively on nodes that are nested Compositions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of hanging control specs that were not able to be assigned for a controller at any level of nesting.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_monitor_for_control_nodes">
<span class="sig-name descname"><span class="pre">_get_monitor_for_control_nodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_monitor_for_control_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict of {nodes : ControlMechanism that monitors it} for any nodes monitored for control in Composition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_control_signals_for_composition">
<span class="sig-name descname"><span class="pre">_get_control_signals_for_composition</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_control_signals_for_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of ControlSignals specified by Nodes in the Composition</p>
<p>Generate list of ControlSignal specifications from ParameterPorts of Mechanisms specified for control.
The specifications can be:</p>
<blockquote>
<div><p>ControlProjections (with deferred_init())
# FIX: 9/14/19 - THIS SHOULD ALREADY HAVE BEEN PARSED INTO ControlProjection WITH DEFFERRED_INIT:
#                OTHERWISE, NEED TO ADD HANDLING OF IT BELOW
ControlSignals (e.g., in a 2-item tuple specification for the parameter);
<em>CONTROL</em> keyword
Note:</p>
<blockquote>
<div><p>The initialization of the ControlProjection and, if specified, the ControlSignal
are completed in the call to controller_instantiate_control_signal() in add_controller.</p>
</div></blockquote>
</div></blockquote>
<p>Mechanism can be in the Composition itself, or in a nested Composition that does not have its own controller.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_controller">
<span class="sig-name descname"><span class="pre">_get_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Get controller for which the current Composition is an agent_rep.
Recursively search enclosing Compositions for controller if self does not have one.
Use context.composition if there is no controller.
This is needed for agent_rep that is nested within the Composition to which the controller belongs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._instantiate_control_projections">
<span class="sig-name descname"><span class="pre">_instantiate_control_projections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._instantiate_control_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Add any ControlProjections for control specified locally on nodes in Composition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._route_control_projection_through_intermediary_pcims">
<span class="sig-name descname"><span class="pre">_route_control_projection_through_intermediary_pcims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph_receiver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._route_control_projection_through_intermediary_pcims" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes as input a specification for a projection to a parameter port that is nested n-levels below its sender,
instantiates and activates ports and projections on intermediary pcims, and returns a new
projection specification from the original sender to the relevant input port of the pcim of the Composition
located in the same level of nesting.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._check_controller_initialization_status">
<span class="sig-name descname"><span class="pre">_check_controller_initialization_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._check_controller_initialization_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks initialization status of controller (if applicable) all Projections or Ports in the Composition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">predicted_input=None</span></em>, <em class="sig-param"><span class="pre">control_allocation=None</span></em>, <em class="sig-param"><span class="pre">num_trials=1</span></em>, <em class="sig-param"><span class="pre">runtime_params=None</span></em>, <em class="sig-param"><span class="pre">base_context=&lt;psyneulink.core.globals.context.Context</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">context=None</span></em>, <em class="sig-param"><span class="pre">execution_mode=ExecutionMode.Python</span></em>, <em class="sig-param"><span class="pre">return_results=False</span></em>, <em class="sig-param"><span class="pre">block_simulate=False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Run Composition and compute <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.net_outcome" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.net_outcome"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">net_outcomes</span></code></a></p>
<blockquote>
<div><p>Runs the <a class="reference internal" href="#"><span class="doc">Composition</span></a> in simulation mode (i.e., excluding its <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a>)
using the <strong>predicted_input</strong> (state_feature_values and specified <strong>control_allocation</strong> for each run.
The Composition is run for <strong>*num_trials</strong>.</p>
<p>If <strong>predicted_input</strong> is not specified, and <code class="xref any docutils literal notranslate"><span class="pre">block_simulate</span></code> is set to True, the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> attempts to use the entire input set provided to the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>
method of the <a class="reference internal" href="#"><span class="doc">Composition</span></a> as input for the call to <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>. If it is not, the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> uses the inputs slated for its next or previous execution, depending on whether the
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller_mode" title="psyneulink.core.compositions.composition.Composition.controller_mode"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller_mode</span></code></a> of the <a class="reference internal" href="#"><span class="doc">Composition</span></a> is set to <code class="xref any docutils literal notranslate"><span class="pre">before</span></code> or <code class="xref any docutils literal notranslate"><span class="pre">after</span></code>,
respectively.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<blockquote>
<div><p>Block simulation can not be used if the Composition’s stimuli were specified as a generator.
If <code class="xref any docutils literal notranslate"><span class="pre">block_simulate</span></code> is set to True and the input type for the Composition was a generator,
block simulation will be disabled for the current execution of <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.evaluate" title="psyneulink.core.compositions.composition.Composition.evaluate"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">evaluate</span></code></a>.</p>
</div></blockquote>
<p>The <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.net_outcome" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.net_outcome"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">net_outcome</span></code></a> for each run is calculated using the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a>’s &lt;ControlMechanism.compute_net_outcome&gt;` function.  Each run is executed
independently, using the same <strong>predicted_inputs</strong> and <strong>control_allocation</strong>, and a randomly and
independently sampled seed for the random number generator.  All values are reset to pre-simulation
values at the end of the simulation.</p>
<p>Returns the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.net_outcome" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.net_outcome"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">net_outcome</span></code></a> of a run of the <a class="reference internal" href="OptimizationControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.optimizationcontrolmechanism.OptimizationControlMechanism.agent_rep" title="psyneulink.core.components.mechanisms.modulatory.control.optimizationcontrolmechanism.OptimizationControlMechanism.agent_rep"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">agent_rep</span></code></a>. If <strong>return_results</strong> is True,
an array with the results of each run is also returned.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._is_preparing">
<span class="sig-name descname"><span class="pre">_is_preparing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._is_preparing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the composition is currently preparing to execute (run or learn)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._infer_target_nodes">
<span class="sig-name descname"><span class="pre">_infer_target_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_mode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._infer_target_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps targets onto target mechanisms (as needed by learning)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dict mapping TargetMechanisms -&gt; target values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_learning_spec">
<span class="sig-name descname"><span class="pre">_parse_learning_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_learning_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts learning inputs and targets to a standardized form</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code> – Dict mapping mechanisms to values (with TargetMechanisms inferred from output nodes if needed)</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">int</span></code> – Number of input sets in dict for each input node in the Composition</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_generator_function">
<span class="sig-name descname"><span class="pre">_parse_generator_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_generator_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates and parses generator from generator function</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">generator</span></code> – Generator instance that will be used to yield inputs</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">int</span></code> – a large int (sys.maxsize), used in place of the number of input sets, since it is impossible to determine
a priori how many times a generator will yield</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_generator">
<span class="sig-name descname"><span class="pre">_parse_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_generator" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">generator</span></code> – Generator instance that will be used to yield inputs</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">int</span></code> – a large int (sys.maxsize), used in place of the number of input sets, since it is impossible to determine
a priori how many times a generator will yield</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_list">
<span class="sig-name descname"><span class="pre">_parse_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Validates that conditions are met to use a list as input, i.e. that there is only one input node. If so, convert</dt><dd><p>list to input dict and parse</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code> – Parsed and standardized input dict</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">int</span></code> – Number of input sets in dict for each input node in the Composition</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_string">
<span class="sig-name descname"><span class="pre">_parse_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that conditions are met to use a string as input, i.e. that there is only one input node and that
node’s default input port has a label matching the provided string. If so, convert the string to an input
dict and parse.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code> – Parsed and standardized input dict</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">int</span></code> – Number of input sets in dict for each input node in the Composition</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_function">
<span class="sig-name descname"><span class="pre">_parse_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_function" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><a class="reference internal" href="EpisodicMemoryMechanism.html#psyneulink.library.components.mechanisms.processing.integrator.episodicmemorymechanism.EpisodicMemoryMechanism.function" title="psyneulink.library.components.mechanisms.processing.integrator.episodicmemorymechanism.EpisodicMemoryMechanism.function"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">function</span></code></a> – Function that will be used to yield inputs</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">int</span></code> – Functions must always return 1 trial of input per call, so this always returns 1</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._validate_single_input">
<span class="sig-name descname"><span class="pre">_validate_single_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">receiver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._validate_single_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a single input for a single receiver.
If the input is specified without an outer list (i.e. Composition.run(inputs = [1, 1]) instead of</p>
<blockquote>
<div><p>Composition.run(inputs = [[1], [1]]), add an extra dimension to the input</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The input, with an added dimension if necessary, if the input is valid. <code class="xref any docutils literal notranslate"><span class="pre">None</span></code> if the input is not valid.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">None</span></code> or <code class="xref any docutils literal notranslate"><span class="pre">np.ndarray</span></code> or <code class="xref any docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_input_dict">
<span class="sig-name descname"><span class="pre">_parse_input_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_input_dict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Validate and parse a dict provided as input to a Composition into a standardized form to be used throughout</dt><dd><p>its execution</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code> – Parsed and standardized input dict</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">int</span></code> – Number of input sets (i.e., trials’ worths of inputs) in dict for each input node in the Composition</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_labels">
<span class="sig-name descname"><span class="pre">_parse_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mech</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Traverse input dict and resolve any input or output labels to their numeric values
If <strong>port</strong> is passed, inputs is only for a single port, so manage accordingly</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The input dict, with inputs with labels replaced by corresponding numeric values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._validate_input_dict_keys">
<span class="sig-name descname"><span class="pre">_validate_input_dict_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._validate_input_dict_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that keys of inputs are all legal:
- they are all InputPorts, Mechanisms or Compositions;
- they are all (or InputPorts of) INPUT Nodes of Composition at any level of nesting;
- an InputPort and the Mechanism to which it belongs are not <em>both</em> specified;
- an InputPort of an input_CIM and the Composition to which it belongs are not <em>both</em> specified;
- an InputPort or Mechanism and any Composition under which it is nested are not <em>both</em> specified.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._instantiate_input_dict">
<span class="sig-name descname"><span class="pre">_instantiate_input_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._instantiate_input_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement dict with all INPUT Nodes of Composition as keys and their assigned inputs or defaults as values
<strong>inputs</strong> can contain specifications for inputs to InputPorts, Mechanisms and/or nested Compositions,</p>
<blockquote>
<div><p>that can be at any level of nesting within self.</p>
</div></blockquote>
<p>Consolidate any entries of <strong>inputs</strong> with InputPorts as keys to Mechanism or Composition entries
If any INPUT Nodes of Composition are not included, add them to the input_dict using their default values.
InputPort entries must specify either a single trial or the same number as all other InPorts for that Node:</p>
<blockquote>
<div><ul class="simple">
<li><p>preprocess InputPorts for a Node to determine maximum number of trials specified, and use to set mech_shape</p></li>
<li><p>if more than one trial is specified for any InputPort, assign fillers to ones that specify only one trial</p></li>
</ul>
<p>(this does not apply to Mechanism or Composition specifications, as they are tested in validate_input_shapes)</p>
</div></blockquote>
<p>Return input_dict, with added entries for any INPUT Nodes or InputPorts for which input was not provided</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._flatten_nested_dicts">
<span class="sig-name descname"><span class="pre">_flatten_nested_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._flatten_nested_dicts" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Converts inputs provided in the form of a dict for a nested Composition to a list corresponding to the</dt><dd><p>Composition’s input CIM ports</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The input dict, with nested dicts corresponding to nested Compositions converted to lists</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._validate_input_shapes_and_expand_for_all_trials">
<span class="sig-name descname"><span class="pre">_validate_input_shapes_and_expand_for_all_trials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._validate_input_shapes_and_expand_for_all_trials" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates that all inputs provided in input dict are valid</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The input dict, with shapes corrected if necessary.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_run_inputs">
<span class="sig-name descname"><span class="pre">_parse_run_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_run_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes user-provided input for entire run and parses it according to its type</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Parsed input dict</em></p></li>
<li><p><em>The number of inputs sets included in the input</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_trial_inputs">
<span class="sig-name descname"><span class="pre">_parse_trial_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_trial_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts inputs for a single trial and parses it in accordance with its type
Note: this method is intended to run BEFORE a call to Composition.execute</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Input dict parsed for a single trial of a Composition’s execution</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._validate_execution_inputs">
<span class="sig-name descname"><span class="pre">_validate_execution_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._validate_execution_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates and returns the formatted input dict for a single execution</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Input dict parsed for a single trial of a Composition’s execution</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">inputs=None</span></em>, <em class="sig-param"><span class="pre">num_trials=None</span></em>, <em class="sig-param"><span class="pre">initialize_cycle_values=None</span></em>, <em class="sig-param"><span class="pre">reset_stateful_functions_to=None</span></em>, <em class="sig-param"><span class="pre">reset_stateful_functions_when=&lt;psyneulink.core.scheduling.condition.Never</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">skip_initialization=False</span></em>, <em class="sig-param"><span class="pre">clamp_input='soft_clamp'</span></em>, <em class="sig-param"><span class="pre">runtime_params=None</span></em>, <em class="sig-param"><span class="pre">call_before_time_step=None</span></em>, <em class="sig-param"><span class="pre">call_after_time_step=None</span></em>, <em class="sig-param"><span class="pre">call_before_pass=None</span></em>, <em class="sig-param"><span class="pre">call_after_pass=None</span></em>, <em class="sig-param"><span class="pre">call_before_trial=None</span></em>, <em class="sig-param"><span class="pre">call_after_trial=None</span></em>, <em class="sig-param"><span class="pre">termination_processing=None</span></em>, <em class="sig-param"><span class="pre">skip_analyze_graph=False</span></em>, <em class="sig-param"><span class="pre">report_output=ReportOutput.OFF</span></em>, <em class="sig-param"><span class="pre">report_params=ReportParams.OFF</span></em>, <em class="sig-param"><span class="pre">report_progress=ReportProgress.OFF</span></em>, <em class="sig-param"><span class="pre">report_simulations=ReportSimulations.OFF</span></em>, <em class="sig-param"><span class="pre">report_to_devices=None</span></em>, <em class="sig-param"><span class="pre">animate=False</span></em>, <em class="sig-param"><span class="pre">log=False</span></em>, <em class="sig-param"><span class="pre">scheduler=None</span></em>, <em class="sig-param"><span class="pre">scheduling_mode=None</span></em>, <em class="sig-param"><span class="pre">execution_mode=ExecutionMode.Python</span></em>, <em class="sig-param"><span class="pre">default_absolute_time_unit=None</span></em>, <em class="sig-param"><span class="pre">context=None</span></em>, <em class="sig-param"><span class="pre">base_context=&lt;psyneulink.core.globals.context.Context</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.run" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Pass inputs to Composition, then execute sets of nodes that are eligible to run until termination</dt><dd><p>conditions are met.</p>
<p>See <a class="reference internal" href="#composition-execution"><span class="std std-ref">Executing a Composition</span></a> for details of formatting input specifications.</p>
<p>Use <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_input_format" title="psyneulink.core.compositions.composition.Composition.get_input_format"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_input_format</span></code></a> method to see example of input format.</p>
<p>Use <strong>animate</strong> to generate a gif of the execution sequence.</p>
<dl class="simple">
<dt>inputs: Dict{<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a><span class="classifier">list}, function or generator</span><span class="classifier">default None specifies</span></dt><dd><p>the inputs to each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition in each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>
executed during the run (see <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">Composition Inputs</span></a> for additional information about format, and
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_input_format" title="psyneulink.core.compositions.composition.Composition.get_input_format"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_input_format</span></code></a> method for generating an example of the input format for
the Composition). If <strong>inputs</strong> is not specified, the <a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a> for
each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node is used as its input on <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a>.</p>
</dd>
<dt>num_trials<span class="classifier">int</span><span class="classifier">default 1</span></dt><dd><p>typically, the composition will infer the number of trials from the length of its input specification.
To reuse the same inputs across many trials, an input dictionary can be specified with lists of length 1,
or use default inputs, and select a number of trials with num_trials.</p>
</dd>
<dt>initialize_cycle_values<span class="classifier">Dict { Node: Node Value }</span><span class="classifier">default None</span></dt><dd><p>sets the value of specified <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> before the start of the run.  All specified
Nodes must be in a <a class="reference internal" href="#composition-graph"><span class="std std-ref">cycle</span></a> (i.e., designated with with <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole" title="psyneulink.core.compositions.composition.NodeRole"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NodeRole</span></code></a> <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.CYCLE" title="psyneulink.core.compositions.composition.NodeRole.CYCLE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">CYCLE</span></code></a>; otherwise, a warning is issued and the specification is ignored). If a Node in
a cycle is not specified, it is assigned its <a class="reference internal" href="Parameters.html#parameter-defaults"><span class="std std-ref">default values</span></a> when initialized
(see <a class="reference internal" href="#composition-cycles-and-feedback"><span class="std std-ref">Cycles and Feedback</span></a> additional details).</p>
</dd>
<dt>reset_stateful_functions_to<span class="classifier">Dict { Node</span><span class="classifier">Object | iterable [Object] }</span><span class="classifier">default None</span></dt><dd><p>object or iterable of objects to be passed as arguments to nodes’ reset methods when their
respective reset_stateful_function_when conditions are met. These are used to seed the stateful attributes
of Mechanisms that have stateful functions. If a node’s reset_stateful_function_when condition is set to
Never, but they are listed in the reset_stateful_functions_to dict, then they will be reset once at the
beginning of the run, using the provided values. For a more in depth explanation of this argument, see
<a class="reference internal" href="#composition-reset"><span class="std std-ref">Resetting Parameters of stateful</span></a>.</p>
</dd>
<dt>reset_stateful_functions_when<span class="classifier">Dict { Node: Condition } | Condition</span><span class="classifier">default Never()</span></dt><dd><p>if type is dict, sets the reset_stateful_function_when attribute for each key Node to its corresponding value
Condition. if type is Condition, sets the reset_stateful_function_when attribute for all nodes in the
Composition that currently have their reset_stateful_function_when conditions set to <a class="reference internal" href="Condition.html#psyneulink.core.scheduling.condition.Never" title="psyneulink.core.scheduling.condition.Never"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Never</span></code></a>.
in either case, the specified Conditions persist only for the duration of the run, after which the nodes’
reset_stateful_functions_when attributes are returned to their previous Conditions. For a more in depth
explanation of this argument, see <a class="reference internal" href="#composition-reset"><span class="std std-ref">Resetting Parameters of stateful</span></a>.</p>
</dd>
</dl>
<p>skip_initialization : bool : default False</p>
<dl class="simple">
<dt>clamp_input<span class="classifier">enum.Enum[SOFT_CLAMP|HARD_CLAMP|PULSE_CLAMP|NO_CLAMP]</span><span class="classifier">default SOFT_CLAMP</span></dt><dd><p>specifies how inputs are handled for the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>.</p>
</dd>
<dt>runtime_params<span class="classifier">Dict[Node: Dict[Parameter: Tuple(Value, Condition)]]</span><span class="classifier">default None</span></dt><dd><p>nested dictionary of (value, <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a>) tuples for parameters of Nodes (<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanisms</span></a> or
<a class="reference internal" href="#"><span class="doc">Compositions</span></a> of the Composition; specifies alternate parameter values to be used only
during this <a class="reference internal" href="Log.html#psyneulink.core.globals.log.LogCondition.RUN" title="psyneulink.core.globals.log.LogCondition.RUN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">RUN</span></code></a> when the specified <a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> is met (see <a class="reference internal" href="#composition-runtime-params"><span class="std std-ref">Runtime Parameters</span></a> for
additional informaton).</p>
</dd>
<dt>call_before_time_step<span class="classifier">callable</span><span class="classifier">default None</span></dt><dd><p>specifies fuction to call before each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a> is executed.</p>
</dd>
<dt>call_after_time_step<span class="classifier">callable</span><span class="classifier">default None</span></dt><dd><p>specifies fuction to call after each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a> is executed.</p>
</dd>
<dt>call_before_pass<span class="classifier">callable</span><span class="classifier">default None</span></dt><dd><p>specifies fuction to call before each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.PASS" title="psyneulink.core.scheduling.time.TimeScale.PASS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PASS</span></code></a> is executed.</p>
</dd>
<dt>call_after_pass<span class="classifier">callable</span><span class="classifier">default None</span></dt><dd><p>specifies fuction to call after each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.PASS" title="psyneulink.core.scheduling.time.TimeScale.PASS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PASS</span></code></a> is executed.</p>
</dd>
<dt>call_before_trial<span class="classifier">callable</span><span class="classifier">default None</span></dt><dd><p>specifies fuction to call before each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> is executed.</p>
</dd>
<dt>call_after_trial<span class="classifier">callable</span><span class="classifier">default None</span></dt><dd><p>specifies fuction to call after each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TRIAL</span></code></a> is executed.</p>
</dd>
<dt>termination_processing<span class="classifier">Condition</span><span class="classifier">default None</span></dt><dd><p>specifies <a class="reference internal" href="Scheduler.html#scheduler-termination-conditions"><span class="std std-ref">termination Conditions</span></a>
to be used for the current <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.RUN" title="psyneulink.core.scheduling.time.TimeScale.RUN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">RUN</span></code></a>. To change these conditions for all future runs,
use <code class="xref any docutils literal notranslate"><span class="pre">Composition.termination_processing</span></code> (or <a class="reference internal" href="Scheduler.html#psyneulink.core.scheduling.scheduler.Scheduler.termination_conds" title="psyneulink.core.scheduling.scheduler.Scheduler.termination_conds"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">Scheduler.termination_conds</span></code></a>)</p>
</dd>
<dt>skip_analyze_graph<span class="classifier">bool</span><span class="classifier">default False</span></dt><dd><p>setting to True suppresses call to _analyze_graph()</p>
</dd>
<dt>report_output<span class="classifier">ReportOutput</span><span class="classifier">default ReportOutput.OFF</span></dt><dd><p>specifies whether to show output of the Composition and its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> trial-by-trial as
it is generated; see <a class="reference internal" href="Report.html#report-output"><span class="std std-ref">Output Reporting</span></a> for additional details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportOutput" title="psyneulink.core.compositions.report.ReportOutput"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportOutput</span></code></a> for options.</p>
</dd>
<dt>report_params<span class="classifier">ReportParams</span><span class="classifier">default ReportParams.OFF</span></dt><dd><p>specifies whether to show values the <a class="reference internal" href="Parameters.html"><span class="doc">Parameters</span></a> of the Composition and its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
as part of the output report; see <a class="reference internal" href="Report.html#report-output"><span class="std std-ref">Output Reporting</span></a> for additional details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportParams" title="psyneulink.core.compositions.report.ReportParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportParams</span></code></a> for options.</p>
</dd>
<dt>report_progress<span class="classifier">ReportProgress</span><span class="classifier">default ReportProgress.OFF</span></dt><dd><p>specifies whether to report progress of execution in real time; see <a class="reference internal" href="Report.html#report-progress"><span class="std std-ref">Progress Reporting</span></a> for additional
details.</p>
</dd>
<dt>report_simulations<span class="classifier">ReportSimulations</span><span class="classifier">default ReportSimulatons.OFF</span></dt><dd><p>specifies whether to show output and/or progress for <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a>
executed by the Composition’s <a class="reference internal" href="#composition-controller"><span class="std std-ref">controller</span></a>; see <a class="reference internal" href="Report.html#report-simulations"><span class="std std-ref">Simulations</span></a> for
additional details.</p>
</dd>
<dt>report_to_devices<span class="classifier">list(ReportDevices)</span><span class="classifier">default ReportDevices.CONSOLE</span></dt><dd><p>specifies where output and progress should be reported; see <code class="xref any docutils literal notranslate"><span class="pre">Report_To_Devices</span></code> for additional
details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportDevices" title="psyneulink.core.compositions.report.ReportDevices"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportDevices</span></code></a> for options.</p>
</dd>
<dt>animate<span class="classifier">dict or bool</span><span class="classifier">default False</span></dt><dd><p>specifies use of the <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a> method to generate a gif movie showing the
sequence of Components executed in a run (see <a class="reference internal" href="BasicsAndPrimer.html#basicsandprimer-stroop-example-animation-figure"><span class="std std-ref">example</span></a>).
A dict can be specified containing options to pass to the <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a> method in
order to customize the display of the graph in the animation. Each key of the dict must be a legal argument
for the <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a> method, and its value a specification for that argument.
The entries listed below can also be included in the dict to specify parameters of the animation.
If the <strong>animate</strong> argument is specified simply as <code class="xref any docutils literal notranslate"><span class="pre">True</span></code>, defaults are used for all arguments
of <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph</span></code></a> and the options below.  See <a class="reference internal" href="Visualization.html#showgraph-animation"><span class="std std-ref">Animation</span></a>
for additional information.</p>
<ul class="simple">
<li><p><em>UNIT</em>: <em>EXECUTION_SET</em> or <em>COMPONENT</em> (default=<em>EXECUTION_SET</em>) – specifies which Components
to treat as active in each call to <a class="reference internal" href="Visualization.html#psyneulink.core.compositions.showgraph.ShowGraph.show_graph" title="psyneulink.core.compositions.showgraph.ShowGraph.show_graph"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">show_graph()</span></code></a>. <em>COMPONENT</em> generates an
image for the execution of each Component.  <em>EXECUTION_SET</em> generates an image for each <code class="xref any docutils literal notranslate"><span class="pre">execution_set</span></code>, showing all of the Components in that set as active.</p></li>
<li><p><em>DURATION</em>: float (default=0.75) – specifies the duration (in seconds) of each image in the movie.</p></li>
<li><p><em>NUM_RUNS</em>: int (default=1) – specifies the number of runs to animate;  by default, this is 1.
If the number specified is less than the total number of runs executed, only the number specified
are animated; if it is greater than the number of runs being executed, only the number being run are
animated.</p></li>
<li><p><em>NUM_TRIALS</em>: int (default=1) – specifies the number of trials to animate;  by default, this is 1.
If the number specified is less than the total number of trials being run, only the number specified
are animated; if it is greater than the number of trials being run, only the number being run are
animated.</p></li>
<li><p><em>MOVIE_DIR</em>: str or os.PathLike (default=PsyNeuLink root
dir or current dir) – specifies the directory to be used
for the movie file; by default a subdirectory of
&lt;MOVIE_DIR&gt;/pnl-show_graph-output/GIFs is created using
the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.name" title="psyneulink.core.compositions.composition.Composition.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> of the <a class="reference internal" href="#"><span class="doc">Composition</span></a>, and
the gif files are stored there.</p></li>
<li><p><em>MOVIE_NAME</em>: str (default=<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.name" title="psyneulink.core.compositions.composition.Composition.name"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> + ‘movie’) – specifies the name to be used
for the movie file; it is automatically appended with ‘.gif’.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<dl>
<dt>_</dt><dd><blockquote>
<div><ul class="simple">
<li><p><em>SAVE_IMAGES</em>: bool (default=<code class="xref any docutils literal notranslate"><span class="pre">False</span></code>) – specifies whether to save each of the images used to
construct the animation in separate gif files, in addition to the file containing the animation.</p></li>
<li><p><em>SHOW</em>: bool (default=<code class="xref any docutils literal notranslate"><span class="pre">False</span></code>) – specifies whether to show the animation after it is
constructed, using the OS’s default viewer.</p></li>
</ul>
</div></blockquote>
<dl>
<dt>log<span class="classifier">bool or LogCondition</span><span class="classifier">default False</span></dt><dd><p>Sets the <a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter.log_condition" title="psyneulink.core.globals.parameters.Parameter.log_condition"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">log_condition</span></code></a> for every primary <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.nodes" title="psyneulink.core.compositions.composition.Composition.nodes"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">node</span></code></a> and
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.projections" title="psyneulink.core.compositions.composition.Composition.projections"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">projection</span></code></a> in the Composition, if it is not already set.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As when setting the <a class="reference internal" href="Parameters.html#psyneulink.core.globals.parameters.Parameter.log_condition" title="psyneulink.core.globals.parameters.Parameter.log_condition"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">log_condition</span></code></a> directly, a value of <code class="xref any docutils literal notranslate"><span class="pre">True</span></code> will
correspond to the <a class="reference internal" href="Log.html#psyneulink.core.globals.log.LogCondition.EXECUTION" title="psyneulink.core.globals.log.LogCondition.EXECUTION"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">EXECUTION</span></code></a> <a class="reference internal" href="Log.html#psyneulink.core.globals.log.LogCondition.EXECUTION" title="psyneulink.core.globals.log.LogCondition.EXECUTION"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">LogCondition</span></code></a>.</p>
</div>
</dd>
<dt>scheduler<span class="classifier">Scheduler</span><span class="classifier">default None</span></dt><dd><p>the scheduler object that owns the conditions that will instruct the execution of the Composition.
If not specified, the Composition will use its automatically generated scheduler.</p>
</dd>
<dt>scheduling_mode<span class="classifier">SchedulingMode[STANDARD|EXACT_TIME]</span><span class="classifier">default None</span></dt><dd><p>if specified, sets the <a class="reference internal" href="Scheduler.html#psyneulink.core.scheduling.scheduler.SchedulingMode" title="psyneulink.core.scheduling.scheduler.SchedulingMode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">scheduling</span> <span class="pre">mode</span></code></a>
for the current and all future runs of the Composition. See
<a class="reference internal" href="Scheduler.html#scheduler-execution"><span class="std std-ref">Execution</span></a></p>
</dd>
<dt>execution_mode<span class="classifier">bool or ExecutionMode</span><span class="classifier">default ExecutionMode.Python</span></dt><dd><p>specifies whether to run using the Python interpreter or a <a class="reference internal" href="#composition-compilation"><span class="std std-ref">compiled mode</span></a>.
False uses the Python interpreter; True tries LLVM compilation modes, in order of power, progressively
reverting to less powerful modes (in the order of the options listed), and to Python if no compilation
mode succeeds;  see <a class="reference internal" href="LLVM.html#psyneulink.core.llvm.__init__.ExecutionMode" title="psyneulink.core.llvm.__init__.ExecutionMode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ExecutionMode</span></code></a> for other options, and <a class="reference internal" href="#composition-compilation-modes"><span class="std std-ref">Compilation Modes</span></a> for a more detailed explanation of their operation.</p>
</dd>
<dt>default_absolute_time_unit<span class="classifier"><code class="docutils literal notranslate"><span class="pre">pint.Quantity</span></code></span><span class="classifier"><code class="docutils literal notranslate"><span class="pre">1ms</span></code></span></dt><dd><p>if not otherwise determined by any absolute <strong>conditions</strong>, specifies the absolute duration
of a <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a>. See <a class="reference internal" href="Scheduler.html#psyneulink.core.scheduling.scheduler.Scheduler.default_absolute_time_unit" title="psyneulink.core.scheduling.scheduler.Scheduler.default_absolute_time_unit"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">Scheduler.default_absolute_time_unit</span></code></a></p>
</dd>
<dt>context<span class="classifier"><a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context.execution_id" title="psyneulink.core.globals.context.Context.execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">execution_id</span></code></a></span><span class="classifier">default <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.default_execution_id" title="psyneulink.core.compositions.composition.Composition.default_execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default_execution_id</span></code></a></span></dt><dd><p>context in which the <a class="reference internal" href="#"><span class="doc">Composition</span></a> will be executed;  set to self.default_execution_id ifunspecified.</p>
</dd>
<dt>base_context<span class="classifier"><a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context.execution_id" title="psyneulink.core.globals.context.Context.execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">execution_id</span></code></a></span><span class="classifier">Context(execution_id=None)</span></dt><dd><p>the context corresponding to the execution context from which this execution will be initialized,
if values currently do not exist for <strong>context</strong></p>
</dd>
</dl>
<dl>
<dt>2d list of values of OUTPUT Nodes at end of last trial<span class="classifier">list[list]</span></dt><dd><p>each item in the list is the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> for an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> of the Composition, listed in the order listed in <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.get_nodes_by_role" title="psyneulink.core.compositions.composition.Composition.get_nodes_by_role"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">get_nodes_by_role</span></code></a>(<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">NodeRole.OUTPUT</span></code></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attribute of the Composition contains a list of the outputs for all
trials.</p>
</div>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.learn">
<span class="sig-name descname"><span class="pre">learn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minibatch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizations_per_minibatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patience</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">ExecutionMode.Python</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize_minibatches</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">call_before_minibatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">call_after_minibatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the composition in learning mode - that is, any components with disable_learning False will be
executed in learning mode. See <a class="reference internal" href="#composition-learning"><span class="std std-ref">Learning in a Composition</span></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> ({<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>:list }) – <p>a dictionary containing a key-value pair for each <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> (Mechanism or Composition)
in the composition that receives inputs from the user. There are several equally valid ways that this
dict can be structured:</p>
<ol class="arabic simple">
<li><p>For each pair, the key is the  and the value is an input, the shape of which must match the Node’s
default variable. This is identical to the input dict in the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method
(see <a class="reference internal" href="#composition-input-dictionary"><span class="std std-ref">Input Dictionary</span></a> for additional details).</p></li>
<li><p>A dict with keys ‘inputs’, ‘targets’, and ‘epochs’. The <code class="xref any docutils literal notranslate"><span class="pre">inputs</span></code> key stores a dict that is the same
same structure as input specification (1) of learn. The <code class="xref any docutils literal notranslate"><span class="pre">targets</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">epochs</span></code> keys should contain
values of the same shape as <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">targets</span></code></a> and <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">epochs</span></code></a>.</p></li>
</ol>
</p></li>
<li><p><strong>targets</strong> ({<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>:list }) – a dictionary containing a key-value pair for each <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in the Composition that
receives target values as input to the Composition for training <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathways</span></a>. The key of each entry can be either the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">TARGET_MECHANISM</span></a> for a learning pathway or the final Node in that Pathway, and
the value is the target value used for that Node on each trial (see <a class="reference internal" href="#composition-target-inputs"><span class="std std-ref">target inputs</span></a> for additional details concerning the formatting of targets).</p></li>
<li><p><strong>num_trials</strong> (<em>int</em><em> (</em><em>default=None</em><em>)</em>) – typically, the Composition infers the number of trials to execute from the length of its input
specification.  However, <strong>num_trials</strong> can be used to enforce an exact number of trials to execute;
if it is greater than there are inputs then inputs will be repeated (see <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">Composition Inputs</span></a>
for additional information).</p></li>
<li><p><strong>epochs</strong> (<em>int</em><em> (</em><em>default=1</em><em>)</em>) – specifies the number of training epochs (that is, repetitions of the batched input set) to run with</p></li>
<li><p><strong>learning_rate</strong> (<em>float : default None</em>) – specifies the learning_rate used by all <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathways</span></a>
when the Composition’s learn method is called.  This overrides the <code class="xref any docutils literal notranslate"><span class="pre">learning_rate</span> <span class="pre">specified</span>
<span class="pre">for</span> <span class="pre">any</span> <span class="pre">individual</span> <span class="pre">Pathways</span> <span class="pre">at</span> <span class="pre">construction,</span> <span class="pre">but</span> <span class="pre">only</span> <span class="pre">applies</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">current</span> <span class="pre">execution</span> <span class="pre">of</span>
<span class="pre">the</span> <span class="pre">learn</span> <span class="pre">method</span> <span class="pre">(see</span> <span class="pre">`Composition_Learning_Rate</span></code> for additional details).</p></li>
<li><p><strong>minibatch_size</strong> (<em>int</em><em> (</em><em>default=1</em><em>)</em>) – specifies the number of inputs used to calculate the <a class="reference internal" href="LearningMechanism.html#psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal" title="psyneulink.core.components.mechanisms.modulatory.learning.learningmechanism.LearningMechanism.error_signal"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">error_signal</span></code></a>
for one step (gradient update) of learning, after which LearningMechanisms with learning mode TRIAL
will update the <a class="reference internal" href="MappingProjection.html#psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix" title="psyneulink.core.components.projections.pathway.mappingprojection.MappingProjection.matrix"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> parameter of the <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> for which
they are responsible; this overrides the Composition’s default value.</p></li>
<li><p><strong>optimizations_per_minibatch</strong> (<em>int</em><em> (</em><em>default=1</em><em>)</em>) – <p>specifies the number of executions and weight updates of learnable pathways that are carried out for
each set of stimuli in a <code class="xref any docutils literal notranslate"><span class="pre">minibatch</span></code>; this overrides the Composition’s
default value.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>This can be used to implement the <a class="reference external" href="https://web.stanford.edu/~jlmcc/papers/RogersMcCBook_7_03.pdf">backprop-to-activation proceedure</a> in which the <code class="xref any docutils literal notranslate"><span class="pre">backpropagation</span>
<span class="pre">learning</span> <span class="pre">algorithm</span></code> is used, with a high learning rate, to quickly search
for a pattern of activation in response to a given input (or set of inputs) that is useful for some
downstream purpose.</p>
</div>
</p></li>
<li><p><strong>randomize_minibatch</strong> (<em>bool</em><em> (</em><em>default=False</em><em>)</em>) – specifies whether the order of the input trials should be randomized in each epoch</p></li>
<li><p><strong>patience</strong> (<em>int</em><em> or </em><em>None</em><em> (</em><em>default=None</em><em>)</em>) – used for early stopping of training; If a model has more than <code class="xref any docutils literal notranslate"><span class="pre">patience</span></code> bad consecutive epochs,
then <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learn" title="psyneulink.core.compositions.composition.Composition.learn"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">learn</span></code></a> will prematurely return. A bad epoch is determined by the <code class="xref any docutils literal notranslate"><span class="pre">min_delta</span></code> value</p></li>
<li><p><strong>min_delta</strong> (<em>float</em><em> (</em><em>default=0</em><em>)</em>) – the minimum reduction in average loss that an epoch must provide in order to qualify as a ‘good’ epoch;
Any reduction less than this value is considered to be a bad epoch.
Used for early stopping of training, in combination with <code class="xref any docutils literal notranslate"><span class="pre">patience</span></code>.</p></li>
<li><p><strong>scheduler</strong> (<a class="reference internal" href="Scheduler.html#psyneulink.core.scheduling.scheduler.Scheduler" title="psyneulink.core.scheduling.scheduler.Scheduler"><em>Scheduler</em></a>) – the scheduler object that owns the conditions that will instruct the execution of the Composition
If not specified, the Composition will use its automatically generated scheduler.</p></li>
<li><p><strong>call_before_minibatch</strong> (<em>callable</em>) – called before each minibatch is executed</p></li>
<li><p><strong>call_after_minibatch</strong> (<em>callable</em>) – called after each minibatch is executed</p></li>
<li><p><strong>report_output</strong> (<em>ReportOutput : default ReportOutput.OFF</em>) – specifies whether to show output of the Composition and its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> trial-by-trial
as it is generated; see <a class="reference internal" href="Report.html#report-output"><span class="std std-ref">Output Reporting</span></a> for additional details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportOutput" title="psyneulink.core.compositions.report.ReportOutput"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportOutput</span></code></a> for options.</p></li>
<li><p><strong>report_params</strong> (<em>ReportParams : default ReportParams.OFF</em>) – specifies whether to show values the <a class="reference internal" href="Parameters.html"><span class="doc">Parameters</span></a> of the Composition and its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
as part of the output report; see <a class="reference internal" href="Report.html#report-output"><span class="std std-ref">Output Reporting</span></a> for additional details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportParams" title="psyneulink.core.compositions.report.ReportParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportParams</span></code></a> for options.</p></li>
<li><p><strong>report_progress</strong> (<em>ReportProgress : default ReportProgress.OFF</em>) – specifies whether to report progress of execution in real time; see <a class="reference internal" href="Report.html#report-progress"><span class="std std-ref">Progress Reporting</span></a> for additional
details.</p></li>
<li><p><strong>report_simulations</strong> (<em>ReportSimulatons : default ReportSimulations.OFF</em>) – specifies whether to show output and/or progress for <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a> executed by the Composition’s <a class="reference internal" href="#composition-controller"><span class="std std-ref">controller</span></a>; see <a class="reference internal" href="Report.html#report-simulations"><span class="std std-ref">Simulations</span></a> for additional details.</p></li>
<li><p><strong>report_to_devices</strong> (<em>list</em><em>(</em><a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportDevices" title="psyneulink.core.compositions.report.ReportDevices"><em>ReportDevices</em></a><em>) </em><em>: default ReportDevices.CONSOLE</em>) – specifies where output and progress should be reported; see <code class="xref any docutils literal notranslate"><span class="pre">Report_To_Device</span></code> for additional
details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportDevices" title="psyneulink.core.compositions.report.ReportDevices"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportDevices</span></code></a> for options.</p></li>
<li><p><strong>context</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context" title="psyneulink.core.globals.context.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>]) – context will be set to self.default_execution_id if unspecified</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>the results of the last trial of training</strong> (<em>list</em>)</p></li>
<li><p><em>.. note::</em> – the results of the final epoch of training are stored in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.learning_results" title="psyneulink.core.compositions.composition.Composition.learning_results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">learning_results</span></code></a> attribute.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">inputs=None</span></em>, <em class="sig-param"><span class="pre">scheduler=None</span></em>, <em class="sig-param"><span class="pre">termination_processing=None</span></em>, <em class="sig-param"><span class="pre">call_before_time_step=None</span></em>, <em class="sig-param"><span class="pre">call_before_pass=None</span></em>, <em class="sig-param"><span class="pre">call_after_time_step=None</span></em>, <em class="sig-param"><span class="pre">call_after_pass=None</span></em>, <em class="sig-param"><span class="pre">reset_stateful_functions_to=None</span></em>, <em class="sig-param"><span class="pre">context=None</span></em>, <em class="sig-param"><span class="pre">base_context=&lt;psyneulink.core.globals.context.Context</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">clamp_input='soft_clamp'</span></em>, <em class="sig-param"><span class="pre">runtime_params=None</span></em>, <em class="sig-param"><span class="pre">skip_initialization=False</span></em>, <em class="sig-param"><span class="pre">execution_mode=ExecutionMode.Python</span></em>, <em class="sig-param"><span class="pre">report_output=ReportOutput.OFF</span></em>, <em class="sig-param"><span class="pre">report_params=ReportParams.OFF</span></em>, <em class="sig-param"><span class="pre">report_progress=ReportProgress.OFF</span></em>, <em class="sig-param"><span class="pre">report_simulations=ReportSimulations.OFF</span></em>, <em class="sig-param"><span class="pre">report_to_devices=None</span></em>, <em class="sig-param"><span class="pre">report=None</span></em>, <em class="sig-param"><span class="pre">report_num=None</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Passes inputs to any <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> receiving inputs directly from the user (via the “inputs”
argument) then coordinates with the <a class="reference internal" href="Scheduler.html"><span class="doc">Scheduler</span></a> to execute sets of Nodes that are eligible to execute until
<a class="reference internal" href="Scheduler.html#scheduler-termination-conditions"><span class="std std-ref">termination conditions</span></a> are met.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> ({ <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>: list } : default None) – a dictionary containing a key-value pair for each <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> in the Composition that
receives inputs from the user. For each pair, the key is the <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> (a <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> or <a class="reference internal" href="#"><span class="doc">Composition</span></a>) and the value is an input, the shape of which must match the Node’s
default variable. If <strong>inputs</strong> is not specified, the <a class="reference internal" href="Component.html#component-variable"><span class="std std-ref">default_variable</span></a>
for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node is used as its input (see <a class="reference internal" href="#composition-execution-inputs"><span class="std std-ref">Input Formats</span></a> for
additional details).</p></li>
<li><p><strong>clamp_input</strong> (<em>SOFT_CLAMP : default SOFT_CLAMP</em>) – </p></li>
<li><p><strong>runtime_params</strong> (<em>Dict</em><em>[</em><em>Node: Dict</em><em>[</em><em>Parameter: Tuple</em><em>(</em><em>Value</em><em>, </em><a class="reference internal" href="Condition.html#psyneulink.core.scheduling.condition.Condition" title="psyneulink.core.scheduling.condition.Condition"><em>Condition</em></a><em>)</em><em>]</em><em>] </em><em>: default None</em>) – specifies alternate parameter values to be used only during this <a class="reference internal" href="Log.html#psyneulink.core.globals.log.LogCondition.EXECUTION" title="psyneulink.core.globals.log.LogCondition.EXECUTION"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">EXECUTION</span></code></a> when the specified
<a class="reference internal" href="Condition.html"><span class="doc">Condition</span></a> is met (see <a class="reference internal" href="#composition-runtime-params"><span class="std std-ref">Runtime Parameters</span></a> for more details and examples of valid
dictionaries).</p></li>
<li><p><strong>skip_initialization</strong> (<em>: default False</em>) – </p></li>
<li><p><strong>scheduler</strong> (<em>Scheduler : default None</em>) – the scheduler object that owns the conditions that will instruct the execution of the Composition
If not specified, the Composition will use its automatically generated scheduler.</p></li>
<li><p><strong>context</strong> (<a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context.execution_id" title="psyneulink.core.globals.context.Context.execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">execution_id</span></code></a> : default <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.default_execution_id" title="psyneulink.core.compositions.composition.Composition.default_execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default_execution_id</span></code></a>) – <a class="reference internal" href="#composition-execution-context"><span class="std std-ref">execution context</span></a> in which the <a class="reference internal" href="#"><span class="doc">Composition</span></a> will be executed.</p></li>
<li><p><strong>base_context</strong> (<a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context.execution_id" title="psyneulink.core.globals.context.Context.execution_id"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">execution_id</span></code></a> : Context(execution_id=None)) – the context corresponding to the <a class="reference internal" href="#composition-execution-context"><span class="std std-ref">execution context</span></a> from which this
execution will be initialized, if values currently do not exist for <strong>context</strong>.</p></li>
<li><p><strong>call_before_time_step</strong> (<em>callable : default None</em>) – called before each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a> is executed
passed the current <em>context</em> (but it is not necessary for your callable to take).</p></li>
<li><p><strong>call_after_time_step</strong> (<em>callable : default None</em>) – called after each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TIME_STEP" title="psyneulink.core.scheduling.time.TimeScale.TIME_STEP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TIME_STEP</span></code></a> is executed
passed the current <em>context</em> (but it is not necessary for your callable to take).</p></li>
<li><p><strong>call_before_pass</strong> (<em>callable : default None</em>) – called before each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.PASS" title="psyneulink.core.scheduling.time.TimeScale.PASS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PASS</span></code></a> is executed
passed the current <em>context</em> (but it is not necessary for your callable to take).</p></li>
<li><p><strong>call_after_pass</strong> (<em>callable : default None</em>) – called after each <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.PASS" title="psyneulink.core.scheduling.time.TimeScale.PASS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">PASS</span></code></a> is executed
passed the current <em>context</em> (but it is not necessary for your callable to take).</p></li>
<li><p><strong>execution_mode</strong> (<em>enum.Enum</em><em>[</em><em>Auto</em><em>|</em><em>LLVM</em><em>|</em><em>LLVMexec</em><em>|</em><em>Python</em><em>] </em><em>: default Python</em>) – specifies whether to run using the Python interpreter or a <a class="reference internal" href="#composition-compilation"><span class="std std-ref">compiled mode</span></a>.
see <strong>execution_mode</strong> argument of <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method for additional details.</p></li>
<li><p><strong>report_output</strong> (<em>ReportOutput : default ReportOutput.OFF</em>) – specifies whether to show output of the Composition and its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> for the
execution; see <a class="reference internal" href="Report.html#report-output"><span class="std std-ref">Output Reporting</span></a> for additional details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportOutput" title="psyneulink.core.compositions.report.ReportOutput"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportOutput</span></code></a> for options.</p></li>
<li><p><strong>report_params</strong> (<em>ReportParams : default ReportParams.OFF</em>) – specifies whether to show values the <a class="reference internal" href="Parameters.html"><span class="doc">Parameters</span></a> of the Composition and its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a>
for the execution; see <a class="reference internal" href="Report.html#report-output"><span class="std std-ref">Output Reporting</span></a> for additional details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportParams" title="psyneulink.core.compositions.report.ReportParams"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportParams</span></code></a> for options.</p></li>
<li><p><strong>report_progress</strong> (<em>ReportProgress : default ReportProgress.OFF</em>) – specifies whether to report progress of the execution; see <a class="reference internal" href="Report.html#report-progress"><span class="std std-ref">Progress Reporting</span></a> for additional details.</p></li>
<li><p><strong>report_simulations</strong> (<em>ReportSimulations : default ReportSimulations.OFF</em>) – specifies whether to show output and/or progress for <a class="reference internal" href="OptimizationControlMechanism.html#optimizationcontrolmechanism-execution"><span class="std std-ref">simulations</span></a> executed by the Composition’s <a class="reference internal" href="#composition-controller"><span class="std std-ref">controller</span></a>; see <a class="reference internal" href="Report.html#report-simulations"><span class="std std-ref">Simulations</span></a> for additional details.</p></li>
<li><p><strong>report_to_devices</strong> (<em>list</em><em>(</em><a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportDevices" title="psyneulink.core.compositions.report.ReportDevices"><em>ReportDevices</em></a><em>) </em><em>: default ReportDevices.CONSOLE</em>) – specifies where output and progress should be reported; see <code class="xref any docutils literal notranslate"><span class="pre">Report_To_Devices</span></code> for additional
details and <a class="reference internal" href="Report.html#psyneulink.core.compositions.report.ReportDevices" title="psyneulink.core.compositions.report.ReportDevices"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ReportDevices</span></code></a> for options.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>output_values</strong> (<em>np.ndarray</em>)</p></li>
<li><p><em>These are the values of the Composition’s output_CIM.output_ports, excluding those the source of which</em></p></li>
<li><p><em>are from a (potentially nested) Node with NodeRole.PROBE in its enclosing Composition.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_input_format">
<span class="sig-name descname"><span class="pre">get_input_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_nested_input_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_input_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict or string with format of dict used by <strong>inputs</strong> argument of <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>form</strong> (<em>DICT</em><em> or </em><em>TEXT : default DICT</em>) – specifies the form in which the exampple is returned; DICT (the default) returns a dict (with
<strong>num_trials</strong> worth of default values for each <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>)
formatted for use as the <strong>inputs</strong> arg of the Compositon’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method;
TEXT returns a user-readable text description of the format (optionally with inputs required for
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of any <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Compositions</span></a>
(see <strong>show_nested_input_nodes</strong> below).</p></li>
<li><p><strong>num_trials</strong> (<em>int</em><em> or </em><em>FULL : default 1</em>) – specifies number of trials’ worth of inputs to include in returned item.  If <em>FULL</em> is specified,
<strong>use_labels</strong> is automatically set to True, and <strong>num_trials</strong> is set to number of labels in the
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_label_dict</span></code></a> with the largest number of labels specified; if
none of the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Mechanisms in the Composition (including any nested ones) have an
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_label_dict</span></code></a> specified, <strong>num_trials</strong> is set to the default (1).</p></li>
<li><p><strong>use_labels</strong> (<em>bool : default False</em>) – <p>if True, shows labels instead of values for Mechanisms that have an <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_label_dict</span></code></a>.  For <strong>num_trials</strong> = 1, a representative label is
shown; for <strong>num_trials</strong> &gt; 1, a different label is used for each trial shown, cycling
through the set if <strong>num_trials</strong> is greater than the number of labels.  If <strong>num_trials</strong> = <em>FULL</em>,
trials will be included.</p>
<p>it is set to the number of labels in the largest list specified in any <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.input_labels_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">input_label_dict</span></code></a> specified for an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Mechanism;</p>
</p></li>
<li><p><strong>use_names</strong> (<em>bool : default False</em>) – use <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> name as key for Node if <strong>form</strong> = DICT.</p></li>
<li><p><strong>show_nested_input_nodes</strong> (<em>bool : default False</em>) – show hierarchical display of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> in <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Compositions</span></a>
with names of destination <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> and representative inputs,
followed by the actual format used for the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>Either a dict formatted appropriately for assignment as the <strong>inputs</strong> argument of the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.run" title="psyneulink.core.compositions.composition.Composition.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p></li>
<li><p><em>method (form = *DICT</em>, the default), or string showing the format required by the <strong>inputs</strong> argument*</p></li>
<li><p>&lt;Composition.run&gt;` (form = <em>TEXT</em>).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.get_results_by_nodes">
<span class="sig-name descname"><span class="pre">get_results_by_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.get_results_by_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ordered dict with origin Node and current value of each item in results.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Items are listed in the order of their values in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attribute,
irrespective of the order in which they appear in the <strong>nodes</strong> argument if specified.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>List</em><em>[</em><em>Mechanism</em><em> or </em><em>str</em><em>]</em><em>, </em><em>Mechanism</em><em> or </em><em>str : default None</em>) – specifies <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> for which to report the value; can be a reference to a Mechanism,
its name, or a list of either or both.  If None (the default), the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">values</span></code></a> of
all <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes are reported.</p></li>
<li><p><strong>use_names</strong> (<em>bool : default False</em>) – specifies whether to use the names of <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> rather than references to them as keys.</p></li>
<li><p><strong>use_labels</strong> (<em>bool : default False</em>) – specifies whether to use labels to report the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">values</span></code></a> of Nodes for <code class="xref any docutils literal notranslate"><span class="pre">Mechanisms</span>
<span class="pre">Mechanism</span></code> that have an <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_labels_dict" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_labels_dict"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_labels_dict</span></code></a> attribute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Node output_values</strong> – dict , the keys of which are either Mechanisms or the names of them, and values are their
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[Mechanism:value]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._update_results">
<span class="sig-name descname"><span class="pre">_update_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synch_with_pnl_options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._update_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Update results by appending most recent trial_output
This is included as a helper so it can be overriden by subclasses (such as AutodiffComposition)
that may need to do this less frequently for scallable exeuction</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_unspecified_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NotImplemented</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all stateful functions in the Composition to their initial values.</p>
<p>If <strong>values</strong> is provided, the <a class="reference internal" href="StatefulFunction.html#psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value" title="psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">previous_value</span></code></a> of the corresponding
<a class="reference internal" href="StatefulFunction.html"><span class="doc">stateful functions</span></a> are set to the values specified. If a value is not provided for a
given node, the <a class="reference internal" href="StatefulFunction.html#psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value" title="psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.previous_value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">previous_value</span></code></a> is set to the value of its <a class="reference internal" href="StatefulFunction.html#psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.initializer" title="psyneulink.core.components.functions.stateful.statefulfunction.StatefulFunction.initializer"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">initializer</span></code></a>.</p>
<p>If <strong>include_unspecified_nodes</strong> is False, then all nodes must have corresponding reset values.
The <code class="xref any docutils literal notranslate"><span class="pre">DEFAULT</span></code> keyword can be used in lieu of a numerical value to reset a node’s value to its default.</p>
<p>If <strong>clear_results</strong> is True, the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attribute is set to an empty list.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_unspecified_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the values of nodes within cycles.
If <code class="xref any docutils literal notranslate"><span class="pre">include_unspecified_nodes</span></code> is True and a value is provided for a given node, the node is initialized to
that value. If <code class="xref any docutils literal notranslate"><span class="pre">include_unspecified_nodes</span></code> is  True and a value is not provided, the node is initialized to
its default value. If <code class="xref any docutils literal notranslate"><span class="pre">include_unspecified_nodes</span></code> is False, then all nodes must have corresponding
initialization values. The <code class="xref any docutils literal notranslate"><span class="pre">DEFAULT</span></code> keyword can be used in lieu of a numerical value to reset a node’s value
to its default.</p>
<p>If a context is not provided, the most recent context under which the Composition has executed is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>Dict { Node: Node Value }</em>) – A dictionary containing key-value pairs of Nodes and initialization values. Nodes within cycles that are
not included in this dict are initialized to their default values.</p></li>
<li><p><strong>include_unspecified_nodes</strong> (<em>bool</em>) – Specifies whether all nodes within cycles should be initialized or only ones specified in the provided
values dictionary.</p></li>
<li><p><strong>context</strong> (<a class="reference internal" href="Context.html#psyneulink.core.globals.context.Context" title="psyneulink.core.globals.context.Context"><em>Context</em></a>) – The context under which the nodes should be initialized. context are set to
self.most_recent_execution_context if one is not specified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.disable_all_history">
<span class="sig-name descname"><span class="pre">disable_all_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.disable_all_history" title="Permalink to this definition">¶</a></dt>
<dd><p>When run, disables history tracking for all Parameters of all Components used in the Composition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._is_learning">
<span class="sig-name descname"><span class="pre">_is_learning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._is_learning" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the composition can learn in the given context</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._build_variable_for_input_CIM">
<span class="sig-name descname"><span class="pre">_build_variable_for_input_CIM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._build_variable_for_input_CIM" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign values from input dictionary to the InputPorts of the Input CIM, then execute the Input CIM</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._assign_execution_ids">
<span class="sig-name descname"><span class="pre">_assign_execution_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._assign_execution_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>assigns the same execution id to each Node in the composition’s processing graph as well as the CIMs.
he execution id is either specified in the user’s call to run(), or from the Composition’s
<strong>default_execution_id</strong></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._parse_runtime_params_conditions">
<span class="sig-name descname"><span class="pre">_parse_runtime_params_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runtime_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._parse_runtime_params_conditions" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate runtime_params and assign Always() for any params that don’t have a Condition already specified.
Recursively process subdicts (Port- or Project-specific dictionaries of params).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._get_satisfied_runtime_param_values">
<span class="sig-name descname"><span class="pre">_get_satisfied_runtime_param_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runtime_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._get_satisfied_runtime_param_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict with values for all runtime_params the Conditions of which are currently satisfied.
Recursively parse nested dictionaries for which Condition on dict is satisfied.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.as_mdf_model">
<span class="sig-name descname"><span class="pre">as_mdf_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simple_edge_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.as_mdf_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a ModECI MDF Model representing this Composition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simple_edge_format</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, Projections</p></li>
<li><p><strong>True.</strong> (<em>with non-identity matrices are constructed as . Defaults to</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a ModECI Model representing this Composition</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>modeci_mdf.Model</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.input_ports">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">input_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.input_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all InputPorts that belong to the Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.input_port">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">input_port</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.input_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index 0 InputPort that belongs to the Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.input_values">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">input_values</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.input_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return values of all InputPorts that belong to the Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.output_port">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">output_port</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.output_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index 0 OutputPort that belongs to the Output CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.output_ports">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">output_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.output_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all OutputPorts that belong to the Output CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id9">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">output_values</span></span><a class="headerlink" href="#id9" title="Permalink to this definition">¶</a></dt>
<dd><p>Return values of all OutputPorts that belong to the Output CompositionInterfaceMechanism in the most recently executed context</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.shadowing_dict">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">shadowing_dict</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.shadowing_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict with shadowing ports as the keys and the ports they shadow as values.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id10">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">external_input_shape</span></span><a class="headerlink" href="#id10" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for _default_external_input_shape</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._default_external_input_shape">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">_default_external_input_shape</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._default_external_input_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default_input_shape of all external InputPorts that belong to Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id11">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">external_input_variables</span></span><a class="headerlink" href="#id11" title="Permalink to this definition">¶</a></dt>
<dd><p>Return variables of all external InputPorts that belong to the Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.default_external_input_variables">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">default_external_input_variables</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.default_external_input_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default variables of all external InputPorts that belong to the Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id12">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">external_input_values</span></span><a class="headerlink" href="#id12" title="Permalink to this definition">¶</a></dt>
<dd><p>Return values of all external InputPorts that belong to the Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.default_external_input_values">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">default_external_input_values</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.default_external_input_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default values of all external InputPorts that belong to the Input CompositionInterfaceMechanism</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.stateful_nodes">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">stateful_nodes</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.stateful_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all nodes in the Composition that are currently marked as stateful. For Mechanisms, statefulness is
determined by checking whether node.has_initializers is True. For Compositions, statefulness is determined
by checking whether any of its <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> are stateful.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>all stateful nodes in the `Composition`</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.stateful_parameters">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">stateful_parameters</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.stateful_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all of this object’s <a class="reference internal" href="Parameters.html"><span class="doc">parameters</span></a> whose values
may change during runtime</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id13">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">random_variables</span></span><a class="headerlink" href="#id13" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of Components with seed Parameters (i.e., ones that that call a random function).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._dependent_components">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">_dependent_components</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._dependent_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a set of Components that will be executed if this Component is executed</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id14">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">is_nested</span></span><a class="headerlink" href="#id14" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether Composition is nested in another
Used in run() to decide whether to:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>initialize from context</p></li>
<li><p>assign values to CIM from input dict (if not nested) or simply execute CIM (if nested)</p></li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._sender_ports">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">_sender_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._sender_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
ContentAddressableList: list containing Ports on this object
that can send Projections</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition._receiver_ports">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">_receiver_ports</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition._receiver_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
ContentAddressableList: list containing Ports on this object
that can receive Projections</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Composition.show_graph">
<span class="sig-name descname"><span class="pre">show_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_node_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_nested</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nested'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_nested_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_cim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_controller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_learning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_dimensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_projection_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_projections_not_in_composition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Composition.show_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Patch to ShowGraph method
IMPLEMENTATION NOTE: arguments are listed explicitly so they show up in IDEs that support argument completion</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">psyneulink.core.compositions.composition.</span></span><span class="sig-name descname"><span class="pre">NodeRole</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole" title="Permalink to this definition">¶</a></dt>
<dd><p>Roles assigned to <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Nodes</span></a> of a <a class="reference internal" href="#"><span class="doc">Composition</span></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.ORIGIN">
<span class="sig-name descname"><span class="pre">ORIGIN</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that has no scheduling dependencies
on any other Nodes within its own <a class="reference internal" href="#"><span class="doc">Composition</span></a>. Typically,
an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> Node also do not receive any <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> from
any other Nodes
within its own <a class="reference internal" href="#"><span class="doc">Composition</span></a>, though if it is in a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a> it may
receive Projections from the outer Composition.  <a class="reference internal" href="#composition-execution"><span class="std std-ref">Execution of a `Composition</span></a>
always begins with an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> Node.  A Composition may have many <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> Nodes.  This role cannot be
modified programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.INPUT">
<span class="sig-name descname"><span class="pre">INPUT</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that receives input from outside its <a class="reference internal" href="#"><span class="doc">Composition</span></a>, either from the Composition’s
<code class="xref any docutils literal notranslate"><span class="pre">run</span></code> method or, if it is in a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a>, from the outer
Composition.  By default, the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> Nodes of a Composition are also its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes; however this can be
modified by <a class="reference internal" href="#composition-node-role-assignment"><span class="std std-ref">assigning specified NodeRoles</span></a> to Nodes.  A Composition can
have many <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Nodes.  Note that any Node that <a class="reference internal" href="InputPort.html#inputport-shadow-inputs"><span class="std std-ref">shadows</span></a> an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node is itself
also assigned the role of <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.PROBE">
<span class="sig-name descname"><span class="pre">PROBE</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.PROBE" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is neither <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> nor <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> but that is treated as an</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.SINGLETON">
<span class="sig-name descname"><span class="pre">SINGLETON</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.SINGLETON" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is both an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> and a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a>.  This role cannot be modified
programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.BIAS">
<span class="sig-name descname"><span class="pre">BIAS</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.BIAS" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> for which all of its <a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> are assigned <em>DEFAULT_VARIABLE</em>
as their <a class="reference internal" href="InputPort.html#psyneulink.core.components.ports.inputport.InputPort.default_input" title="psyneulink.core.components.ports.inputport.InputPort.default_input"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">default_input</span></code></a> (which provides a pre-specified input to each InputPort
that is constant across executions). Such a Node is always also an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a> Node (since it does not receive
Projections from any other Node) and never an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> Node (since it does not receive external input).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.INTERNAL">
<span class="sig-name descname"><span class="pre">INTERNAL</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.INTERNAL" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is neither <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INPUT" title="psyneulink.core.compositions.composition.NodeRole.INPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INPUT</span></code></a> nor <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a>.  Note that it <em>can</em> also be <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.ORIGIN" title="psyneulink.core.compositions.composition.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">ORIGIN</span></code></a>,
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.SINGLETON" title="psyneulink.core.compositions.composition.NodeRole.SINGLETON"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">SINGLETON</span></code></a>, if it has no <a class="reference internal" href="Mechanism.html#id8" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.afferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">afferent</span></code></a> or <a class="reference internal" href="Mechanism.html#id9" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.efferents"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">efferent</span></code></a> Projections or neither, respectively. This role cannot be modified programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.CYCLE">
<span class="sig-name descname"><span class="pre">CYCLE</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.CYCLE" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that belongs to a cycle. This role cannot be modified programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER">
<span class="sig-name descname"><span class="pre">FEEDBACK_SENDER</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_SENDER" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> with one or more efferent <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> designated as <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback</span></a> in the Composition.  This means that the Node executes last in the
sequence of Nodes that would otherwise form a <a class="reference internal" href="#composition-cycle-structure"><span class="std std-ref">cycle</span></a>. This role cannot be
modified directly, but is modified if the feedback status` of the Projection is <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">explicitly specified</span></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER">
<span class="sig-name descname"><span class="pre">FEEDBACK_RECEIVER</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.FEEDBACK_RECEIVER" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> with one or more afferent <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> designated as <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">feedback</span></a> in the Composition. This means that the Node executes first in the
sequence of Nodes that would otherwise form a <a class="reference internal" href="#composition-cycle-structure"><span class="std std-ref">cycle</span></a>. This role cannot be
modified directly, but is modified if the feedback status` of the Projection is <a class="reference internal" href="#composition-feedback-designation"><span class="std std-ref">explicitly specified</span></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.CONTROL_OBJECTIVE">
<span class="sig-name descname"><span class="pre">CONTROL_OBJECTIVE</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.CONTROL_OBJECTIVE" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> associated with a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a> other
than the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> (if it has one).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.CONTROLLER">
<span class="sig-name descname"><span class="pre">CONTROLLER</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.CONTROLLER" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> of a Composition.
This role cannot be modified programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.CONTROLLER_OBJECTIVE">
<span class="sig-name descname"><span class="pre">CONTROLLER_OBJECTIVE</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.CONTROLLER_OBJECTIVE" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> associated with a Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.LEARNING">
<span class="sig-name descname"><span class="pre">LEARNING</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.LEARNING" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is only executed when learning is enabled;  if it is not also assigned
<a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="psyneulink.core.compositions.composition.NodeRole.TARGET"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TARGET</span></code></a> or <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.LEARNING_OBJECTIVE" title="psyneulink.core.compositions.composition.NodeRole.LEARNING_OBJECTIVE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">LEARNING_OBJECTIVE</span></code></a>, then it is a <a class="reference internal" href="LearningMechanism.html"><span class="doc">LearningMechanism</span></a>. This role can, but generally should not be
modified programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.TARGET">
<span class="sig-name descname"><span class="pre">TARGET</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.TARGET" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that receives the target for a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning pathway</span></a> specifying the desired output of the <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">OUTPUT_MECHANISM</span></a> for that pathway (see <a class="reference internal" href="#composition-learning-components"><span class="std std-ref">TARGET_MECHANISM</span></a>).
This role can, but generally should not be modified programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.LEARNING_OBJECTIVE">
<span class="sig-name descname"><span class="pre">LEARNING_OBJECTIVE</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.LEARNING_OBJECTIVE" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is the <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> of a <a class="reference internal" href="#composition-learning-pathway"><span class="std std-ref">learning Pathway</span></a>; usually a <a class="reference internal" href="ComparatorMechanism.html"><span class="doc">ComparatorMechanism</span></a> (see <code class="xref any docutils literal notranslate"><span class="pre">OBJECTIVE_MECHANISM</span></code>). This role can,
but generally should not be modified programmatically.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">PROBE</span></span><a class="headerlink" href="#id15" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.INTERNAL" title="psyneulink.core.compositions.composition.NodeRole.INTERNAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">INTERNAL</span></code></a> <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> that is permitted to have Projections from it to the Composition’s
<a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.output_CIM" title="psyneulink.core.compositions.composition.Composition.output_CIM"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_CIM</span></code></a>, but – unlike an <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Node – the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of which are <em>not</em> included in the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attribute (see <code class="xref any docutils literal notranslate"><span class="pre">allow_probes</span></code> for an
example.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.OUTPUT">
<span class="sig-name descname"><span class="pre">OUTPUT</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_values"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">output_values</span></code></a> of which are included in
the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.results" title="psyneulink.core.compositions.composition.Composition.results"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> attribute.  By default, the <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Nodes of a
Composition are also its <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes; however this can be modified by <a class="reference internal" href="#composition-node-role-assignment"><span class="std std-ref">assigning specified NodeRoles</span></a> to Nodes.  A Composition can have many <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.OUTPUT" title="psyneulink.core.compositions.composition.NodeRole.OUTPUT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">OUTPUT</span></code></a> Nodes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.NodeRole.TERMINAL">
<span class="sig-name descname"><span class="pre">TERMINAL</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> on which no other Nodes have
scheduling dependencies within its own <a class="reference internal" href="#"><span class="doc">Composition</span></a>, excluding
<a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a>. Typically, a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Node does not send
any <a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a> to any other Nodes within
its own <a class="reference internal" href="#"><span class="doc">Composition</span></a>, though if it is in a <a class="reference internal" href="#composition-nested"><span class="std std-ref">nested Composition</span></a> it may send Projections
to the outer Composition. A Composition may have many <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Nodes. The <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> associated
with the Composition’s <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> (assigned the role <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.CONTROLLER_OBJECTIVE" title="psyneulink.core.compositions.composition.NodeRole.CONTROLLER_OBJECTIVE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">CONTROLLER_OBJECTIVE</span></code></a>)
cannot be a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Node of a Composition.  <a class="reference internal" href="#composition-execution"><span class="std std-ref">Execution of a Composition</span></a> itself
always ends with a <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Node, although the <a class="reference internal" href="#psyneulink.core.compositions.composition.Composition.controller" title="psyneulink.core.compositions.composition.Composition.controller"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">controller</span></code></a> and its associated
<a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> may execute after that; some <a class="reference internal" href="#psyneulink.core.compositions.composition.NodeRole.TERMINAL" title="psyneulink.core.compositions.composition.NodeRole.TERMINAL"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">TERMINAL</span></code></a> Nodes may also execute earlier (i.e., if they
belong to a <a class="reference internal" href="Pathway.html"><span class="doc">Pathway</span></a> that is shorter than the longest one in the Composition).
Nodes in a flattened cycle will be either all TERMINAL or all
not TERMINAL.
This role cannot be modified programmatically.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">psyneulink.core.compositions.composition.</span></span><span class="sig-name descname"><span class="pre">Graph</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph" title="Permalink to this definition">¶</a></dt>
<dd><p>A Graph of vertices and edges.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph.comp_to_vertex">
<span class="sig-name descname"><span class="pre">comp_to_vertex</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph.comp_to_vertex" title="Permalink to this definition">¶</a></dt>
<dd><p>maps <a class="reference internal" href="Component.html"><span class="doc">Component</span></a> in the graph to the <code class="xref any docutils literal notranslate"><span class="pre">Vertices</span></code> that represent them.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="Component.html"><span class="doc">Component</span></a> : <code class="xref any docutils literal notranslate"><span class="pre">Vertex</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph.vertices">
<span class="sig-name descname"><span class="pre">vertices</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph.vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>the <code class="xref any docutils literal notranslate"><span class="pre">Vertices</span></code> contained in this Graph;  each can be a <a class="reference internal" href="#composition-nodes"><span class="std std-ref">Node</span></a> or a
<code class="xref any docutils literal notranslate"><span class="pre">Projection</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[Vertex]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph.dependency_dict">
<span class="sig-name descname"><span class="pre">dependency_dict</span></span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph.dependency_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>maps each of the graph’s Components to the others from which it receives input
(i.e., their <a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>).  For a <code class="xref any docutils literal notranslate"><span class="pre">Node</span></code>, this is one or more
<a class="reference internal" href="Projection.html"><span class="doc">Projections</span></a>;  for a Projection, it is a single Node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="Component.html"><span class="doc">Component</span></a> : Set(<a class="reference internal" href="Component.html"><span class="doc">Component</span></a>)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph.copy" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>A copy of the Graph. <code class="xref any docutils literal notranslate"><span class="pre">Vertices</span></code> are distinct from their originals, and point to the same</p></li>
<li><p><strong>`Component &lt;Component&gt;` object</strong> (<a class="reference internal" href="#psyneulink.core.compositions.composition.Graph" title="psyneulink.core.compositions.composition.Graph"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph.get_parents_from_component">
<span class="sig-name descname"><span class="pre">get_parents_from_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph.get_parents_from_component" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component</strong> (<a class="reference internal" href="Component.html#psyneulink.core.components.component.Component" title="psyneulink.core.components.component.Component"><em>Component</em></a>) – the Component whose parents will be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of the parent <code class="xref any docutils literal notranslate"><span class="pre">Vertices</span></code> of the Vertex associated with <strong>component</strong>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[<code class="xref any docutils literal notranslate"><span class="pre">Vertex</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph.get_children_from_component">
<span class="sig-name descname"><span class="pre">get_children_from_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph.get_children_from_component" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component</strong> (<a class="reference internal" href="Component.html#psyneulink.core.components.component.Component" title="psyneulink.core.components.component.Component"><em>Component</em></a>) – the Component whose children will be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of the child <code class="xref any docutils literal notranslate"><span class="pre">Vertices</span></code> of the Vertex associated with <strong>component</strong>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[<code class="xref any docutils literal notranslate"><span class="pre">Vertex</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="psyneulink.core.compositions.composition.Graph.prune_feedback_edges">
<span class="sig-name descname"><span class="pre">prune_feedback_edges</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.core.compositions.composition.Graph.prune_feedback_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces an acyclic graph from this Graph. <code class="xref any docutils literal notranslate"><span class="pre">Feedback</span></code> edges are pruned, as well as
any edges that are <code class="xref any docutils literal notranslate"><span class="pre">potentially</span> <span class="pre">feedback</span></code> that are in cycles. After these edges are
removed, if cycles still remain, they are “flattened.” That is, each edge in the cycle is pruned, and
each the dependencies of each Node in the cycle are set to the pre-flattened union of all cyclic nodes’
parents that are themselves not in a cycle.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a tuple containing
- the acyclic dependency dictionary produced from this
Graph
- a dependency dictionary containing only the edges
removed to create the acyclic graph
- the unmodified cyclic dependency dictionary of this
Graph</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


             </article>
             
            </div>
            <footer>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jonathan D. Cohen.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="psyneulink-content-right" id="psyneulink-content-right">
          <div class="psyneulink-right-menu" id="psyneulink-right-menu">
            <div class="psyneulink-side-scroll" id="psyneulink-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Composition</a><ul>
<li><a class="reference internal" href="#contents">Contents</a></li>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#creating-a-composition">Creating a Composition</a><ul>
<li><a class="reference internal" href="#using-the-constructor"><em>Using the Constructor</em></a></li>
<li><a class="reference internal" href="#adding-components-and-pathways"><em>Adding Components and Pathways</em></a></li>
<li><a class="reference internal" href="#adding-nested-compositions"><em>Adding Nested Compositions</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#composition-structure">Composition Structure</a><ul>
<li><a class="reference internal" href="#graph"><em>Graph</em></a><ul>
<li><a class="reference internal" href="#acyclic-and-cyclic-graphs"><em>Acyclic and Cyclic Graphs</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes"><em>Nodes</em></a><ul>
<li><a class="reference internal" href="#bias-nodes"><em>BIAS Nodes</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nested-compositions"><em>Nested Compositions</em></a></li>
<li><a class="reference internal" href="#compositioninterfacemechanisms"><em>CompositionInterfaceMechanisms</em></a></li>
<li><a class="reference internal" href="#projections"><em>Projections</em></a></li>
<li><a class="reference internal" href="#pathways"><em>Pathways</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#controlling-a-composition">Controlling a Composition</a><ul>
<li><a class="reference internal" href="#assigning-a-controller"><em>Assigning a Controller</em></a></li>
<li><a class="reference internal" href="#controller-execution"><em>Controller Execution</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#learning-in-a-composition">Learning in a Composition</a><ul>
<li><a class="reference internal" href="#configuring-learning-in-a-composition"><em>Configuring Learning in a Composition</em></a></li>
<li><a class="reference internal" href="#learning-using-psyneulink-components"><em>Learning Using PsyNeuLink Components</em></a><ul>
<li><a class="reference internal" href="#unsupervised-learning">Unsupervised Learning</a></li>
<li><a class="reference internal" href="#supervised-learning">Supervised Learning</a><ul>
<li><a class="reference internal" href="#supervised-learning-methods"><em>Supervised Learning Methods</em></a></li>
<li><a class="reference internal" href="#supervised-learning-pathways"><em>Supervised Learning Pathways</em></a></li>
<li><a class="reference internal" href="#supervised-learning-components"><em>Supervised Learning Components</em></a></li>
<li><a class="reference internal" href="#execution-of-supervised-learning"><em>Execution of Supervised Learning</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#learning-rate">Learning Rate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#learning-using-autodiffcompositon"><em>Learning Using AutodiffCompositon</em></a></li>
<li><a class="reference internal" href="#comparison-of-learning-modes"><em>Comparison of Learning Modes</em></a></li>
<li><a class="reference internal" href="#learning-using-userdefinedfunctions"><em>Learning Using UserDefinedFunctions</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#executing-a-composition">Executing a Composition</a><ul>
<li><a class="reference internal" href="#composition-inputs"><em>Composition Inputs</em></a><ul>
<li><a class="reference internal" href="#input-formats-including-targets-for-learning"><em>Input formats (including targets for learning)</em></a><ul>
<li><a class="reference internal" href="#input-dictionary"><em>Input Dictionary</em></a></li>
<li><a class="reference internal" href="#specifying-inputs-programmatically"><em>Specifying Inputs Programmatically</em></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#execution-factors"><em>Execution Factors</em></a><ul>
<li><a class="reference internal" href="#runtime-parameters"><em>Runtime Parameters</em></a></li>
<li><a class="reference internal" href="#cycles-and-feedback"><em>Cycles and Feedback</em></a><ul>
<li><a class="reference internal" href="#cycles-and-synchronous-execution"><em>Cycles and Synchronous Execution</em></a></li>
<li><a class="reference internal" href="#feedback-and-sequential-execution"><em>Feedback and Sequential Execution</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#execution-contexts"><em>Execution Contexts</em></a></li>
<li><a class="reference internal" href="#timing"><em>Timing</em></a></li>
<li><a class="reference internal" href="#resetting-stateful-parameters"><em>Resetting Stateful Parameters</em></a></li>
<li><a class="reference internal" href="#compilation"><em>Compilation</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#results-reporting-and-logging"><em>Results, Reporting and Logging</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#visualizing-a-composition">Visualizing a Composition</a></li>
<li><a class="reference internal" href="#composition-examples">Composition Examples</a><ul>
<li><a class="reference internal" href="#composition-examples-creation"><em>Creating a Composition</em></a></li>
<li><a class="reference internal" href="#run-composition"><em>Run Composition</em></a></li>
<li><a class="reference internal" href="#learning"><em>Learning</em></a></li>
<li><a class="reference internal" href="#input-formats"><em>Input Formats</em></a><ul>
<li><a class="reference internal" href="#examples-of-input-dictionary-specifications">Examples of Input Dictionary Specifications</a></li>
<li><a class="reference internal" href="#examples-of-programmatic-input-specification">Examples of Programmatic Input Specification</a></li>
</ul>
</li>
<li><a class="reference internal" href="#composition-examples-cycles-feedback"><em>Cycles and Feedback</em></a></li>
<li><a class="reference internal" href="#composition-examples-runtime-params"><em>Runtime Parameters</em></a></li>
<li><a class="reference internal" href="#composition-examples-execution-context"><em>Execution Contexts</em></a></li>
<li><a class="reference internal" href="#reset-paramters-of-stateful-functions"><em>Reset Paramters of Stateful Functions</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#class-reference">Class Reference</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
         <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
         <script src="_static/jquery.js"></script>
         <script src="_static/underscore.js"></script>
         <script src="_static/doctools.js"></script>
     

  

  <script type="text/javascript" src="_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="_static/js/vendor/bootstrap.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <footer class="site-footer" id="docs-tutorials-resources">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://princetonuniversity.github.io/PsyNeuLink/" class="footer-logo"></a>
      </div>

  </footer>

  

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container mobile-logo-container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://princetonuniversity.github.io/PsyNeuLink/" aria-label="PsyNeuLink"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/PrincetonUniversity/PsyNeuLink">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      psyneulinkAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.psyneulink-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>